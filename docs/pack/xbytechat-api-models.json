{
  "name": "xbytechat-api/Models",
  "generatedAt": "2025-10-02 10:25:32 +00:00",
  "files": [
    {
      "path": "xbytechat-api/Models/ApiKey.cs",
      "sha256": "b569e20fb3e20480ea2bdaa70a3443985ddefb22b2ec7de4c6ae6d43792098a6",
      "language": "csharp",
      "size": 830,
      "content": "using System;\n\nnamespace xbytechat.api.Features.CustomeApi.Models\n{\n    public sealed class ApiKey\n    {\n        public Guid Id { get; set; }\n        public Guid BusinessId { get; set; }\n\n        public string Name { get; set; } = string.Empty;   // e.g. \"Zapier Prod Key\"\n        public string Prefix { get; set; } = string.Empty; // e.g. \"live_ABCD\"\n        public string SecretHash { get; set; } = string.Empty;\n\n        public string Scopes { get; set; } = \"direct.send\"; // comma- or space-separated scopes\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n        public DateTime? ExpiresAt { get; set; }\n        public DateTime? LastUsedAt { get; set; }\n        public bool IsRevoked { get; set; } = false;\n\n        public string? CreatedBy { get; set; }\n        public string? Notes { get; set; }\n    }\n}\n"
    },
    {
      "path": "xbytechat-api/Models/MessagesModel/MessageLog.cs",
      "sha256": "50eb32ef44ea2d8ffba6171f73e98847047c76dc619adb1ec7820eee0a229702",
      "language": "csharp",
      "size": 2823,
      "content": "using System;\nusing System.Collections.Generic;\nusing xbytechat.api.CRM.Models;\nusing xbytechat.api.Features.BusinessModule.Models;\nusing xbytechat.api.Features.CampaignModule.Models;\nusing xbytechat.api.Features.MessageManagement.DTOs;\n\npublic class MessageLog\n{\n    public Guid Id { get; set; }\n\n    public string? MessageId { get; set; } // WAMID from WhatsApp â€” alternate key\n                                           // public ICollection<MessageStatusLog> StatusUpdates { get; set; } = new List<MessageStatusLog>();\n    public Guid? RunId { get; set; }\n    // ðŸ”— FK to Business\n    public Guid BusinessId { get; set; }\n    public Business Business { get; set; }\n\n    // ðŸ“¨ Message Info\n    public string RecipientNumber { get; set; }\n    public string MessageContent { get; set; }\n    public string? MediaUrl { get; set; }\n\n    // ðŸ§¾ Status Info\n    public string Status { get; set; } = \"Queued\";\n    public string? ErrorMessage { get; set; }\n    public string? RawResponse { get; set; }\n\n    // ðŸ•’ Timestamps\n    public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n    public DateTime? SentAt { get; set; }\n\n    // ðŸ”— Contact (optional)\n    public Guid? ContactId { get; set; }\n    public Contact? Contact { get; set; }\n\n    // ðŸ”— Campaign (optional)\n    public Guid? CampaignId { get; set; }\n\n    // ðŸ”— CTA Flow Tracking\n    public Guid? CTAFlowConfigId { get; set; }  // Which visual flow config this message belongs to\n    public Guid? CTAFlowStepId { get; set; }    // Which flow step (template) this message originated from\n\n    public int? FlowVersion { get; set; }                // which version of the flow this message belongs to\n    public string? ButtonBundleJson { get; set; }\n\n    public Campaign? SourceCampaign { get; set; } // renamed from \"Campaign\" to avoid name conflict\n\n    public bool IsIncoming { get; set; }\n\n    public string? RenderedBody { get; set; } // actual resolved message with parameters\n\n    public Guid? RefMessageId { get; set; }\n    public string? Source { get; set; } // e.g., \"campaign\", \"flow\", \"manual\"\n\n\n    public string? Provider { get; set; }                     // \"Meta_cloud\", \"Pinnacle\", etc.\n    public string? ProviderMessageId { get; set; }            // e.g., \"wamid.HBg...\"; indexed\n    public bool? IsChargeable { get; set; }                 // true/false/unknown\n    public string? ConversationId { get; set; }               // provider conv id (Meta)\n    public string? ConversationCategory { get; set; }         // \"marketing\" | \"utility\" | \"authentication\" | \"service\" | \"free_entry\" | \"unknown\"\n    public DateTimeOffset? ConversationStartedAt { get; set; }\n    public decimal? PriceAmount { get; set; }                 // nullable until known\n    public string? PriceCurrency { get; set; }                // \"USD\", \"INR\", etc.\n}\n"
    },
    {
      "path": "xbytechat-api/Models/WhatsAppResult.cs",
      "sha256": "cd627fc7d90a4da1360bb14f8be3109068a83b746a1b782f257095f68ea5279d",
      "language": "csharp",
      "size": 220,
      "content": "namespace xbytechat.api.Models\n{\n    public class WhatsAppResult\n    {\n        public bool Success { get; set; }\n        public string? ErrorMessage { get; set; }\n        public string? RawResponse { get; set; }\n    }\n}\n"
    }
  ]
}
