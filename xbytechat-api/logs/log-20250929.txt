2025-09-29 00:00:05.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:30:05.8793697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:00:15.901 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:30:15.8991089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:00:25.920 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:30:25.9177941+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:11:18.709 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-28T18:41:18.6989730+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:11:28.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:41:28.9315089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:11:38.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:41:38.9384651+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:11:48.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:41:48.9635141+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:11:58.967 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:41:58.9658048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:08.980 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:42:08.9781430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:18.995 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-28T18:42:18.9913219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:29.007 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:42:29.0056681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:39.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:42:39.0124795+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:49.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:42:49.0229381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:12:59.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:42:59.0286915+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:09.048 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:43:09.0460122+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:19.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:43:19.0640339+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:29.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:43:29.0776795+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:39.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:43:39.0801156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:49.090 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:43:49.0878882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:13:59.186 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:43:59.1062038+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:09.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:09.1896181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:19.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:19.1990157+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:29.208 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:29.2058151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:39.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:39.2164889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:49.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:49.2222479+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:14:59.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:44:59.2277794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:09.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:45:09.2336992+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:19.244 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:45:19.2429144+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:29.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:45:29.2527147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:39.270 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-28T18:45:39.2652067+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:49.281 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:45:49.2790715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:15:59.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:45:59.2845374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:09.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:09.2909222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:19.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:19.3004584+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:29.315 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:29.3139479+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:39.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:39.3279001+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:49.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:49.3377868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:16:59.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:46:59.3549954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:09.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:47:09.3753546+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:19.388 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-28T18:47:19.3855604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:29.398 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:47:29.3963175+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:39.408 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-28T18:47:39.4026596+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:41.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:41.336 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:41.337 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.8335ms
2025-09-29 00:17:41.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:41.345 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:41.347 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:41.348 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 00:17:41.358 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 00:17:41.361 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:41.364 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.4704ms
2025-09-29 00:17:41.366 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:41.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.0147ms
2025-09-29 00:17:41.462 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:41.467 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:41.472 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.5974ms
2025-09-29 00:17:41.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:41.484 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:41.486 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:41.489 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 00:17:41.495 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 00:17:41.501 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:41.503 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.4927ms
2025-09-29 00:17:41.505 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:41.507 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.5161ms
2025-09-29 00:17:48.808 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 00:17:48.811 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.812 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.2232ms
2025-09-29 00:17:48.817 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 00:17:48.819 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.821 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 00:17:48.822 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 00:17:48.826 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 00:17:48.835 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 00:17:48.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 00:17:48.855 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 00:17:48.858 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 00:17:48.859 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 00:17:48.860 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 00:17:48.861 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:48.864 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 40.1049ms
2025-09-29 00:17:48.867 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 00:17:48.868 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 51.1715ms
2025-09-29 00:17:48.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:48.874 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.875 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4499ms
2025-09-29 00:17:48.879 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:48.882 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.883 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:48.884 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 00:17:48.888 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 00:17:48.892 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:48.893 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.595ms
2025-09-29 00:17:48.894 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:48.895 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.2594ms
2025-09-29 00:17:48.909 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:48.912 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.914 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.3483ms
2025-09-29 00:17:48.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:48.920 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:48.921 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:48.923 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 00:17:48.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 00:17:48.931 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:48.933 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.2376ms
2025-09-29 00:17:48.934 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:48.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.2155ms
2025-09-29 00:17:49.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 00:17:49.004 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:49.006 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:49.008 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 00:17:49.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 00:17:49.018 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 00:17:49.019 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.7138ms
2025-09-29 00:17:49.021 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 00:17:49.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.1666ms
2025-09-29 00:17:49.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:47:49.4258664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:17:57.466 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 00:17:57.468 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:57.474 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 7.9405ms
2025-09-29 00:17:57.484 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 00:17:57.487 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:17:57.488 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 00:17:57.491 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 00:17:57.504 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 00:17:57.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 00:17:57.510 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 17.368ms
2025-09-29 00:17:57.511 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 00:17:57.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 29.1011ms
2025-09-29 00:17:59.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:47:59.4361036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:06.287 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/8d961ae6-5e02-47e7-8303-78487871e328 - null null
2025-09-29 00:18:06.291 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:18:06.292 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/8d961ae6-5e02-47e7-8303-78487871e328 - 204 null null 4.8917ms
2025-09-29 00:18:06.296 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/8d961ae6-5e02-47e7-8303-78487871e328 - null 0
2025-09-29 00:18:06.299 +05:30 [INF] CORS policy execution successful.
2025-09-29 00:18:06.301 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 00:18:06.302 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 00:18:06.327 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__campaignId_0='8d961ae6-5e02-47e7-8303-78487871e328'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 00:18:06.335 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='8d961ae6-5e02-47e7-8303-78487871e328'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 00:18:06.339 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='8d961ae6-5e02-47e7-8303-78487871e328'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 00:18:06.347 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__flowId_Value_0='fa7ebd0b-b5d2-4d55-afb8-d968ead641bd', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_Value_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-29 00:18:06.353 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 00:18:06.356 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 00:18:06.357 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 00:18:07.504 +05:30 [INF] Received HTTP response headers after 1145.922ms - 200
2025-09-29 00:18:07.506 +05:30 [INF] End processing HTTP request after 1150.7994ms - 200
2025-09-29 00:18:07.686 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaign_CTAFlowConfigId_Value_0='fa7ebd0b-b5d2-4d55-afb8-d968ead641bd'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__campaign_CTAFlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-29 00:18:07.808 +05:30 [ERR] Error while sending text template campaign
System.InvalidOperationException: The instance of entity type 'Contact' cannot be tracked because another instance with the key value '{Id: 28070734-5dee-47a0-a2f1-d6e809c15458}' is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Microsoft.EntityFrameworkCore.DbContext.Attach[TEntity](TEntity entity)
   at xbytechat.api.Features.CampaignModule.Services.CampaignService.SendTextTemplateCampaignAsync(Campaign campaign) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\CampaignService.cs:line 2181
2025-09-29 00:18:07.829 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 00:18:07.831 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1526.3535ms
2025-09-29 00:18:07.833 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 00:18:07.834 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/8d961ae6-5e02-47e7-8303-78487871e328 - 400 null application/json; charset=utf-8 1537.462ms
2025-09-29 00:18:09.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:48:09.4385156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:19.451 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:48:19.4495393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:29.459 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:48:29.4571906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:39.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:48:39.4667891+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:49.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:48:49.4741208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:18:59.580 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-28T18:48:59.4908063+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:09.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:09.5867646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:19.590 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:19.5879093+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:29.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:29.5940302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:39.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:39.6031126+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:49.620 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:49.6178012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 00:19:59.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-28T18:49:59.6255911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:19:35.234 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 08:19:35.357 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 08:19:35.381 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 08:19:36.928 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 08:19:38.128 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 08:19:38.172 +05:30 [INF] ClickLogWorker started
2025-09-29 08:19:38.515 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 08:19:38.605 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[@__cutoff_0='2025-09-22T02:49:35.5938858Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 08:19:38.699 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 08:19:38.701 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 08:19:38.703 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 08:19:38.705 +05:30 [INF] Hosting environment: Development
2025-09-29 08:19:38.706 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 08:19:39.272 +05:30 [INF] ClickLogWorker stopped
2025-09-29 08:19:39.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 08:19:40.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 484.0779ms
2025-09-29 08:19:40.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 08:19:40.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 08:19:40.457 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.8301ms
2025-09-29 08:19:40.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.2451ms
2025-09-29 08:19:40.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 08:19:41.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 734.6033ms
2025-09-29 08:19:43.417 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__now_0='2025-09-29T02:49:43.1990405+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:19:48.249 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 08:19:48.336 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 08:19:48.369 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 08:19:48.426 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-29 08:19:48.434 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-29 08:19:50.150 +05:30 [INF] Received HTTP response headers after 1710.7482ms - 200
2025-09-29 08:19:50.153 +05:30 [INF] End processing HTTP request after 1731.265ms - 200
2025-09-29 08:19:50.397 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__providerKey_1='pinnacle'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 08:19:50.896 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p1='005f7851-ae6e-4fa9-8f54-beb8cd92276b', @p0='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p3='1821d66c-fb26-4c9c-ae9c-637698927546', @p2='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p5='1a2910fa-84aa-474a-8174-b799c98fbff6', @p4='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p7='1c000849-2790-447f-88a4-f5a19dc96926', @p6='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p9='1d5e446c-321a-4967-af0c-cd0e8d0268e5', @p8='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p11='1df5ec8b-e36d-438d-9bec-e8d4698df64a', @p10='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p13='347871a0-b1f9-49c7-a494-8df146b1a4e6', @p12='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p15='3bbfd722-61cf-445c-9d5f-2a7c672ad813', @p14='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p17='3cef57c5-0397-4ce6-a864-afe4109a7b36', @p16='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p19='40070956-4f23-40d3-a4a1-e23dd483ba02', @p18='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p21='4678725a-14c2-4a7d-9c47-eb5c238a6c7e', @p20='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p23='46cdca2c-1e94-4d83-8e36-bfcec81e2b7e', @p22='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p25='4f385d21-c035-435e-b352-d75b1e276b46', @p24='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p27='5110a9d7-ce2a-491c-98b8-f2c7d84be02b', @p26='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p29='5a12c8cf-76e4-4dc1-a281-77bbb2dbac73', @p28='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p31='6154a579-fab8-4eb9-a1f7-b0f5342aea7b', @p30='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p33='622ed49c-d677-4c6f-a2ab-6cb6ae3d49ff', @p32='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p35='643fd567-51c8-4fc8-9b32-36142aa42264', @p34='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p37='6cb81f1b-a149-48a4-a917-92f7d4ca1233', @p36='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p39='6e18fc61-5c74-4d0c-b2f6-81b8bdec772a', @p38='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p41='741fcb87-6fcd-42f1-bc8f-1a6f821590fa', @p40='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p43='78747243-4856-4560-ab7e-de8c63ae9753', @p42='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p47='9dc1ecc0-27e8-400a-8c2b-3705a332d516', @p44='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p45='{"name":"testing_1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/434020495_817759347145442_7459011205631203997_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=9OimBwZ6TT0Q7kNvwFlV_v7&_nc_oc=AdkFAUtCjtOVa2DaYRnrsssh0WXg1liuGWar6enLpGpneAImnL6fd4QGdsnuRxOYy84&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=TUhsqAL_VeZbA8624IrWbA&oh=01_Q5Aa2gH2B8l-PdY2fv716J9fAwz2XHPzRiR6NzWj6lY1YTN0pQ&oe=690178D9"]}},{"type":"BODY","text":"Dear User,\r\nTesting"}],"language":"en","status":"APPROVED","category":"MARKETING","id":"817759340478776"}' (Nullable = false), @p46='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p49='a837c77e-bcd3-4178-b7b9-032bbf63cc51', @p48='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p53='a9b97f70-ab05-492c-975a-7b6ee5eb0e6d', @p50='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p51='{"name":"tempalte_v1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/389521422_865429908351181_4208520018935703846_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=CeVwPf0GUckQ7kNvwFE5O9y&_nc_oc=AdkvDoc0s3IceRV2Ikl8i8-HnVZ8029V97sXiH_IKjlp-ltyrSS7mdozQJOYTvARzRM&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=TUhsqAL_VeZbA8624IrWbA&oh=01_Q5Aa2gF45MioW0QGYVNwGs8C8g-H5Ns0achJmG355foZfTivRQ&oe=690153FD"]}},{"type":"BODY","text":"Dear {{1}},\r\nThe Sale is live Now!!!!!!","example":{"body_text":[["name"]]}}],"language":"en","status":"APPROVED","category":"MARKETING","id":"865429905017848"}' (Nullable = false), @p52='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p55='b9d39738-1b3e-4cd5-824f-20d90829bc27', @p54='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p59='c2ab8631-3dd6-42ce-9252-88b97a6d5a32', @p56='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p57='{"name":"video_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/516018879_2829095420619582_8191240975323859564_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=LQmDN_EQ3iAQ7kNvwFcI6RM&_nc_oc=Adncv6MTgzATdeu1YC3An9uJ2aCqa3F37ZmYcjDtcRmrv2V1jSBI33X7laFqdnCSEzw&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=TUhsqAL_VeZbA8624IrWbA&oh=01_Q5Aa2gG0JO7R6C1MeFIrt9ymDYVskYtOQY8GS6OBJYheElIkqA&oe=6901809B"]}},{"type":"BODY","text":"Hello {{1}}👋\nAapka order successfully deliver ho chuka hai. 🚚✨\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊\nNeeche diye gaye options me se select karke bataye 👇","example":{"body_text":[["No"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","id":"2829095417286249"}' (Nullable = false), @p58='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p61='cc1fbb25-b689-46af-b9ab-dd079b69796b', @p60='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p63='d73052f7-cf7c-41c9-80fd-859b50a8b296', @p62='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p65='d9a658f1-aa9f-402c-8cd8-3e0a6f449c59', @p64='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p67='dd977d94-5945-47fe-9fb2-bd9677b6bacd', @p66='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p69='e0211c6f-8eb7-4292-b62b-813528e7ed8d', @p68='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p71='e4f5ff05-2904-4dac-9d81-e167456a9072', @p70='2025-09-29T02:49:48.3531714Z' (DbType = DateTime), @p73='f1bc02e3-a7a6-44e0-8c00-a2db666f7777', @p72='2025-09-29T02:49:48.3531714Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p0
WHERE "Id" = @p1;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p2
WHERE "Id" = @p3;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p4
WHERE "Id" = @p5;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p6
WHERE "Id" = @p7;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p8
WHERE "Id" = @p9;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p10
WHERE "Id" = @p11;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p12
WHERE "Id" = @p13;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p14
WHERE "Id" = @p15;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p16
WHERE "Id" = @p17;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p18
WHERE "Id" = @p19;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p20
WHERE "Id" = @p21;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p22
WHERE "Id" = @p23;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p24
WHERE "Id" = @p25;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p26
WHERE "Id" = @p27;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p28
WHERE "Id" = @p29;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p30
WHERE "Id" = @p31;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p32
WHERE "Id" = @p33;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p34
WHERE "Id" = @p35;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p36
WHERE "Id" = @p37;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p38
WHERE "Id" = @p39;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p40
WHERE "Id" = @p41;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p42
WHERE "Id" = @p43;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p44, "RawJson" = @p45, "UpdatedAt" = @p46
WHERE "Id" = @p47;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p48
WHERE "Id" = @p49;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p50, "RawJson" = @p51, "UpdatedAt" = @p52
WHERE "Id" = @p53;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p54
WHERE "Id" = @p55;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p56, "RawJson" = @p57, "UpdatedAt" = @p58
WHERE "Id" = @p59;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p60
WHERE "Id" = @p61;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p62
WHERE "Id" = @p63;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p64
WHERE "Id" = @p65;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p66
WHERE "Id" = @p67;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p68
WHERE "Id" = @p69;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p70
WHERE "Id" = @p71;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p72
WHERE "Id" = @p73;
2025-09-29 08:19:50.930 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=3 skipped=31 syncedAt="2025-09-29T02:49:48.3531714Z"
2025-09-29 08:19:50.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 08:19:50.948 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 08:19:50.961 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 08:19:50.963 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 08:19:51.686 +05:30 [INF] Received HTTP response headers after 722.5205ms - 401
2025-09-29 08:19:51.689 +05:30 [INF] End processing HTTP request after 727.3837ms - 401
2025-09-29 08:19:51.694 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 08:19:51.700 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:50.9460482Z"
2025-09-29 08:19:51.704 +05:30 [INF] TemplateSyncWorker: sweep finished in 3515 ms; processed=2; next run ~"2025-09-29T08:49:48.1895831Z"
2025-09-29 08:19:53.428 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:49:53.4234584+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:03.440 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:50:03.4373216+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:13.466 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:50:13.4597413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:23.476 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:50:23.4726673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:33.491 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:50:33.4878953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:43.512 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:50:43.5086982+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:20:46.157 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 08:20:46.166 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 08:20:46.238 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:46.242 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 85.2657ms
2025-09-29 08:20:46.257 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 08:20:46.271 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:46.358 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 08:20:46.394 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 08:20:46.458 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 08:20:46.596 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 08:20:46.717 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 08:20:46.920 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 08:20:46.937 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 08:20:47.015 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 08:20:47.018 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 08:20:47.028 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:20:47.043 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 639.9024ms
2025-09-29 08:20:47.046 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 08:20:47.056 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 798.9416ms
2025-09-29 08:20:47.061 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:20:47.070 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:47.071 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.8668ms
2025-09-29 08:20:47.076 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:20:47.082 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:47.141 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.150 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:20:47.170 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 08:20:47.207 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:20:47.213 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:20:47.232 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 78.8679ms
2025-09-29 08:20:47.235 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 161.2775ms
2025-09-29 08:20:47.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:20:47.263 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:47.265 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.8889ms
2025-09-29 08:20:47.274 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:20:47.279 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:47.287 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.289 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:20:47.299 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:20:47.304 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:20:47.307 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.9091ms
2025-09-29 08:20:47.309 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.312 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 37.9464ms
2025-09-29 08:20:47.388 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:20:47.393 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:20:47.398 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.400 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:20:47.411 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:20:47.417 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:20:47.420 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 16.1489ms
2025-09-29 08:20:47.422 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:20:47.425 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.786ms
2025-09-29 08:20:53.527 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T02:50:53.5223519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:03.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:03.5323560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:13.545 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:13.5417344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:23.559 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:23.5551630+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:33.567 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:33.5637504+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:43.577 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:43.5743570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:21:50.665 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 08:21:50.668 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 08:21:50.671 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.677 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 11.2745ms
2025-09-29 08:21:50.677 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.682 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 08:21:50.683 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 15.3918ms
2025-09-29 08:21:50.687 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.691 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 08:21:50.693 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 08:21:50.696 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.699 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.701 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 08:21:50.705 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 08:21:50.718 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 08:21:50.732 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 08:21:50.737 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 08:21:50.754 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 46.4027ms
2025-09-29 08:21:50.757 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.759 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 68.1921ms
2025-09-29 08:21:50.769 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-29 08:21:50.778 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 73.9408ms
2025-09-29 08:21:50.780 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 08:21:50.782 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 100.1452ms
2025-09-29 08:21:50.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 08:21:50.808 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 08:21:50.810 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.813 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.815 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 8.5143ms
2025-09-29 08:21:50.816 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 7.3685ms
2025-09-29 08:21:50.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 08:21:50.829 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.831 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.832 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 08:21:50.839 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 08:21:50.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 08:21:50.846 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 11.3811ms
2025-09-29 08:21:50.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 08:21:50.849 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.852 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:21:50.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 28.8759ms
2025-09-29 08:21:50.855 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.860 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 08:21:50.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 08:21:50.873 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 08:21:50.875 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 12.2671ms
2025-09-29 08:21:50.877 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 08:21:50.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 31.5922ms
2025-09-29 08:21:53.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:51:53.5907591+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:00.125 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 08:22:00.130 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:00.132 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 7.0838ms
2025-09-29 08:22:00.139 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - application/json 178
2025-09-29 08:22:00.144 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:00.146 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api)'
2025-09-29 08:22:00.153 +05:30 [INF] Route matched with {action = "Upsert", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upsert(System.String, UpsertRequest) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 08:22:00.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
LIMIT 1
2025-09-29 08:22:00.204 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerForChild_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerForChild_1 AND w."PhoneNumberId" = @__phoneNumberId_2
LIMIT 1
2025-09-29 08:22:00.279 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='99d38318-1ceb-4a43-88c5-5277be5bd537', @p0='2025-09-29T02:52:00.1769008Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppPhoneNumbers" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
2025-09-29 08:22:00.327 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerForChild_1='META_CLOUD', @__entity_Id_2='99d38318-1ceb-4a43-88c5-5277be5bd537'], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppPhoneNumbers" AS w
SET "IsDefault" = FALSE
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerForChild_1 AND w."Id" <> @__entity_Id_2
2025-09-29 08:22:00.340 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='2025-09-29T02:52:00.1769008Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
2025-09-29 08:22:00.348 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber'.
2025-09-29 08:22:00.350 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api) in 193.8705ms
2025-09-29 08:22:00.352 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api)'
2025-09-29 08:22:00.354 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 214.9829ms
2025-09-29 08:22:01.361 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-29 08:22:01.371 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:01.374 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 13.0133ms
2025-09-29 08:22:01.382 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 563
2025-09-29 08:22:01.386 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:01.389 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 08:22:01.394 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 08:22:01.421 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-29 08:22:01.448 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPuSy9bC47E3KhwyxElZCuwC3EwJydWXfhb6oPoHU3XA2UcEOQNl3ZAz8klcvEm94ZCEPbQQnaPZAZBRu04Jxw6Sd6c8wCPK8YyGdkd0rAKP9Pv9SMwTuQZA3ZA0ibfZCvBndXAB8muGBcKhwD4kpBwPJWpPcPIwhxj5QIhP8g8Ot6NNvbPIFFso37ZBHhqFFAegGVXbWUYXrQscjFgxKpjm0IUo4FJeLH4Em0QkrqZChtNi04EU27PMwHS' (Nullable = false), @p1='2025-09-29T02:52:01.4276739Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-29 08:22:01.453 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:22:01.457 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 60.2544ms
2025-09-29 08:22:01.460 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 08:22:01.462 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 79.541ms
2025-09-29 08:22:03.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:52:03.5988725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:13.617 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:52:13.6144159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:15.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 08:22:15.254 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:15.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 9.4009ms
2025-09-29 08:22:15.265 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 08:22:15.271 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:15.274 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 08:22:15.281 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 08:22:15.354 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 08:22:15.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 08:22:15.368 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 83.825ms
2025-09-29 08:22:15.371 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 08:22:15.373 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 108.5278ms
2025-09-29 08:22:23.625 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:52:23.6230053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:33.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null null
2025-09-29 08:22:33.490 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:33.492 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 204 null null 19.296ms
2025-09-29 08:22:33.501 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null 0
2025-09-29 08:22:33.506 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:22:33.508 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:22:33.514 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 08:22:33.639 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:52:33.6365086+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:33.643 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 08:22:33.702 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:22:33.717 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:22:33.766 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-29 08:22:33.793 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__flowId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_Value_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-29 08:22:33.893 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:22:33.897 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:22:33.899 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:22:35.091 +05:30 [INF] Received HTTP response headers after 1189.5451ms - 200
2025-09-29 08:22:35.094 +05:30 [INF] End processing HTTP request after 1196.8ms - 200
2025-09-29 08:22:35.268 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaign_CTAFlowConfigId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__campaign_CTAFlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-29 08:22:35.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:22:35.568 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:22:35.583 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:22:35.586 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:22:37.343 +05:30 [INF] Received HTTP response headers after 1756.0146ms - 200
2025-09-29 08:22:37.346 +05:30 [INF] End processing HTTP request after 1762.1527ms - 200
2025-09-29 08:22:37.485 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__messageLogId_0='905a7a0e-dcb2-4adb-8566-07d1bad507dd', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 08:22:37.665 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p2='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p0='2025-09-29T02:52:35.2894951Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T02:52:35.2894951Z' (DbType = DateTime), @p3='905a7a0e-dcb2-4adb-8566-07d1bad507dd', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p6='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p7='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p8='aa3716d5-c237-4c6c-8e02-434e4607ce85' (Nullable = true), @p9='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T02:52:35.2894951Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18=NULL, @p19='template_1' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28=NULL, @p29='e5f3e543-4e7c-4a33-9a30-7e2fae32f6ff' (Nullable = true), @p30='2025-09-29T02:52:35.2894951Z' (Nullable = true) (DbType = DateTime), @p31='campaign', @p32='Sent' (Nullable = false), @p33='d6b34b27-18d2-4049-8ac6-db8aa735e24a', @p34='9841bcab-ca71-439f-8691-d85ada887b01', @p35=NULL, @p36=NULL, @p37='2025-09-29T02:52:37.4897348+00:00' (DbType = DateTime), @p38='send_response' (Nullable = false), @p39=NULL (DbType = Boolean), @p40='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p41='2025-09-29T02:52:37.4903058+00:00' (DbType = DateTime), @p42='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","message_status":"accepted"}]}' (Nullable = false), @p43=NULL (DbType = Decimal), @p44=NULL, @p45='META_CLOUD' (Nullable = false), @p46='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
2025-09-29 08:22:37.853 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='e5b99d26-c677-4d6d-a998-dccad1f67d3f', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p5='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p6='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p7='aa3716d5-c237-4c6c-8e02-434e4607ce85', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T02:52:35.2894951Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='This is the Template : 1' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==', @p26='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p29='0', @p30='e5f3e543-4e7c-4a33-9a30-7e2fae32f6ff' (Nullable = true), @p31='Sent', @p32='2025-09-29T02:52:35.2894951Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='template_1', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 08:22:37.861 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 08:22:37.874 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 4356.8026ms
2025-09-29 08:22:37.877 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:22:37.878 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 200 null application/json; charset=utf-8 4377.2643ms
2025-09-29 08:22:43.660 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:52:43.6567386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:22:53.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:52:53.6697434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:03.681 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:53:03.6787467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:13.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:53:13.6904393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:23.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:53:23.6992949+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:33.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:53:33.7069220+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:43.722 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:53:43.7202201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:23:53.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:53:53.7308729+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:03.746 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:54:03.7440619+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:13.760 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:54:13.7576372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:23.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:54:23.7700324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:33.786 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:54:33.7833326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:43.888 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T02:54:43.7937448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:24:53.895 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:54:53.8927645+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:03.911 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:55:03.9082298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:13.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:55:13.9178535+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:23.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:55:23.9266141+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:33.946 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:55:33.9439542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:43.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:55:43.9577683+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:25:53.970 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:55:53.9679012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:03.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:56:03.9809419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:13.983 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:56:13.9806008+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:23.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:56:23.9896263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:34.003 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:56:34.0000635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:44.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:56:44.0168046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:26:54.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:56:54.0320187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:04.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:57:04.0398438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:14.055 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:57:14.0530187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:24.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:57:24.0602024+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:34.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:57:34.0730758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:39.445 +05:30 [INF] Request starting HTTP/1.1 GET http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1137099318&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - null null
2025-09-29 08:27:39.478 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-29 08:27:39.485 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:27:39.492 +05:30 [INF] ✅ WhatsApp webhook verified successfully.
2025-09-29 08:27:39.494 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-09-29 08:27:39.495 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 8.0865ms
2025-09-29 08:27:39.497 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-29 08:27:39.499 +05:30 [INF] Request finished HTTP/1.1 GET http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1137099318&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - 200 null text/plain; charset=utf-8 54ms
2025-09-29 08:27:44.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:57:44.0797635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:27:54.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:57:54.0961424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:02.271 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 621
2025-09-29 08:28:02.276 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:02.280 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:28:02.312 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDQ0QTQzMURFODZCNkZGNkNCOQA=","timestamp":"1759114683","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 08:28:02.320 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:28:02.322 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:28:02.327 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 44.8031ms
2025-09-29 08:28:02.329 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:02.331 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 60.2715ms
2025-09-29 08:28:02.478 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDQ0QTQzMURFODZCNkZGNkNCOQA=","timestamp":"1759114683","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 08:28:02.481 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-29 08:28:02.495 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-29 08:28:02.497 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDQ0QTQzMURFODZCNkZGNkNCOQA=, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==, Text: Show Me Template 2
2025-09-29 08:28:02.512 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-29 08:28:02.527 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__origin_Id_0='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-29 08:28:02.541 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-29 08:28:02.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-29 08:28:02.562 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2", step="e716e49a-f961-4336-8504-25c58f4a56aa")
2025-09-29 08:28:02.576 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sourceStepId_0='e716e49a-f961-4336-8504-25c58f4a56aa', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-29 08:28:02.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-29 08:28:02.648 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='96f8dc8a-e173-4f81-9cc4-a3ccd0d96eee', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3='e5b99d26-c677-4d6d-a998-dccad1f67d3f' (Nullable = true), @p4='918974005240', @p5=NULL, @p6='2025-09-29T02:58:02.5915454Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p9=NULL, @p10='623e2f7b-4697-4f53-b5f0-0a4504f6f5ab' (Nullable = true), @p11='e5f3e543-4e7c-4a33-9a30-7e2fae32f6ff' (Nullable = true), @p12='e716e49a-f961-4336-8504-25c58f4a56aa', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Show Me Template 2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-29 08:28:02.663 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignSendLogId_Value_0='e5b99d26-c677-4d6d-a998-dccad1f67d3f'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Provider", c0."PhoneNumberId"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
WHERE c."Id" = @__campaignSendLogId_Value_0
LIMIT 1
2025-09-29 08:28:02.690 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_context_TargetStepId_0='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @__8__locals1_context_FlowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-29 08:28:02.698 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:28:02.701 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:28:02.703 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:28:04.115 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:58:04.1125124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:04.226 +05:30 [INF] Received HTTP response headers after 1521.6653ms - 200
2025-09-29 08:28:04.242 +05:30 [INF] End processing HTTP request after 1541.3362ms - 200
2025-09-29 08:28:04.251 +05:30 [INF] ➡️ SEND-INTENT flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2" step="97426991-9bfb-42a4-b00b-2d52476b8f79" tmpl=template_2 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-29 08:28:04.260 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:28:04.266 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:28:04.273 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:28:04.276 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:28:06.224 +05:30 [INF] Received HTTP response headers after 1946.206ms - 200
2025-09-29 08:28:06.226 +05:30 [INF] End processing HTTP request after 1953.3759ms - 200
2025-09-29 08:28:06.252 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='1297db67-558e-4d68-9504-4e4e6a67d9d1', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T02:58:06.2447383Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='12d595b8-cfe2-4b1f-9e05-d946a966a774' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","message_status":"accepted"}]}', @p10='61ce0eb7-eb3e-4156-b362-cf8e12abf325' (Nullable = true), @p11=NULL (DbType = Guid), @p12='97426991-9bfb-42a4-b00b-2d52476b8f79', @p13='template_2' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='12d595b8-cfe2-4b1f-9e05-d946a966a774', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 1","ty":"QUICK_REPLY","v":"","ns":"e716e49a-f961-4336-8504-25c58f4a56aa"}]', @p22='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p23='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-29T02:58:06.2436837Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_2' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-29T02:58:06.2436854Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-29 08:28:07.605 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:28:07.610 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:07.612 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:28:07.617 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"sent","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","expiration_timestamp":"1759114689","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:28:07.620 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:28:07.622 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:28:07.624 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"sent","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","expiration_timestamp":"1759114689","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:28:07.624 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 9.3121ms
2025-09-29 08:28:07.628 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:07.631 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 25.5991ms
2025-09-29 08:28:07.652 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 08:28:07.659 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:28:07.687 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:28:07.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ddc658dd23f95e67a9751cf77d6462ec'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:28:07.709 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='6fbecb75-a572-4350-9fee-7f484482089c', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ddc658dd23f95e67a9751cf77d6462ec', @p4='2025-09-29T02:58:07.6715061+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:58:07.6697888+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"sent","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","expiration_timestamp":"1759114689","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:28:16.401 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:28:16.413 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:16.414 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:28:16.418 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"delivered","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:28:16.401 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T02:58:16.3971902+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:16.423 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:28:16.427 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:28:16.429 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 11.6152ms
2025-09-29 08:28:16.431 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:28:16.433 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 31.6994ms
2025-09-29 08:28:16.525 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:28:16.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:28:16.555 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"delivered","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:28:16.557 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:28:16.562 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:28:16.567 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ddc658dd23f95e67a9751cf77d6462ec'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:28:16.572 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='84fc2cf5-550b-4773-932d-d67044076ca5', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ddc658dd23f95e67a9751cf77d6462ec', @p4='2025-09-29T02:58:16.5587250+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:58:16.5587029+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"delivered","timestamp":"1759114689","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:28:25.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:28:25.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:28:25.626 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p1='12d595b8-cfe2-4b1f-9e05-d946a966a774', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 08:28:26.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:58:26.4271921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:36.443 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:58:36.4411371+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:46.452 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:58:46.4499297+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:28:56.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:58:56.4676225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:29:06.480 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T02:59:06.4779374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:29:06.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null null
2025-09-29 08:29:06.739 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:29:06.740 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 204 null null 6.0803ms
2025-09-29 08:29:06.745 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null 0
2025-09-29 08:29:06.748 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:29:06.750 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:29:06.751 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 08:29:06.769 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 08:29:06.781 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:29:06.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:29:06.798 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__flowId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_Value_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-29 08:29:06.805 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:29:06.810 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:29:06.812 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:29:07.632 +05:30 [INF] Received HTTP response headers after 817.6309ms - 200
2025-09-29 08:29:07.636 +05:30 [INF] End processing HTTP request after 825.5069ms - 200
2025-09-29 08:29:07.718 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaign_CTAFlowConfigId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__campaign_CTAFlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-29 08:29:07.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:29:07.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:29:07.736 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:29:07.739 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:29:09.027 +05:30 [INF] Received HTTP response headers after 1286.5952ms - 200
2025-09-29 08:29:09.030 +05:30 [INF] End processing HTTP request after 1293.1422ms - 200
2025-09-29 08:29:09.040 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='71f16373-22e8-421a-87cd-255f1763f94a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 08:29:09.052 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p0='2025-09-29T02:59:07.7236745Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T02:59:07.7236745Z' (DbType = DateTime), @p3='71f16373-22e8-421a-87cd-255f1763f94a', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p6='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p7='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p8='aa3716d5-c237-4c6c-8e02-434e4607ce85' (Nullable = true), @p9='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T02:59:07.7236745Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18=NULL, @p19='template_1' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28=NULL, @p29='94e94514-d32f-4fb1-b041-d524aec0f960' (Nullable = true), @p30='2025-09-29T02:59:07.7236745Z' (Nullable = true) (DbType = DateTime), @p31='campaign', @p32='Sent' (Nullable = false), @p33='086d1396-a481-469d-9eb8-92d9f8a389eb', @p34='9841bcab-ca71-439f-8691-d85ada887b01', @p35=NULL, @p36=NULL, @p37='2025-09-29T02:59:09.0449027+00:00' (DbType = DateTime), @p38='send_response' (Nullable = false), @p39=NULL (DbType = Boolean), @p40='71f16373-22e8-421a-87cd-255f1763f94a' (Nullable = true), @p41='2025-09-29T02:59:09.0449040+00:00' (DbType = DateTime), @p42='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","message_status":"accepted"}]}' (Nullable = false), @p43=NULL (DbType = Decimal), @p44=NULL, @p45='META_CLOUD' (Nullable = false), @p46='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
2025-09-29 08:29:09.063 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='00553347-32ec-4f24-b13c-41eeebca2d27', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p5='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p6='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p7='aa3716d5-c237-4c6c-8e02-434e4607ce85', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T02:59:07.7236745Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='This is the Template : 1' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==', @p26='71f16373-22e8-421a-87cd-255f1763f94a' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p29='0', @p30='94e94514-d32f-4fb1-b041-d524aec0f960' (Nullable = true), @p31='Sent', @p32='2025-09-29T02:59:07.7236745Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='template_1', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 08:29:09.069 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 08:29:09.072 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 2318.2838ms
2025-09-29 08:29:09.075 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:29:09.077 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 200 null application/json; charset=utf-8 2332.2167ms
2025-09-29 08:29:10.380 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:29:10.385 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:10.387 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:10.391 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"sent","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","expiration_timestamp":"1759114752","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:10.394 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:10.395 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"sent","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","expiration_timestamp":"1759114752","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:10.396 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:10.398 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:10.400 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 9.4075ms
2025-09-29 08:29:10.405 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:10.406 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:10.408 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 28.0293ms
2025-09-29 08:29:10.414 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='eb363d4583960efb5a0111fb659d3d4c'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:10.426 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='2592914d-a297-413a-88ef-4947fb0cd949', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='eb363d4583960efb5a0111fb659d3d4c', @p4='2025-09-29T02:59:10.4028333+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:10.4027813+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"sent","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","expiration_timestamp":"1759114752","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:17.577 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:29:17.592 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:29:17.595 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__now_0='2025-09-29T02:59:17.5797627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:29:17.594 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:29:17.599 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:17.602 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:29:17.609 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.613 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.621 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:17.629 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.631 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:17.633 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:17.634 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:17.640 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:17.644 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:17.656 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:17.652 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:17.654 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:17.649 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:17.656 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:17.657 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:17.660 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:17.663 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:17.665 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:17.667 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:17.670 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 26.4839ms
2025-09-29 08:29:17.681 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:17.675 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:17.682 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.672 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:17.686 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='eb363d4583960efb5a0111fb659d3d4c'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:17.674 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:17.690 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 112.1839ms
2025-09-29 08:29:17.688 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 39.1485ms
2025-09-29 08:29:17.691 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 39.713ms
2025-09-29 08:29:17.698 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 44.1733ms
2025-09-29 08:29:17.706 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.708 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.711 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:17.713 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 120.5705ms
2025-09-29 08:29:17.715 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='594ff521-ee93-410d-90de-7f665d658f91', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='eb363d4583960efb5a0111fb659d3d4c', @p4='2025-09-29T02:59:17.6784466+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:17.6784214+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:17.715 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 121.5436ms
2025-09-29 08:29:17.717 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 114.975ms
2025-09-29 08:29:20.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:20.709 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:20.723 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='00553347-32ec-4f24-b13c-41eeebca2d27', @p0='2025-09-29T02:59:12.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Delivered', @p4='71f16373-22e8-421a-87cd-255f1763f94a', @p3='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "DeliveredAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:29:20.730 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:20.732 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:20.737 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:20.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='eb363d4583960efb5a0111fb659d3d4c'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:20.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='9a6c3e78-90db-4076-a1de-000fb18f2e9a', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='eb363d4583960efb5a0111fb659d3d4c', @p4='2025-09-29T02:59:20.7342334+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:20.7342126+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:22.874 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:22.881 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:22.891 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='00553347-32ec-4f24-b13c-41eeebca2d27', @p0='2025-09-29T02:59:12.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Read', @p4='71f16373-22e8-421a-87cd-255f1763f94a', @p3='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "ReadAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:29:22.917 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:22.919 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:22.924 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:22.932 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ddc658dd23f95e67a9751cf77d6462ec'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:22.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='f63eaf3b-ddc0-423f-a077-09549acd4fb2', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ddc658dd23f95e67a9751cf77d6462ec', @p4='2025-09-29T02:59:22.9219705+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:22.9219393+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA==","status":"read","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"ddc658dd23f95e67a9751cf77d6462ec","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:23.739 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:23.745 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOEE5QUM2MTgyNEU1RDlEMTcwAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:23.753 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='12d595b8-cfe2-4b1f-9e05-d946a966a774', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 08:29:23.757 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:23.759 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:23.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:23.771 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='eb363d4583960efb5a0111fb659d3d4c'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:23.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='bde3eb5a-c000-4296-81db-da2446bcae1f', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='eb363d4583960efb5a0111fb659d3d4c', @p4='2025-09-29T02:59:23.7613059+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:23.7612879+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA==","status":"delivered","timestamp":"1759114752","recipient_id":"918974005240","conversation":{"id":"eb363d4583960efb5a0111fb659d3d4c","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:25.624 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:25.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMUQxQkVEMjA4QjlGMEVERUI0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:27.633 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T02:59:27.6315217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:29:35.871 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:29:35.876 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:35.878 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:29:35.881 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"sent","timestamp":"1759114360","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","expiration_timestamp":"1759114360","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:35.884 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:29:35.884 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"sent","timestamp":"1759114360","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","expiration_timestamp":"1759114360","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:29:35.885 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:29:35.886 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:29:35.888 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 7.2894ms
2025-09-29 08:29:35.893 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:35.894 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:29:35.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ee7d3731cc2c3eec2627322c91671472'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:29:35.900 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 28.6695ms
2025-09-29 08:29:35.922 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='b797978f-685d-4694-9804-1a6478d446c1', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ee7d3731cc2c3eec2627322c91671472', @p4='2025-09-29T02:59:35.8903821+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T02:59:35.8903674+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"sent","timestamp":"1759114360","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","expiration_timestamp":"1759114360","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:29:59.787 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:29:59.787 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='2025-09-29T02:59:59.7710958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:29:59.798 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:30:05.359 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:30:05.366 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:30:05.368 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:30:05.371 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"delivered","timestamp":"1759114362","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:30:05.374 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:30:05.375 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"delivered","timestamp":"1759114362","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:30:05.376 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:30:05.378 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:30:05.380 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.9595ms
2025-09-29 08:30:05.385 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:30:05.385 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:30:05.391 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ee7d3731cc2c3eec2627322c91671472'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:30:05.391 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 32.2494ms
2025-09-29 08:30:05.397 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='70c9da56-68f2-4f98-8a6a-ffcd7fb42908', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ee7d3731cc2c3eec2627322c91671472', @p4='2025-09-29T03:00:05.3817280+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:00:05.3817081+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"delivered","timestamp":"1759114362","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:30:07.195 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:30:07.200 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:30:07.207 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='e5b99d26-c677-4d6d-a998-dccad1f67d3f', @p0='2025-09-29T02:52:42.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Delivered', @p4='905a7a0e-dcb2-4adb-8566-07d1bad507dd', @p3='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "DeliveredAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:30:09.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:00:09.8156469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:30:19.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:00:19.8257678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:30:29.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:00:29.8432262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:30:32.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:30:32.027 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.6252ms
2025-09-29 08:30:32.038 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:30:32.043 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.045 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.047 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:30:32.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:30:32.058 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:30:32.061 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.3164ms
2025-09-29 08:30:32.063 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.5212ms
2025-09-29 08:30:32.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:30:32.178 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.179 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.0502ms
2025-09-29 08:30:32.184 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:30:32.188 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.190 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.192 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:30:32.198 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:30:32.203 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:30:32.205 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.9744ms
2025-09-29 08:30:32.208 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.1689ms
2025-09-29 08:30:32.268 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 08:30:32.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 08:30:32.272 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.275 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.277 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 8.8769ms
2025-09-29 08:30:32.279 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 08:30:32.285 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 08:30:32.289 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:32.295 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 08:30:32.298 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 08:30:32.300 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 08:30:32.304 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:30:32.309 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 17.1089ms
2025-09-29 08:30:32.315 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 08:30:32.315 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 08:30:32.319 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 08:30:32.320 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 50.3033ms
2025-09-29 08:30:32.322 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 14.8465ms
2025-09-29 08:30:32.329 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 08:30:32.331 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 48.0064ms
2025-09-29 08:30:39.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:00:39.8653105+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:30:45.256 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null null
2025-09-29 08:30:45.262 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:45.263 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 204 null null 7.373ms
2025-09-29 08:30:45.269 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null 0
2025-09-29 08:30:45.274 +05:30 [INF] CORS policy execution successful.
2025-09-29 08:30:45.276 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:30:45.277 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 08:30:45.283 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 08:30:45.292 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:30:45.297 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 08:30:45.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_Value_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-29 08:30:45.310 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:30:45.314 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:30:45.316 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:30:46.924 +05:30 [INF] Received HTTP response headers after 1606.3013ms - 200
2025-09-29 08:30:46.926 +05:30 [INF] End processing HTTP request after 1611.9661ms - 200
2025-09-29 08:30:47.032 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaign_CTAFlowConfigId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__campaign_CTAFlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-29 08:30:47.039 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:30:47.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:30:47.048 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:30:47.049 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:30:48.801 +05:30 [INF] Received HTTP response headers after 1750.4052ms - 200
2025-09-29 08:30:48.804 +05:30 [INF] End processing HTTP request after 1756.0412ms - 200
2025-09-29 08:30:48.808 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='bee334a3-887d-4d72-a162-8a5e886520ca', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 08:30:48.816 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p0='2025-09-29T03:00:47.0358029Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T03:00:47.0358029Z' (DbType = DateTime), @p3='bee334a3-887d-4d72-a162-8a5e886520ca', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p6='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p7='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p8='aa3716d5-c237-4c6c-8e02-434e4607ce85' (Nullable = true), @p9='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T03:00:47.0358029Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18=NULL, @p19='template_1' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28=NULL, @p29='15d8c97f-b15b-4623-9d15-597411df9c07' (Nullable = true), @p30='2025-09-29T03:00:47.0358029Z' (Nullable = true) (DbType = DateTime), @p31='campaign', @p32='Sent' (Nullable = false), @p33='8dd16cdf-65f4-4137-9762-9d91dc34ec4e', @p34='9841bcab-ca71-439f-8691-d85ada887b01', @p35=NULL, @p36=NULL, @p37='2025-09-29T03:00:48.8121174+00:00' (DbType = DateTime), @p38='send_response' (Nullable = false), @p39=NULL (DbType = Boolean), @p40='bee334a3-887d-4d72-a162-8a5e886520ca' (Nullable = true), @p41='2025-09-29T03:00:48.8121188+00:00' (DbType = DateTime), @p42='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","message_status":"accepted"}]}' (Nullable = false), @p43=NULL (DbType = Decimal), @p44=NULL, @p45='META_CLOUD' (Nullable = false), @p46='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
2025-09-29 08:30:48.831 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='2a5fad54-da16-451d-94f0-c6a25556a08e', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p5='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p6='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p7='aa3716d5-c237-4c6c-8e02-434e4607ce85', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T03:00:47.0358029Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='This is the Template : 1' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==', @p26='bee334a3-887d-4d72-a162-8a5e886520ca' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p29='0', @p30='15d8c97f-b15b-4623-9d15-597411df9c07' (Nullable = true), @p31='Sent', @p32='2025-09-29T03:00:47.0358029Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='template_1', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 08:30:48.835 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 08:30:48.837 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 3557.4432ms
2025-09-29 08:30:48.839 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 08:30:48.841 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 200 null application/json; charset=utf-8 3571.6234ms
2025-09-29 08:30:49.883 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:00:49.8806954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:30:49.954 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:30:49.959 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:30:49.961 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:30:49.965 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"sent","timestamp":"1759114851","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","expiration_timestamp":"1759114851","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:30:49.966 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:30:49.967 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"sent","timestamp":"1759114851","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","expiration_timestamp":"1759114851","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:30:49.968 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:30:49.972 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 08:30:49.972 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.0412ms
2025-09-29 08:30:49.975 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:30:49.977 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:30:49.980 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:30:49.981 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 26.6622ms
2025-09-29 08:30:49.987 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='00ea317dea6b4a5b570346c95c52570b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:30:49.998 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='e90e4ca3-5c94-4b39-a0c5-9ce56f928c9a', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='00ea317dea6b4a5b570346c95c52570b', @p4='2025-09-29T03:00:49.9785604+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:00:49.9785429+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"sent","timestamp":"1759114851","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","expiration_timestamp":"1759114851","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:30:53.244 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:31:01.450 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:31:01.454 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:31:01.466 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:31:01.467 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:31:01.473 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"delivered","timestamp":"1759114852","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:31:01.476 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:31:01.476 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"delivered","timestamp":"1759114852","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:31:01.477 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:31:01.479 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:31:01.481 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.1828ms
2025-09-29 08:31:01.485 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:31:01.486 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:31:01.492 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='00ea317dea6b4a5b570346c95c52570b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:31:01.492 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 8248.5026ms
2025-09-29 08:31:01.498 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='6322ffbc-4845-4e5d-9cea-84fbd815917b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='00ea317dea6b4a5b570346c95c52570b', @p4='2025-09-29T03:01:01.4829083+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:01:01.4828816+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"delivered","timestamp":"1759114852","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:31:02.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:31:02.494 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:31:02.497 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:01:01.4477697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:31:02.502 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='2a5fad54-da16-451d-94f0-c6a25556a08e', @p0='2025-09-29T03:00:52.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Delivered', @p4='bee334a3-887d-4d72-a162-8a5e886520ca', @p3='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "DeliveredAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:31:12.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:01:12.5045394+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:31:22.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:01:22.5164326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:31:32.534 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:01:32.5316848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:31:42.548 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:01:42.5459584+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:31:52.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:01:52.5590614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:02.576 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:02:02.5738953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:12.595 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:02:12.5921545+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:22.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:02:22.5999400+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:32.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:02:32.6155828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:42.640 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T03:02:42.6366075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:32:52.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:02:52.6484115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:33:02.657 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:03:02.6551982+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:33:12.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:03:12.6673094+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:33:17.880 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 621
2025-09-29 08:33:17.884 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:17.885 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:33:17.889 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDIzMEE4NEJDOEYwOUM2MjNEQwA=","timestamp":"1759114587","type":"button","button":{"payload":"Show Me Template 3","text":"Show Me Template 3"}}]},"field":"messages"}]}]}
2025-09-29 08:33:17.891 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:33:17.892 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDIzMEE4NEJDOEYwOUM2MjNEQwA=","timestamp":"1759114587","type":"button","button":{"payload":"Show Me Template 3","text":"Show Me Template 3"}}]},"field":"messages"}]}]}
2025-09-29 08:33:17.892 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:33:17.894 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-29 08:33:17.897 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 9.2954ms
2025-09-29 08:33:17.898 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-29 08:33:17.900 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:17.901 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMDIzMEE4NEJDOEYwOUM2MjNEQwA=, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==, Text: Show Me Template 3
2025-09-29 08:33:17.903 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 23.2657ms
2025-09-29 08:33:17.908 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-29 08:33:17.919 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__origin_Id_0='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:17.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-29 08:33:17.930 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-29 08:33:17.933 +05:30 [INF] ✅ Mapped click by TEXT to index 1 (flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2", step="e716e49a-f961-4336-8504-25c58f4a56aa")
2025-09-29 08:33:17.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceStepId_0='e716e49a-f961-4336-8504-25c58f4a56aa', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__buttonIndex_2='1'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-29 08:33:17.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-29 08:33:17.965 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='84efca97-65b1-4303-9255-d82c510e48cc', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='1' (Nullable = true), @p3='e5b99d26-c677-4d6d-a998-dccad1f67d3f' (Nullable = true), @p4='918974005240', @p5=NULL, @p6='2025-09-29T03:03:17.9460190Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p9=NULL, @p10='d87b8c62-bafc-4bc2-9820-a1ab09789935' (Nullable = true), @p11='e5f3e543-4e7c-4a33-9a30-7e2fae32f6ff' (Nullable = true), @p12='e716e49a-f961-4336-8504-25c58f4a56aa', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Show Me Template 3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-29 08:33:17.973 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignSendLogId_Value_0='e5b99d26-c677-4d6d-a998-dccad1f67d3f'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Provider", c0."PhoneNumberId"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
WHERE c."Id" = @__campaignSendLogId_Value_0
LIMIT 1
2025-09-29 08:33:17.980 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_context_TargetStepId_0='202c0656-42f6-46a3-a9a5-9851498aebfb' (Nullable = true), @__8__locals1_context_FlowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-29 08:33:17.986 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:33:17.989 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:33:17.991 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:33:19.402 +05:30 [INF] Received HTTP response headers after 1409.7623ms - 200
2025-09-29 08:33:19.404 +05:30 [INF] End processing HTTP request after 1414.5916ms - 200
2025-09-29 08:33:19.407 +05:30 [INF] ➡️ SEND-INTENT flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2" step="202c0656-42f6-46a3-a9a5-9851498aebfb" tmpl=template_3 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-29 08:33:19.414 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:33:19.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:33:19.422 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:33:19.424 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:33:21.140 +05:30 [INF] Received HTTP response headers after 1714.4684ms - 200
2025-09-29 08:33:21.146 +05:30 [INF] End processing HTTP request after 1723.8794ms - 200
2025-09-29 08:33:21.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a0293cf9-d5e6-45b6-82b2-02de53cb9dca', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='1' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T03:03:21.1493913Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='506f8752-a2f9-4d41-8c91-1b58ebbcb9a1' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","message_status":"accepted"}]}', @p10='6172bdee-9a0d-4b4b-ad25-4ca707f906b4' (Nullable = true), @p11=NULL (DbType = Guid), @p12='202c0656-42f6-46a3-a9a5-9851498aebfb', @p13='template_3' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='506f8752-a2f9-4d41-8c91-1b58ebbcb9a1', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 1","ty":"QUICK_REPLY","v":"","ns":"e716e49a-f961-4336-8504-25c58f4a56aa"}]', @p22='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p23='202c0656-42f6-46a3-a9a5-9851498aebfb' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-29T03:03:21.1490430Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_3' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='905a7a0e-dcb2-4adb-8566-07d1bad507dd' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-29T03:03:21.1490450Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-29 08:33:22.577 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:33:22.581 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:22.584 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:33:22.587 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"sent","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","expiration_timestamp":"1759115004","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:22.590 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:33:22.591 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:33:22.590 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"sent","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","expiration_timestamp":"1759115004","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:22.594 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 7.1115ms
2025-09-29 08:33:22.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 08:33:22.599 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:22.602 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:33:22.604 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 26.9309ms
2025-09-29 08:33:22.610 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:22.620 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ec7e692ba1624f3f1ba537c7119c1ea2'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:22.627 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='333f7dae-92ed-4084-bc59-990348e84223', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ec7e692ba1624f3f1ba537c7119c1ea2', @p4='2025-09-29T03:03:22.6065906+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:03:22.6065672+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"sent","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","expiration_timestamp":"1759115004","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:33:44.010 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:44.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:03:44.0075967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:33:44.014 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:33:44.026 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:33:44.026 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:33:44.036 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:44.049 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.052 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.055 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.060 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:33:44.062 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:33:44.064 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:33:44.067 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:44.069 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"read","timestamp":"1759114583","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:44.072 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:44.075 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:33:44.075 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:44.077 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:33:44.080 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:33:44.082 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:33:44.083 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:33:44.084 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:33:44.086 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 19.5635ms
2025-09-29 08:33:44.085 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:33:44.091 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:44.091 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 22.3108ms
2025-09-29 08:33:44.093 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.095 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 23.4702ms
2025-09-29 08:33:44.100 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ec7e692ba1624f3f1ba537c7119c1ea2'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:44.100 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.102 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 87.5551ms
2025-09-29 08:33:44.104 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:33:44.110 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='8aa4f405-a01d-46cf-a138-a0dbab98602d', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ec7e692ba1624f3f1ba537c7119c1ea2', @p4='2025-09-29T03:03:44.0886341+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:03:44.0886133+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:33:44.110 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 83.582ms
2025-09-29 08:33:44.116 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 90.1737ms
2025-09-29 08:33:47.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:47.420 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:47.439 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p1='506f8752-a2f9-4d41-8c91-1b58ebbcb9a1', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 08:33:47.445 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"read","timestamp":"1759114583","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:47.446 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:33:47.464 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:47.470 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ee7d3731cc2c3eec2627322c91671472'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:47.476 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a255400f-98d4-4167-b145-55685a79420b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ee7d3731cc2c3eec2627322c91671472', @p4='2025-09-29T03:03:47.4606885+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:03:47.4606587+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA==","status":"read","timestamp":"1759114583","recipient_id":"918974005240","conversation":{"id":"ee7d3731cc2c3eec2627322c91671472","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:33:48.049 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:48.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0E5OEU1MjQ0RjI5QjIzMkJGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:48.063 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='e5b99d26-c677-4d6d-a998-dccad1f67d3f', @p0='2025-09-29T02:56:23.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Read', @p4='905a7a0e-dcb2-4adb-8566-07d1bad507dd', @p3='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "ReadAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:33:48.069 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:33:48.072 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:33:48.077 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:48.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ec7e692ba1624f3f1ba537c7119c1ea2'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:33:48.088 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='f9a52a27-108f-431b-907c-a609f7e33aae', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ec7e692ba1624f3f1ba537c7119c1ea2', @p4='2025-09-29T03:03:48.0741036+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:03:48.0740839+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"delivered","timestamp":"1759115004","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:33:50.440 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:50.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:33:54.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:03:54.0498826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:04.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:04:04.0594543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:14.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:04:14.0622637+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:24.074 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:04:24.0721953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:34.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:04:34.0857623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:44.099 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:04:44.0961130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:34:54.115 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:04:54.1123924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:04.122 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:05:04.1205447+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:14.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:05:14.1366292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:24.260 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:05:24.1555017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:34.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:05:34.2727904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:44.282 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:05:44.2797290+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:35:54.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:05:54.2886050+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:04.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:06:04.2975835+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:14.308 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:06:14.3048186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:24.345 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:06:24.3424979+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:34.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:06:34.3560905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:44.386 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:06:44.3790991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:36:50.969 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:36:50.974 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:36:50.975 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:36:50.979 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:36:50.982 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:36:50.983 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:36:50.984 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:36:50.987 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:36:50.988 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 08:36:50.989 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 10.3431ms
2025-09-29 08:36:50.992 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:36:50.995 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:36:50.996 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:36:50.998 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:36:51.003 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 34.4843ms
2025-09-29 08:36:51.006 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:36:51.015 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:36:51.025 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='ec7e692ba1624f3f1ba537c7119c1ea2'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:36:51.026 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:36:51.032 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:36:51.034 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 19.4018ms
2025-09-29 08:36:51.036 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:36:51.037 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 50.1088ms
2025-09-29 08:36:51.049 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='7ebecfbd-6766-4a17-b18d-9a13a4b873f8', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='ec7e692ba1624f3f1ba537c7119c1ea2', @p4='2025-09-29T03:06:51.0003535+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:06:51.0003345+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"ec7e692ba1624f3f1ba537c7119c1ea2","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:04.990 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:05.008 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMTU2MTJGODg2QUI1RTVERjQ2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:05.010 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 621
2025-09-29 08:37:05.026 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:05.028 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:37:05.032 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMEI4MkZBMjgzQ0JCOUIzRDYzRAA=","timestamp":"1759115219","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 08:37:05.036 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:37:05.037 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:37:05.039 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.3122ms
2025-09-29 08:37:05.041 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p1='506f8752-a2f9-4d41-8c91-1b58ebbcb9a1', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 08:37:05.043 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:05.051 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:05.053 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 42.5798ms
2025-09-29 08:37:05.054 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:37:05.066 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:05.073 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='00ea317dea6b4a5b570346c95c52570b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:05.080 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='9dcf466f-8113-463d-9761-8adf5c7d00f7', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='00ea317dea6b4a5b570346c95c52570b', @p4='2025-09-29T03:07:05.0625586+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:07:05.0625298+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==","status":"read","timestamp":"1759115212","recipient_id":"918974005240","conversation":{"id":"00ea317dea6b4a5b570346c95c52570b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:05.937 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:05.944 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:05.948 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:07:04.9886754+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:37:05.954 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='2a5fad54-da16-451d-94f0-c6a25556a08e', @p0='2025-09-29T03:06:52.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Read', @p4='bee334a3-887d-4d72-a162-8a5e886520ca', @p3='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "ReadAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 08:37:05.961 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMEI4MkZBMjgzQ0JCOUIzRDYzRAA=","timestamp":"1759115219","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 08:37:05.964 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-29 08:37:05.965 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-29 08:37:05.967 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhgWM0VCMEI4MkZBMjgzQ0JCOUIzRDYzRAA=, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA==, Text: Show Me Template 2
2025-09-29 08:37:05.974 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-29 08:37:05.980 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__origin_Id_0='bee334a3-887d-4d72-a162-8a5e886520ca' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRDRFNjRCMjJBODhGNjkzN0Y0AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:05.985 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-29 08:37:05.991 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-29 08:37:05.995 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2", step="e716e49a-f961-4336-8504-25c58f4a56aa")
2025-09-29 08:37:06.000 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceStepId_0='e716e49a-f961-4336-8504-25c58f4a56aa', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-29 08:37:06.006 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-29 08:37:06.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='6311e9d2-9753-4b92-8931-39989e23d710', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3='2a5fad54-da16-451d-94f0-c6a25556a08e' (Nullable = true), @p4='918974005240', @p5=NULL, @p6='2025-09-29T03:07:06.0095180Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='bee334a3-887d-4d72-a162-8a5e886520ca' (Nullable = true), @p9=NULL, @p10='a7c9edd4-dc91-469f-8def-de2f0dba873d' (Nullable = true), @p11='15d8c97f-b15b-4623-9d15-597411df9c07' (Nullable = true), @p12='e716e49a-f961-4336-8504-25c58f4a56aa', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Show Me Template 2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-29 08:37:06.021 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignSendLogId_Value_0='2a5fad54-da16-451d-94f0-c6a25556a08e'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Provider", c0."PhoneNumberId"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
WHERE c."Id" = @__campaignSendLogId_Value_0
LIMIT 1
2025-09-29 08:37:06.026 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_context_TargetStepId_0='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @__8__locals1_context_FlowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-29 08:37:06.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 08:37:06.037 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:37:06.039 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 08:37:07.244 +05:30 [INF] Received HTTP response headers after 1204.0102ms - 200
2025-09-29 08:37:07.247 +05:30 [INF] End processing HTTP request after 1210.3804ms - 200
2025-09-29 08:37:07.347 +05:30 [INF] ➡️ SEND-INTENT flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2" step="97426991-9bfb-42a4-b00b-2d52476b8f79" tmpl=template_2 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-29 08:37:07.354 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 08:37:07.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 08:37:07.364 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:37:07.366 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 08:37:08.984 +05:30 [INF] Received HTTP response headers after 1616.1561ms - 200
2025-09-29 08:37:08.988 +05:30 [INF] End processing HTTP request after 1623.4358ms - 200
2025-09-29 08:37:08.995 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='5d971360-8d45-46d6-8547-5c20834395e0', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T03:07:08.9913009Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='fd79a0d1-c5ad-47e3-9ddf-a1e172865a95' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","message_status":"accepted"}]}', @p10='a871485c-9fdc-4d89-8f71-57675c089078' (Nullable = true), @p11=NULL (DbType = Guid), @p12='97426991-9bfb-42a4-b00b-2d52476b8f79', @p13='template_2' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='fd79a0d1-c5ad-47e3-9ddf-a1e172865a95', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 1","ty":"QUICK_REPLY","v":"","ns":"e716e49a-f961-4336-8504-25c58f4a56aa"}]', @p22='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p23='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-29T03:07:08.9909681Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_2' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='bee334a3-887d-4d72-a162-8a5e886520ca' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-29T03:07:08.9909693Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-29 08:37:10.378 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 08:37:10.383 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:10.384 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:37:10.388 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"sent","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","expiration_timestamp":"1759115232","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:10.390 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:37:10.391 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"sent","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","expiration_timestamp":"1759115232","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:10.392 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:37:10.393 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:37:10.395 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 7.5412ms
2025-09-29 08:37:10.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:10.400 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:10.406 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3dfa120e5e36de1610e2215f96dc0460'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:10.406 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 28.8064ms
2025-09-29 08:37:10.431 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='2a660f85-9175-4ae8-b1f8-5050113334e3', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3dfa120e5e36de1610e2215f96dc0460', @p4='2025-09-29T03:07:10.3969666+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:07:10.3969380+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"sent","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","expiration_timestamp":"1759115232","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:13.237 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:37:13.237 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 08:37:13.237 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:13.237 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 08:37:13.251 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:13.244 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.241 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.259 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.264 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:37:13.265 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:37:13.267 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:37:13.270 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"read","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:13.272 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:13.275 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:13.277 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:37:13.277 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"read","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:13.279 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:37:13.281 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:37:13.282 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:37:13.284 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:37:13.285 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:37:13.288 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 18.3765ms
2025-09-29 08:37:13.286 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:37:13.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:13.297 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 24.6365ms
2025-09-29 08:37:13.299 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.301 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 25.9888ms
2025-09-29 08:37:13.306 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3dfa120e5e36de1610e2215f96dc0460'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:13.307 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.309 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 71.929ms
2025-09-29 08:37:13.311 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:37:13.317 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='67e7da82-0d2e-430d-aae6-632bacf7db2c', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3dfa120e5e36de1610e2215f96dc0460', @p4='2025-09-29T03:07:13.2911745+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:07:13.2911454+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"read","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:13.318 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 80.9251ms
2025-09-29 08:37:13.872 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:13.325 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 87.4798ms
2025-09-29 08:37:13.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:13.906 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p1='fd79a0d1-c5ad-47e3-9ddf-a1e172865a95', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 08:37:13.910 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:13.913 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:37:13.917 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:13.924 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3dfa120e5e36de1610e2215f96dc0460'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:13.930 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='dec669cb-cfd4-4cd2-a34d-b6b192d5fa34', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3dfa120e5e36de1610e2215f96dc0460', @p4='2025-09-29T03:07:13.9151119+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:07:13.9150943+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:14.662 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:14.668 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:14.672 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 08:37:14.674 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 08:37:14.679 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:14.685 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3dfa120e5e36de1610e2215f96dc0460'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 08:37:14.709 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='e568056d-3edf-4d0a-a967-3f6c7b4a5e53', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3dfa120e5e36de1610e2215f96dc0460', @p4='2025-09-29T03:07:14.6770777+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T03:07:14.6770541+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA==","status":"delivered","timestamp":"1759115232","recipient_id":"918974005240","conversation":{"id":"3dfa120e5e36de1610e2215f96dc0460","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 08:37:15.784 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:15.791 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODZEOTE3MTRCQTdEMzQ5RDdFAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND m."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 08:37:15.971 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:07:15.9695088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:37:25.989 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:07:25.9872872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:37:35.998 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:07:35.9956774+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:37:45.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:07:45.9967130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:37:56.016 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:07:56.0126787+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:06.031 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:08:06.0283160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:16.034 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:08:16.0319541+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:26.046 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:08:26.0433144+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:36.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:08:36.0618278+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:46.072 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:08:46.0697618+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:38:56.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:08:56.0784444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:06.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:09:06.0915800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:16.109 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:09:16.1059130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:26.128 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:09:26.1258943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:36.140 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:09:36.1387915+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:46.148 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:09:46.1458419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:39:56.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:09:56.1582119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:06.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:10:06.1782100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:16.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:10:16.1847623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:26.198 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:10:26.1957569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:36.306 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:10:36.2123793+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:46.314 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:10:46.3119593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:40:56.324 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:10:56.3219058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:06.330 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:11:06.3280850+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:16.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:11:16.3306039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:26.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:11:26.3453942+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:36.360 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:11:36.3574892+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:46.373 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:11:46.3698315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:41:56.397 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:11:56.3943198+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:06.413 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:12:06.4107690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:16.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:12:16.4245506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:26.441 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='2025-09-29T03:12:26.4305884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:36.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:12:36.4514755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:46.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:12:46.4579834+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:42:56.483 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:12:56.4809802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:06.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:13:06.4973646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:16.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:13:16.5036827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:26.521 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:13:26.5187640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:36.532 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:13:36.5303522+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:46.538 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:13:46.5357196+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:43:56.545 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:13:56.5429276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:06.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:14:06.5554743+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:16.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:14:16.5678468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:26.581 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:14:26.5790286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:36.597 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:14:36.5946723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:46.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:14:46.5968923+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:44:56.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:14:56.6037040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:06.615 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:15:06.6127257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:16.632 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:15:16.6299375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:26.632 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:15:26.6307127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:36.736 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:15:36.6374510+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:46.749 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:15:46.7464945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:45:56.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:15:56.7538361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:06.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:16:06.7573971+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:16.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:16:16.7726640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:26.796 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:16:26.7929628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:36.807 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:16:36.8042469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:46.821 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:16:46.8185930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:46:56.832 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:16:56.8297867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:06.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:17:06.8386120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:16.852 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:17:16.8503423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:26.872 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:17:26.8705628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:36.884 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:17:36.8816682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:46.888 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:17:46.8870352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:47:56.892 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:17:56.8900605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:06.910 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:18:06.9084673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:16.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:18:16.9184293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:26.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:18:26.9267609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:36.939 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:18:36.9370681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:46.950 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:18:46.9478067+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:48:56.955 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:18:56.9519741+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:06.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:19:06.9676613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:16.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:19:16.9821131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:26.997 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:19:26.9948845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:37.008 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:19:37.0052177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:47.024 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:19:47.0214189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:49:57.043 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:19:57.0405027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:07.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:20:07.0468491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:17.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:20:17.0553503+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:27.071 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:20:27.0688206+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:37.172 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:20:37.0818274+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:47.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:20:47.1876646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:50:57.194 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:20:57.1917345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:07.206 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:21:07.2039450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:17.213 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:21:17.2110344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:27.225 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:21:27.2225662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:37.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:21:37.2488944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:47.264 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:21:47.2618625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:51:57.277 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:21:57.2749369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:07.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:22:07.2834373+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:17.322 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-29T03:22:17.3134044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:27.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:22:27.3452339+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:37.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:22:37.3602678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:47.381 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:22:47.3784256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:52:57.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:22:57.3971690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:07.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:23:07.4114814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:17.421 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:23:17.4182517+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:27.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:23:27.4343152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:37.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:23:37.4517932+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:47.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:23:47.4659321+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:53:57.479 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:23:57.4769981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:07.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:24:07.4916732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:17.516 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:24:17.5138795+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:27.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:24:27.5232352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:37.541 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:24:37.5362315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:47.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:24:47.5514951+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:54:57.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:24:57.5593965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:07.567 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:25:07.5647273+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:17.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:25:17.5711240+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:27.582 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:25:27.5801268+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:37.702 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T03:25:37.5914272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:47.713 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:25:47.7113620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:55:57.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:25:57.7310073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:07.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:26:07.7393647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:17.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:26:17.7488347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:27.768 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:26:27.7639988+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:37.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:26:37.7812092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:47.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:26:47.7924188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:56:57.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:26:57.7995955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:07.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:27:07.8110342+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:17.829 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:27:17.8270557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:27.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:27:27.8351749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:37.847 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:27:37.8451684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:47.861 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:27:47.8587866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:57:57.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:27:57.8678478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:07.890 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:28:07.8868444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:17.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:28:17.8952127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:27.905 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:28:27.9021868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:37.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:28:37.9265778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:45.397 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 479
2025-09-29 08:58:45.402 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:58:45.404 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 08:58:45.409 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggQjdGMUIxREFGMDRFQjAzNDQ3ODVDMkE3MjA0NEY5NTUA","timestamp":"1758526246","text":{"body":"Hi"},"type":"text"}]},"field":"messages"}]}]}
2025-09-29 08:58:45.411 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 08:58:45.411 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggQjdGMUIxREFGMDRFQjAzNDQ3ODVDMkE3MjA0NEY5NTUA","timestamp":"1758526246","text":{"body":"Hi"},"type":"text"}]},"field":"messages"}]}]}
2025-09-29 08:58:45.413 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType173`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 08:58:45.414 +05:30 [INF] 💬 Routing to InboundMessageProcessor (type: text)
2025-09-29 08:58:45.416 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.5652ms
2025-09-29 08:58:45.419 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 08:58:45.421 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 23.4439ms
2025-09-29 08:58:45.431 +05:30 [WRN] Collection navigations are only considered null if their parent entity is null. Use 'Any' to check whether collection navigation 'Business.WhatsAppSettings' is empty.
2025-09-29 08:58:45.459 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", w0."Id", w0."ApiKey", w0."ApiUrl", w0."BusinessId", w0."CreatedAt", w0."IsActive", w0."PhoneNumberId", w0."Provider", w0."SenderDisplayName", w0."UpdatedAt", w0."WabaId", w0."WebhookCallbackUrl", w0."WebhookSecret", w0."WebhookVerifyToken", w0."WhatsAppBusinessNumber"
FROM "Businesses" AS b
LEFT JOIN "WhatsAppSettings" AS w0 ON b."Id" = w0."BusinessId"
WHERE EXISTS (
    SELECT 1
    FROM "WhatsAppSettings" AS w
    WHERE b."Id" = w."BusinessId" AND w."WhatsAppBusinessNumber" IS NOT NULL)
ORDER BY b."Id"
2025-09-29 08:58:45.471 +05:30 [INF] FindOrCreateAsync: businessId="8390da76-10de-4d76-80f2-68b68f4e2b82", rawPhone=918974005240, normalized=+918974005240
2025-09-29 08:58:45.486 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__normalized_1='+918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."PhoneNumber" = @__normalized_1
LIMIT 1
2025-09-29 08:58:45.521 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='d33e1a11-bb37-4360-aacf-7c376a298d78', @p1=NULL (DbType = Guid), @p2='8390da76-10de-4d76-80f2-68b68f4e2b82', @p3='2025-09-29T03:28:45.4913802Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='True', @p7='False', @p8='False', @p9='False', @p10=NULL (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Guid), @p13=NULL (DbType = DateTime), @p14=NULL, @p15='WhatsApp User' (Nullable = false), @p16=NULL (DbType = DateTime), @p17=NULL, @p18='+918974005240' (Nullable = false), @p19=NULL, @p20=NULL (DbType = DateTime), @p21=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contacts" ("Id", "AssignedAgentId", "BusinessId", "CreatedAt", "Email", "Group", "IsActive", "IsArchived", "IsAutomationPaused", "IsFavorite", "LastCTAInteraction", "LastCTAType", "LastClickedProductId", "LastContactedAt", "LeadSource", "Name", "NextFollowUpAt", "Notes", "PhoneNumber", "ProfileName", "ProfileNameUpdatedAt", "Tags")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-09-29 08:58:45.526 +05:30 [INF] Contact created: "d33e1a11-bb37-4360-aacf-7c376a298d78"
2025-09-29 08:58:45.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__phoneDigits_1='918974005240', @__phoneE164_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__phoneDigits_1 OR c."PhoneNumber" = @__phoneE164_2)
LIMIT 1
2025-09-29 08:58:45.546 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='9f99df41-e8b6-45a9-a95d-d3ee9fcdd90c', @p1=NULL (DbType = Guid), @p2='8390da76-10de-4d76-80f2-68b68f4e2b82', @p3='2025-09-29T03:28:45.5302487Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='True', @p7='False', @p8='False', @p9='False', @p10=NULL (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Guid), @p13='2025-09-29T03:28:45.5302487Z' (Nullable = true) (DbType = DateTime), @p14=NULL, @p15='S K' (Nullable = false), @p16=NULL (DbType = DateTime), @p17=NULL, @p18='918974005240' (Nullable = false), @p19='S K', @p20='2025-09-29T03:28:45.5302487Z' (Nullable = true) (DbType = DateTime), @p21=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contacts" ("Id", "AssignedAgentId", "BusinessId", "CreatedAt", "Email", "Group", "IsActive", "IsArchived", "IsAutomationPaused", "IsFavorite", "LastCTAInteraction", "LastCTAType", "LastClickedProductId", "LastContactedAt", "LeadSource", "Name", "NextFollowUpAt", "Notes", "PhoneNumber", "ProfileName", "ProfileNameUpdatedAt", "Tags")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-09-29 08:58:45.562 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__contactId_1='d33e1a11-bb37-4360-aacf-7c376a298d78'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."ContactId", c."LastUpdatedAt", c."Mode", c."UpdatedBy"
FROM "ChatSessionStates" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."ContactId" = @__contactId_1
LIMIT 1
2025-09-29 08:58:45.573 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='770733bf-eeda-4ce6-82f6-a3c85d9e3a29', @p1='8390da76-10de-4d76-80f2-68b68f4e2b82', @p2=NULL, @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6='d33e1a11-bb37-4360-aacf-7c376a298d78' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T03:28:45.5665245Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='True', @p15=NULL, @p16='Hi' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22=NULL, @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-29T03:28:45.5665247Z' (Nullable = true) (DbType = DateTime), @p28=NULL, @p29='received' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-29 08:58:45.599 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__keyword_2='hi'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."BusinessId", a."CreatedAt", a."EdgesJson", a."IsActive", a."Name", a."NodesJson", a."TriggerKeyword", a."UpdatedAt"
FROM "AutomationFlows" AS a
WHERE a."BusinessId" = @__businessId_0 AND a."TriggerKeyword" ILIKE @__keyword_2 ESCAPE '' AND a."IsActive"
LIMIT 1
2025-09-29 08:58:45.603 +05:30 [INF] TryRun: No matching automation flow found for keyword: 'hi'
2025-09-29 08:58:45.605 +05:30 [INF] 🕵️ No automation flow matched keyword: hi
2025-09-29 08:58:45.606 +05:30 [INF] 🚫 Skipping inbox sync: chat mode is not 'agent'
2025-09-29 08:58:47.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:28:47.9382627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:58:57.950 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:28:57.9472852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:07.958 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:29:07.9553080+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:17.978 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:29:17.9748875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:27.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:29:27.9940499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:38.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:29:38.0067939+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:48.014 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:29:48.0117665+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 08:59:58.022 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:29:58.0199832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:08.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:30:08.0253849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:18.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:30:18.0332226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:28.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:30:28.0407710+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:38.136 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:30:38.0422436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:48.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:30:48.1509649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:00:58.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:30:58.1584164+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:08.165 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:31:08.1629033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:18.181 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:31:18.1782902+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:28.205 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:31:28.2024625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:38.222 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:31:38.2185126+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:48.240 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:31:48.2378626+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:01:58.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:31:58.2506079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:08.267 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:32:08.2652258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:18.281 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:32:18.2786107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:28.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:32:28.3005079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:38.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:32:38.3115631+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:48.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:32:48.3177027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:02:58.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:32:58.3315809+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:08.344 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:33:08.3417338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:18.367 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-29T03:33:18.3594866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:28.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:33:28.3905753+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:38.401 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:33:38.3995338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:48.417 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T03:33:48.4106299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:03:58.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:33:58.4232800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:08.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:34:08.4336231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:18.447 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:34:18.4450989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:28.457 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:34:28.4559848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:38.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:34:38.4627088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:48.483 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:34:48.4805796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:04:58.493 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T03:34:58.4895248+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:08.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:35:08.4998792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:18.529 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:35:18.5268195+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:28.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T03:35:28.5393075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:38.639 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T03:35:38.5527673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:48.647 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:35:48.6439141+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 09:05:58.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T03:35:58.6690743+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:04:48.416 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:04:48.521 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 10:04:48.551 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 10:06:10.339 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:07:32.982 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:07:34.333 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:07:34.397 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 10:07:34.512 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:07:34.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:07:34.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 10:07:34.639 +05:30 [INF] Applying migration '20250929043613_AddBillingIndexes'.
2025-09-29 10:07:35.013 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_WhatsAppSettings_Business_Provider_IsActive" RENAME TO "IX_WhatsAppSettings_BizProviderActive";
2025-09-29 10:07:35.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "UX_WhatsappPhoneNumbers_Bus_Prov_PhoneId" RENAME TO "IX_WhatsAppPhoneNumbers_BizProviderPhone";
2025-09-29 10:07:35.017 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CampaignSendLogs_Business_MessageId" RENAME TO "IX_CampaignSendLogs_BizMessage";
2025-09-29 10:07:35.039 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizConversation" ON "ProviderBillingEvents" ("BusinessId", "ConversationId") WHERE "ConversationId" IS NOT NULL;
2025-09-29 10:07:35.044 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizEventTime" ON "ProviderBillingEvents" ("BusinessId", "EventType", "OccurredAt");
2025-09-29 10:07:35.050 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizProviderMessage" ON "ProviderBillingEvents" ("BusinessId", "ProviderMessageId") WHERE "ProviderMessageId" IS NOT NULL;
2025-09-29 10:07:35.070 +05:30 [ERR] Failed executing DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UX_ProviderBillingEvents_UniqueEvent" ON "ProviderBillingEvents" ("BusinessId", "Provider", "ProviderMessageId", "EventType") WHERE "ProviderMessageId" IS NOT NULL;
2025-09-29 10:18:21.178 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:19:37.830 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:20:13.066 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:20:14.104 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:20:14.133 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 10:20:14.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:20:14.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 10:20:14.378 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 10:20:14.394 +05:30 [INF] Applying migration '20250929043613_AddBillingIndexes'.
2025-09-29 10:20:14.672 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_WhatsAppSettings_Business_Provider_IsActive" RENAME TO "IX_WhatsAppSettings_BizProviderActive";
2025-09-29 10:20:14.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "UX_WhatsappPhoneNumbers_Bus_Prov_PhoneId" RENAME TO "IX_WhatsAppPhoneNumbers_BizProviderPhone";
2025-09-29 10:20:14.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CampaignSendLogs_Business_MessageId" RENAME TO "IX_CampaignSendLogs_BizMessage";
2025-09-29 10:20:14.698 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizConversation" ON "ProviderBillingEvents" ("BusinessId", "ConversationId") WHERE "ConversationId" IS NOT NULL;
2025-09-29 10:20:14.702 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizEventTime" ON "ProviderBillingEvents" ("BusinessId", "EventType", "OccurredAt");
2025-09-29 10:20:14.706 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Billing_BizProviderMessage" ON "ProviderBillingEvents" ("BusinessId", "ProviderMessageId") WHERE "ProviderMessageId" IS NOT NULL;
2025-09-29 10:20:14.711 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UX_ProviderBillingEvents_UniqueEvent" ON "ProviderBillingEvents" ("BusinessId", "Provider", "ProviderMessageId", "EventType") WHERE "ProviderMessageId" IS NOT NULL;
2025-09-29 10:20:14.717 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_BizConversation" ON "MessageLogs" ("BusinessId", "ConversationId") WHERE "ConversationId" IS NOT NULL;
2025-09-29 10:20:14.721 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_BizCreatedAt" ON "MessageLogs" ("BusinessId", "CreatedAt");
2025-09-29 10:20:14.725 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_BizProviderMessage" ON "MessageLogs" ("BusinessId", "ProviderMessageId") WHERE "ProviderMessageId" IS NOT NULL;
2025-09-29 10:20:14.729 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_StatusTime" ON "CampaignSendLogs" ("BusinessId", "SendStatus", "SentAt");
2025-09-29 10:20:14.730 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250929043613_AddBillingIndexes', '8.0.18');
2025-09-29 10:20:14.739 +05:30 [INF] Applying migration '20250929044940_AddBillingIndexesUpdate'.
2025-09-29 10:20:14.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250929044940_AddBillingIndexesUpdate', '8.0.18');
2025-09-29 10:23:01.885 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 10:23:01.966 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 10:23:02.004 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 10:23:03.780 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 10:23:04.966 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 10:23:05.000 +05:30 [INF] ClickLogWorker started
2025-09-29 10:23:05.248 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 10:23:05.318 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__cutoff_0='2025-09-22T04:53:02.1999843Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 10:23:05.371 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 10:23:05.374 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 10:23:05.377 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 10:23:05.380 +05:30 [INF] Hosting environment: Development
2025-09-29 10:23:05.382 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 10:23:05.854 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 10:23:06.104 +05:30 [INF] ClickLogWorker stopped
2025-09-29 10:23:06.304 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 462.7454ms
2025-09-29 10:23:06.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 10:23:06.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 10:23:06.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.0586ms
2025-09-29 10:23:06.580 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.4768ms
2025-09-29 10:23:07.493 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 10:23:07.913 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 419.6364ms
2025-09-29 10:23:10.156 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='2025-09-29T04:53:10.0173655+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:23:15.050 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 10:23:15.114 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 10:23:15.150 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 10:23:15.160 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-29 10:23:15.164 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:48.3531710Z"
2025-09-29 10:23:15.186 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 10:23:15.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 10:23:15.247 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 10:23:15.253 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 10:23:16.339 +05:30 [INF] Received HTTP response headers after 1078.7344ms - 401
2025-09-29 10:23:16.344 +05:30 [INF] End processing HTTP request after 1102.5791ms - 401
2025-09-29 10:23:16.362 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 10:23:16.519 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T04:53:15.1926275Z"
2025-09-29 10:23:16.524 +05:30 [INF] TemplateSyncWorker: sweep finished in 1515 ms; processed=2; next run ~"2025-09-29T10:53:15.0088540Z"
2025-09-29 10:23:20.185 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T04:53:20.1777557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:23:21.100 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:21.100 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:21.110 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 10:23:21.180 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:21.180 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:21.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 85.4354ms
2025-09-29 10:23:21.188 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 87.7171ms
2025-09-29 10:23:21.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:21.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:21.241 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:21.241 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:21.500 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:50:46 AM', Current time (UTC): '29-09-2025 04:53:21 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 10:23:21.500 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:50:46 AM', Current time (UTC): '29-09-2025 04:53:21 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 10:23:21.590 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:50:46 AM', Current time (UTC): '29-09-2025 04:53:21 AM'.
2025-09-29 10:23:21.591 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:50:46 AM', Current time (UTC): '29-09-2025 04:53:21 AM'.
2025-09-29 10:23:21.598 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:21.607 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-29 10:23:21.621 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 10:23:21.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 401 0 null 405.9616ms
2025-09-29 10:23:21.637 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:21.697 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:21.725 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:21.776 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 129.4634ms
2025-09-29 10:23:21.781 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:21.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 580.5323ms
2025-09-29 10:23:29.303 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 10:23:29.310 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:29.312 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 9.2562ms
2025-09-29 10:23:29.320 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 10:23:29.328 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:29.333 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 10:23:29.345 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 10:23:29.377 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 10:23:29.491 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 10:23:29.608 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 10:23:29.801 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 10:23:29.819 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 10:23:29.841 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 10:23:29.845 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 10:23:29.850 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:29.857 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 509.0381ms
2025-09-29 10:23:29.861 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 10:23:29.863 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 543.1125ms
2025-09-29 10:23:29.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:29.880 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:29.882 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.611ms
2025-09-29 10:23:29.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:29.899 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:29.922 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:29.930 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:29.958 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 10:23:30.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:30.016 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:30.028 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 92.5985ms
2025-09-29 10:23:30.031 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:30.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 141.8216ms
2025-09-29 10:23:30.069 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:30.080 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:30.082 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 13.3738ms
2025-09-29 10:23:30.097 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:30.105 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:30.110 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:30.113 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:30.126 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:30.136 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:30.139 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 22.5751ms
2025-09-29 10:23:30.143 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:30.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 48.0054ms
2025-09-29 10:23:30.211 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:53:30.2068846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:23:30.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:30.247 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:30.250 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:30.253 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:30.268 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:30.277 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:30.281 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 23.1867ms
2025-09-29 10:23:30.284 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:30.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 47.1788ms
2025-09-29 10:23:36.825 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:36.828 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:36.835 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:36.839 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:36.840 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 15.1638ms
2025-09-29 10:23:36.841 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 13.9821ms
2025-09-29 10:23:36.850 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:36.857 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:36.866 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:36.871 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:36.874 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:36.875 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 10:23:36.876 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:36.884 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 10:23:36.890 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:36.898 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:36.902 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 19.4821ms
2025-09-29 10:23:36.905 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:36.907 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 57.9396ms
2025-09-29 10:23:36.910 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 10:23:36.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-29 10:23:36.994 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 101.5295ms
2025-09-29 10:23:36.998 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 10:23:37.002 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 145.101ms
2025-09-29 10:23:37.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:37.012 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:37.015 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:37.019 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:37.021 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 12.1547ms
2025-09-29 10:23:37.023 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 11.0291ms
2025-09-29 10:23:37.036 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:37.042 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:37.045 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:37.047 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:37.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:37.068 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:37.072 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 19.5525ms
2025-09-29 10:23:37.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:37.075 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:37.080 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:37.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 46.6029ms
2025-09-29 10:23:37.085 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:37.093 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:37.102 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:37.110 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:37.115 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 17.9531ms
2025-09-29 10:23:37.118 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:37.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 47.9588ms
2025-09-29 10:23:39.505 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/test-connection/current - null null
2025-09-29 10:23:39.511 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:39.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/test-connection/current - 204 null null 8.4112ms
2025-09-29 10:23:39.527 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/test-connection/current - application/json 2
2025-09-29 10:23:39.534 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:39.537 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api)'
2025-09-29 10:23:39.543 +05:30 [INF] Route matched with {action = "TestConnectionCurrent", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TestConnectionCurrent() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 10:23:39.556 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 10:23:39.571 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/673199269218077
2025-09-29 10:23:39.574 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/673199269218077
2025-09-29 10:23:40.075 +05:30 [INF] Received HTTP response headers after 499.0969ms - 401
2025-09-29 10:23:40.078 +05:30 [INF] End processing HTTP request after 506.9136ms - 401
2025-09-29 10:23:40.091 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:40.097 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api) in 549.3167ms
2025-09-29 10:23:40.100 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api)'
2025-09-29 10:23:40.102 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/test-connection/current - 400 null application/json; charset=utf-8 575.0292ms
2025-09-29 10:23:40.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:53:40.2283899+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:23:43.773 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:43.779 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:43.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.982ms
2025-09-29 10:23:43.788 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:43.794 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:43.797 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:43.800 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:43.808 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:43.817 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:43.820 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 17.0585ms
2025-09-29 10:23:43.823 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:43.826 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.0109ms
2025-09-29 10:23:43.915 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:43.921 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:43.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.8826ms
2025-09-29 10:23:43.930 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:43.935 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:43.937 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:43.940 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:43.948 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:43.957 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:43.962 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 18.1407ms
2025-09-29 10:23:43.965 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:43.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 37.5233ms
2025-09-29 10:23:44.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:44.016 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 10:23:44.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:44.021 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.026 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.031 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.033 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 18.2627ms
2025-09-29 10:23:44.035 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:44.036 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 19.3105ms
2025-09-29 10:23:44.044 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 10:23:44.046 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 10:23:44.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 10:23:44.058 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.068 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 10:23:44.084 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.084 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:23:44.084 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 10:23:44.086 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.089 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 26.6357ms
2025-09-29 10:23:44.091 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 10:23:44.093 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:44.096 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 10:23:44.109 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 10:23:44.114 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:44.113 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 96.2363ms
2025-09-29 10:23:44.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-29 10:23:44.125 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:44.134 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 34.8804ms
2025-09-29 10:23:44.137 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 33.4294ms
2025-09-29 10:23:44.140 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 10:23:44.143 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 101.2259ms
2025-09-29 10:23:44.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 95.2985ms
2025-09-29 10:23:44.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:44.171 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.174 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 9.724ms
2025-09-29 10:23:44.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:44.188 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.190 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.193 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:44.202 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:44.211 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:44.215 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 18.4247ms
2025-09-29 10:23:44.219 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.222 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 39.8175ms
2025-09-29 10:23:44.254 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:23:44.260 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:23:44.264 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.267 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:23:44.277 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 10:23:44.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:23:44.289 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 17.535ms
2025-09-29 10:23:44.293 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 10:23:44.297 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 42.4889ms
2025-09-29 10:23:50.243 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:53:50.2396852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:00.261 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:54:00.2569355+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:03.367 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-29 10:24:03.373 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:03.375 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 8.5671ms
2025-09-29 10:24:03.384 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 560
2025-09-29 10:24:03.390 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:03.392 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 10:24:03.400 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 10:24:03.432 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-29 10:24:03.553 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPpup9ZB2ttTI3xKcyZBFPQt7c1KWHyXnRYu5SgBK67DcTRiESgPUfuUqqf9fwHfwWC2WSgTJTcG93GrZCnpdkCvCOdZBSrvA8l09GmpYtKn9IFcdOBcSqPanZAKl4QV02wCqxsgQw2F1BODG4kt5FfKsAvFt4aUWyPPIfw1kOuSzc6ySytWBImtjP7ks661EMiiQpPu4qbKrCn7FdgyPtwkREvrms2a4R4FJlivRedzMoSz48gAZDZD' (Nullable = false), @p1='2025-09-29T04:54:03.4419011Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-29 10:24:03.577 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:24:03.580 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 175.4981ms
2025-09-29 10:24:03.583 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 10:24:03.585 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 201.389ms
2025-09-29 10:24:05.963 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 10:24:05.968 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:05.970 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 7.3489ms
2025-09-29 10:24:05.977 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - application/json 178
2025-09-29 10:24:05.982 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:06.002 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api)'
2025-09-29 10:24:06.010 +05:30 [INF] Route matched with {action = "Upsert", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upsert(System.String, UpsertRequest) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 10:24:06.060 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
LIMIT 1
2025-09-29 10:24:06.077 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerForChild_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerForChild_1 AND w."PhoneNumberId" = @__phoneNumberId_2
LIMIT 1
2025-09-29 10:24:06.149 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='99d38318-1ceb-4a43-88c5-5277be5bd537', @p0='2025-09-29T04:54:06.0331373Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppPhoneNumbers" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
2025-09-29 10:24:06.208 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerForChild_1='META_CLOUD', @__entity_Id_2='99d38318-1ceb-4a43-88c5-5277be5bd537'], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppPhoneNumbers" AS w
SET "IsDefault" = FALSE
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerForChild_1 AND w."Id" <> @__entity_Id_2
2025-09-29 10:24:06.221 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='2025-09-29T04:54:06.0331373Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
2025-09-29 10:24:06.247 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber'.
2025-09-29 10:24:06.251 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api) in 236.9517ms
2025-09-29 10:24:06.255 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.Upsert (xbytechat.api)'
2025-09-29 10:24:06.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 280.1766ms
2025-09-29 10:24:10.274 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:54:10.2712299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:13.922 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 10:24:13.930 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:13.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 15.7886ms
2025-09-29 10:24:13.946 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 10:24:13.956 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:13.959 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 10:24:13.968 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 10:24:14.051 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 10:24:14.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:24:14.073 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 101.0264ms
2025-09-29 10:24:14.076 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 10:24:14.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 133.0548ms
2025-09-29 10:24:20.299 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:54:20.2941726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:28.946 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null null
2025-09-29 10:24:28.951 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:28.954 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 204 null null 7.8168ms
2025-09-29 10:24:28.962 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - null 0
2025-09-29 10:24:28.969 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:24:28.971 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 10:24:28.981 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 10:24:29.100 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 10:24:29.162 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 10:24:29.179 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 10:24:29.242 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-29 10:24:29.254 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__flowId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_Value_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-29 10:24:29.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 10:24:29.405 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:24:29.407 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:24:30.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:54:30.3050840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:30.355 +05:30 [INF] Received HTTP response headers after 946.1024ms - 200
2025-09-29 10:24:30.358 +05:30 [INF] End processing HTTP request after 952.9128ms - 200
2025-09-29 10:24:30.762 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaign_CTAFlowConfigId_Value_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__campaign_CTAFlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-29 10:24:31.183 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 10:24:31.199 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 10:24:31.215 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:24:31.217 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:24:33.012 +05:30 [INF] Received HTTP response headers after 1792.375ms - 200
2025-09-29 10:24:33.015 +05:30 [INF] End processing HTTP request after 1800.1081ms - 200
2025-09-29 10:24:33.143 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__messageLogId_0='1cb372b0-b966-4a87-9368-2f54e5820883', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 10:24:33.375 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p2='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p0='2025-09-29T04:54:30.8354589Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T04:54:30.8354589Z' (DbType = DateTime), @p3='1cb372b0-b966-4a87-9368-2f54e5820883', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p6='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p7='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p8='aa3716d5-c237-4c6c-8e02-434e4607ce85' (Nullable = true), @p9='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T04:54:30.8354589Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18=NULL, @p19='template_1' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28=NULL, @p29='b5738ad6-d306-40e4-b2a9-16e6ae7352da' (Nullable = true), @p30='2025-09-29T04:54:30.8354589Z' (Nullable = true) (DbType = DateTime), @p31='campaign', @p32='Sent' (Nullable = false), @p33='d34adc2c-79c9-4f35-b87c-5f4267233568', @p34='9841bcab-ca71-439f-8691-d85ada887b01', @p35=NULL, @p36=NULL, @p37='2025-09-29T04:54:33.1481807+00:00' (DbType = DateTime), @p38='send_response' (Nullable = false), @p39=NULL (DbType = Boolean), @p40='1cb372b0-b966-4a87-9368-2f54e5820883' (Nullable = true), @p41='2025-09-29T04:54:33.1488134+00:00' (DbType = DateTime), @p42='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","message_status":"accepted"}]}' (Nullable = false), @p43=NULL (DbType = Decimal), @p44=NULL, @p45='META_CLOUD' (Nullable = false), @p46='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
2025-09-29 10:24:33.584 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@p0='8bed6283-9b6a-462f-8e1e-947d1801fc03', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Show Me Template 2","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"Show Me Template 3","type":"QUICK_REPLY","subType":"quick_reply"}]', @p5='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p6='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p7='aa3716d5-c237-4c6c-8e02-434e4607ce85', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T04:54:30.8354589Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='This is the Template : 1' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==', @p26='1cb372b0-b966-4a87-9368-2f54e5820883' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='61c5d2be-e1cc-4c18-9a6d-d024cb3296ff', @p29='0', @p30='b5738ad6-d306-40e4-b2a9-16e6ae7352da' (Nullable = true), @p31='Sent', @p32='2025-09-29T04:54:30.8354589Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='template_1', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 10:24:33.596 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 10:24:33.617 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 4632.607ms
2025-09-29 10:24:33.631 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 10:24:33.635 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85 - 200 null application/json; charset=utf-8 4673.4608ms
2025-09-29 10:24:34.631 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 10:24:34.638 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:24:34.644 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:24:34.660 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"sent","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","expiration_timestamp":"1759121676","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:24:34.684 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:24:34.688 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:24:34.695 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 46.3178ms
2025-09-29 10:24:34.698 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:24:34.699 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 67.8337ms
2025-09-29 10:24:34.973 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"sent","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","expiration_timestamp":"1759121676","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:24:34.999 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 10:24:35.010 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:24:35.032 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:24:35.042 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:24:35.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:24:35.065 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 10:24:35.076 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:24:35.081 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:24:35.082 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='8dae4ed740a305040b52d28dfac92fbd'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:24:35.087 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"delivered","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:24:35.097 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:24:35.101 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='21c238d4-a0ce-433c-92c5-8c64686127b2', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='8dae4ed740a305040b52d28dfac92fbd', @p4='2025-09-29T04:54:35.0465964+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T04:54:36.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"sent","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","expiration_timestamp":"1759121676","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==', @p14='ff6f1a3f-690d-4eb2-85ab-846548bd7946', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='8dae4ed740a305040b52d28dfac92fbd', @p18='2025-09-29T04:54:35.0381529+00:00' (DbType = DateTime), @p19='sent' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-29T04:54:36.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"sent","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","expiration_timestamp":"1759121676","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-29 10:24:35.101 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:24:35.110 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 23.7255ms
2025-09-29 10:24:35.113 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:24:35.115 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 49.9825ms
2025-09-29 10:24:35.158 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:24:35.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:24:35.206 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"delivered","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:24:35.209 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:24:35.216 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:24:35.225 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:24:35.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:24:35.244 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='8dae4ed740a305040b52d28dfac92fbd'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:24:35.254 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='22c81ce2-e8b0-4980-a92f-525c867f38ad', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='8dae4ed740a305040b52d28dfac92fbd', @p4='2025-09-29T04:54:35.2220582+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T04:54:36.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"delivered","timestamp":"1759121676","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:24:35.264 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:24:35.273 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:24:35.286 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='8bed6283-9b6a-462f-8e1e-947d1801fc03', @p0='2025-09-29T04:54:36.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Delivered', @p4='1cb372b0-b966-4a87-9368-2f54e5820883', @p3='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "DeliveredAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 10:24:40.321 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:54:40.3170990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:24:50.342 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:54:50.3378073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:00.359 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:55:00.3556018+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:10.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:55:10.3718555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:20.386 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:55:20.3824946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:30.395 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:55:30.3914347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:40.411 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:55:40.4079284+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:25:50.429 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:55:50.4246605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:00.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:56:00.4428815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:10.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:56:10.4567704+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:20.473 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:56:20.4698388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:30.496 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:56:30.4927676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:40.500 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:56:40.4976633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:26:50.514 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:56:50.5102604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:00.530 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:57:00.5264651+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:10.549 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:57:10.5459344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:20.566 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:57:20.5628612+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:30.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:57:30.5781652+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:40.590 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:57:40.5870011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:27:50.600 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:57:50.5956682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:00.607 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:58:00.6038707+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:10.737 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T04:58:10.6240427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:20.751 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:58:20.7478697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:30.767 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:58:30.7634647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:40.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:58:40.7791400+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:28:50.794 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:58:50.7913692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:00.806 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:00.8036918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:10.814 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:10.8105239+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:20.823 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:20.8200704+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:30.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:30.8296858+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:40.844 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:40.8405801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:29:50.861 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T04:59:50.8583259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:00.883 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:00:00.8804699+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:10.901 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:00:10.8979788+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:20.923 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:00:20.9198713+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:30.940 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:00:30.9369112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:40.958 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T05:00:40.9540607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:30:50.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:00:50.9778047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:31:00.996 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:01:00.9926992+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:31:11.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:01:11.0120458+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:31:21.032 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:01:21.0297072+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:31:31.047 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:01:31.0446221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:31:41.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:01:41.0657271+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:32:38.025 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:02:38.0232297+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:32:48.032 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:02:48.0311780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:32:58.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:02:58.0418239+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:08.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:08.0496917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:18.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:18.0567920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:28.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:28.0652350+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:38.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:38.0745211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:48.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:48.0837135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:33:58.147 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:03:58.0918691+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:08.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:04:08.1492060+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:18.174 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:04:18.1708630+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:28.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:04:28.1844627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:38.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:04:38.1887898+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:48.208 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:04:48.2050125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:34:58.231 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T05:04:58.2253115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:08.246 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:05:08.2434262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:18.263 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:05:18.2609368+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:28.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:05:28.2872746+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:38.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:05:38.2964281+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:48.307 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:05:48.3060710+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:35:58.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:05:58.3123053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:07.210 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 10:36:07.213 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:07.214 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:36:07.217 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"read","timestamp":"1759122368","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:07.218 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:36:07.219 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:36:07.220 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 5.1503ms
2025-09-29 10:36:07.222 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:07.223 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 12.5339ms
2025-09-29 10:36:07.226 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"read","timestamp":"1759122368","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:07.232 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 10:36:07.234 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:36:07.236 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:07.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:07.245 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:07.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='8dae4ed740a305040b52d28dfac92fbd'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:07.254 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='404eb8dd-8356-46d5-abaa-dba1b23d0e0f', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='8dae4ed740a305040b52d28dfac92fbd', @p4='2025-09-29T05:06:07.2389538+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:06:08.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==","status":"read","timestamp":"1759122368","recipient_id":"918974005240","conversation":{"id":"8dae4ed740a305040b52d28dfac92fbd","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:36:07.260 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:36:07.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:36:07.274 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='8bed6283-9b6a-462f-8e1e-947d1801fc03', @p0='2025-09-29T05:06:08.0000000Z' (Nullable = true) (DbType = DateTime), @p1='Read', @p4='1cb372b0-b966-4a87-9368-2f54e5820883', @p3='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignSendLogs" SET "ReadAt" = @p0, "SendStatus" = @p1
WHERE "Id" = @p2;
UPDATE "MessageLogs" SET "Status" = @p3
WHERE "Id" = @p4
RETURNING "MessageTime";
2025-09-29 10:36:08.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:08.3209581+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:10.810 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 633
2025-09-29 10:36:10.813 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:10.814 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:36:10.815 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMDVCQzAyNkMwNUZEQTY2OUMwRjBDNTlFRTFFNDUyQjUA","timestamp":"1759122371","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 10:36:10.816 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:36:10.817 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMDVCQzAyNkMwNUZEQTY2OUMwRjBDNTlFRTFFNDUyQjUA","timestamp":"1759122371","type":"button","button":{"payload":"Show Me Template 2","text":"Show Me Template 2"}}]},"field":"messages"}]}]}
2025-09-29 10:36:10.817 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:36:10.818 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-29 10:36:10.819 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 3.7991ms
2025-09-29 10:36:10.820 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:10.821 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 11.2359ms
2025-09-29 10:36:10.840 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-29 10:36:10.841 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMDVCQzAyNkMwNUZEQTY2OUMwRjBDNTlFRTFFNDUyQjUA, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA==, Text: Show Me Template 2
2025-09-29 10:36:10.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-29 10:36:10.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__origin_Id_0='1cb372b0-b966-4a87-9368-2f54e5820883' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODFFNTcxRDkwMzE1QTcwRDE5AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:10.860 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-29 10:36:10.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-29 10:36:10.872 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2", step="e716e49a-f961-4336-8504-25c58f4a56aa")
2025-09-29 10:36:10.880 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceStepId_0='e716e49a-f961-4336-8504-25c58f4a56aa', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-29 10:36:10.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='e716e49a-f961-4336-8504-25c58f4a56aa'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-29 10:36:10.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='94264696-5e91-46c9-be9b-4523f4cb017b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3='8bed6283-9b6a-462f-8e1e-947d1801fc03' (Nullable = true), @p4='918974005240', @p5=NULL, @p6='2025-09-29T05:06:10.8869576Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='1cb372b0-b966-4a87-9368-2f54e5820883' (Nullable = true), @p9=NULL, @p10='0ff6109a-1ff9-45f4-9f96-bb03f82c3dbe' (Nullable = true), @p11='b5738ad6-d306-40e4-b2a9-16e6ae7352da' (Nullable = true), @p12='e716e49a-f961-4336-8504-25c58f4a56aa', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Show Me Template 2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-29 10:36:10.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignSendLogId_Value_0='8bed6283-9b6a-462f-8e1e-947d1801fc03'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Provider", c0."PhoneNumberId"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
WHERE c."Id" = @__campaignSendLogId_Value_0
LIMIT 1
2025-09-29 10:36:10.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_TargetStepId_0='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @__8__locals1_context_FlowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-29 10:36:10.943 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 10:36:10.945 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:36:10.945 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:36:11.848 +05:30 [INF] Received HTTP response headers after 902.0857ms - 200
2025-09-29 10:36:11.849 +05:30 [INF] End processing HTTP request after 904.6461ms - 200
2025-09-29 10:36:11.910 +05:30 [INF] ➡️ SEND-INTENT flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2" step="97426991-9bfb-42a4-b00b-2d52476b8f79" tmpl=template_2 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-29 10:36:11.914 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 10:36:11.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 10:36:11.920 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:36:11.921 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:36:12.943 +05:30 [INF] Received HTTP response headers after 1020.6857ms - 200
2025-09-29 10:36:12.944 +05:30 [INF] End processing HTTP request after 1023.6785ms - 200
2025-09-29 10:36:12.958 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='a4fba85b-693d-4f49-8b24-a28e0063f838', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T05:06:12.9540914Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='523396e3-5a71-458b-b882-b5c850e2469a' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","message_status":"accepted"}]}', @p10='9cc41d2c-fd98-4c16-ac6e-ebde9f7da5f9' (Nullable = true), @p11=NULL (DbType = Guid), @p12='97426991-9bfb-42a4-b00b-2d52476b8f79', @p13='template_2' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='523396e3-5a71-458b-b882-b5c850e2469a', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 1","ty":"QUICK_REPLY","v":"","ns":"e716e49a-f961-4336-8504-25c58f4a56aa"}]', @p22='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p23='97426991-9bfb-42a4-b00b-2d52476b8f79' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-29T05:06:12.9535036Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_2' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='1cb372b0-b966-4a87-9368-2f54e5820883' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-29T05:06:12.9535052Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-29 10:36:14.412 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 10:36:14.414 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.414 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:36:14.416 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"sent","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","expiration_timestamp":"1759122376","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.417 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:36:14.418 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"sent","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","expiration_timestamp":"1759122376","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.418 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:36:14.419 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:36:14.419 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 3.9401ms
2025-09-29 10:36:14.422 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.422 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.425 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 13.8715ms
2025-09-29 10:36:14.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.432 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='a158e5a4efcd5c5895fc31e017919ead'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='33a06a70-3ce2-40b7-961c-5b0e89a91fe4', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='a158e5a4efcd5c5895fc31e017919ead', @p4='2025-09-29T05:06:14.4273103+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:06:16.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"sent","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","expiration_timestamp":"1759122376","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==', @p14='d3ca5a78-e764-4763-b4c0-8842f84cc9ba', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='a158e5a4efcd5c5895fc31e017919ead', @p18='2025-09-29T05:06:14.4243976+00:00' (DbType = DateTime), @p19='sent' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-29T05:06:16.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"sent","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","expiration_timestamp":"1759122376","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-29 10:36:14.441 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:36:14.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:36:14.668 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 10:36:14.671 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.672 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:36:14.673 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"delivered","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.675 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:36:14.675 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"delivered","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.675 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:36:14.676 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:36:14.677 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 3.9989ms
2025-09-29 10:36:14.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.680 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.683 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.683 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 15.0033ms
2025-09-29 10:36:14.687 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='a158e5a4efcd5c5895fc31e017919ead'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='262c10c7-ed2f-4c96-b531-e18063c61152', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='a158e5a4efcd5c5895fc31e017919ead', @p4='2025-09-29T05:06:14.6823031+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:06:16.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"delivered","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:36:14.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:36:14.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:36:14.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='523396e3-5a71-458b-b882-b5c850e2469a', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 10:36:14.723 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 10:36:14.724 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.725 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:36:14.727 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"read","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.728 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:36:14.728 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"read","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:36:14.729 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:36:14.729 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:36:14.730 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 3.8445ms
2025-09-29 10:36:14.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.734 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:36:14.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:36:14.737 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 14.5768ms
2025-09-29 10:36:14.740 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='a158e5a4efcd5c5895fc31e017919ead'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:36:14.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='3f42be63-18ea-43d4-98fc-b6d3d1b32997', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='a158e5a4efcd5c5895fc31e017919ead', @p4='2025-09-29T05:06:14.7359392+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:06:16.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==","status":"read","timestamp":"1759122376","recipient_id":"918974005240","conversation":{"id":"a158e5a4efcd5c5895fc31e017919ead","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:36:14.754 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:36:14.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:36:14.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='523396e3-5a71-458b-b882-b5c850e2469a', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 10:36:18.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:18.3281059+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:28.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:28.3352293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:38.350 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:38.3482299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:48.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:48.3554764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:36:58.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:06:58.3751682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:08.392 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:07:08.3904505+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:18.395 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:07:18.3941864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:28.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:07:28.4064220+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:38.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:07:38.4185037+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:48.434 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:07:48.4323546+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:37:58.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:07:58.4408131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:08.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:08.4578411+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:18.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:18.4634024+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:28.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:28.4745393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:38.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:38.4891023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:48.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:48.5099594+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:38:58.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:08:58.5190132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:08.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:08.5772928+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:18.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:18.5859147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:28.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:28.5934954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:38.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:38.6028453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:48.612 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:48.6107965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:39:58.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:09:58.6199809+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:08.631 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:08.6292087+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:18.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:18.6372551+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:28.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:28.6461443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:38.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:38.6598347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:48.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:48.6726820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:40:58.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:10:58.6751595+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:08.682 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:11:08.6811948+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:18.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:11:18.6896771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:28.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:11:28.6957468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:38.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:11:38.7019123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:48.710 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:11:48.7086724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:41:58.725 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:11:58.7205634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:08.731 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:08.7297376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:18.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:18.7357937+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:28.738 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:28.7362128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:38.744 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:38.7408234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:48.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:48.7519396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:42:58.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:12:58.7631610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:08.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:13:08.7665345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:18.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:13:18.7808433+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:28.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:13:28.7966043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:38.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:13:38.8184879+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:48.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:13:48.8214208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:43:58.887 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:13:58.8346009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:08.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:08.9006028+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:18.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:18.9156950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:28.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:28.9198673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:38.928 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:38.9273090+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:48.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:48.9370752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:44:58.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:14:58.9470744+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:08.958 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:15:08.9556493+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:12.356 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 633
2025-09-29 10:45:12.358 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:12.359 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:45:12.361 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggRjgxREE5RjlFNjk3ODdEODEwRkJFNjc5MTlGMEY5MUUA","timestamp":"1759122913","type":"button","button":{"payload":"Show Me Template 1","text":"Show Me Template 1"}}]},"field":"messages"}]}]}
2025-09-29 10:45:12.363 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:45:12.363 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggRjgxREE5RjlFNjk3ODdEODEwRkJFNjc5MTlGMEY5MUUA","timestamp":"1759122913","type":"button","button":{"payload":"Show Me Template 1","text":"Show Me Template 1"}}]},"field":"messages"}]}]}
2025-09-29 10:45:12.363 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:45:12.364 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-29 10:45:12.365 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.7976ms
2025-09-29 10:45:12.366 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-29 10:45:12.367 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:12.368 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggRjgxREE5RjlFNjk3ODdEODEwRkJFNjc5MTlGMEY5MUUA, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA==, Text: Show Me Template 1
2025-09-29 10:45:12.368 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 12.8136ms
2025-09-29 10:45:12.373 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-29 10:45:12.381 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__origin_Id_0='523396e3-5a71-458b-b882-b5c850e2469a' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMThDQjhGNkJFMjAyRDI3RTYyAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:12.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-29 10:45:12.391 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceStepId_0='97426991-9bfb-42a4-b00b-2d52476b8f79', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-29 10:45:12.394 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='97426991-9bfb-42a4-b00b-2d52476b8f79'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-29 10:45:12.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='ea854250-85ba-4127-81e2-80d93cd84b70', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T05:15:12.3962000Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='523396e3-5a71-458b-b882-b5c850e2469a' (Nullable = true), @p9=NULL, @p10='6da1b83f-83bd-410e-aa27-61e2c6f20f8e' (Nullable = true), @p11=NULL (DbType = Guid), @p12='97426991-9bfb-42a4-b00b-2d52476b8f79', @p13='template_2' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Show Me Template 1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-29 10:45:12.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_TargetStepId_0='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @__8__locals1_context_FlowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-29 10:45:12.405 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 10:45:12.406 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:45:12.407 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 10:45:13.454 +05:30 [INF] Received HTTP response headers after 1046.2755ms - 200
2025-09-29 10:45:13.456 +05:30 [INF] End processing HTTP request after 1049.3489ms - 200
2025-09-29 10:45:13.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__8__locals1_context_BusinessId_0 AND w."IsActive"
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-29 10:45:13.549 +05:30 [INF] ➡️ SEND-INTENT flow="de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2" step="e716e49a-f961-4336-8504-25c58f4a56aa" tmpl=template_1 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-29 10:45:13.552 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 10:45:13.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 10:45:13.557 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:45:13.558 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 10:45:14.834 +05:30 [INF] Received HTTP response headers after 1275.6364ms - 200
2025-09-29 10:45:14.836 +05:30 [INF] End processing HTTP request after 1278.5673ms - 200
2025-09-29 10:45:14.840 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='30e0b8f5-f9eb-42c6-b967-a675bf620eeb', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-29T05:15:14.8380264Z' (DbType = DateTime), @p7='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p8='e388f829-743a-445e-8533-0618c20312f8' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","message_status":"accepted"}]}', @p10='e3131eaa-e4d8-4222-bd09-bfddb7a5a8c5' (Nullable = true), @p11=NULL (DbType = Guid), @p12='e716e49a-f961-4336-8504-25c58f4a56aa', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='e388f829-743a-445e-8533-0618c20312f8', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 2","ty":"QUICK_REPLY","v":"","ns":"97426991-9bfb-42a4-b00b-2d52476b8f79"},{"i":1,"t":"Show Me Template 3","ty":"QUICK_REPLY","v":"","ns":"202c0656-42f6-46a3-a9a5-9851498aebfb"}]', @p22='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @p23='e716e49a-f961-4336-8504-25c58f4a56aa' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-29T05:15:14.8378387Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_1' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='523396e3-5a71-458b-b882-b5c850e2469a' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-29T05:15:14.8378397Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-29 10:45:16.504 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-29 10:45:16.507 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.508 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:45:16.509 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"sent","timestamp":"1759122917","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","expiration_timestamp":"1759122918","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.511 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:45:16.511 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"sent","timestamp":"1759122917","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","expiration_timestamp":"1759122918","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.512 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:45:16.515 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-29 10:45:16.515 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 5.9036ms
2025-09-29 10:45:16.517 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:45:16.518 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.521 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 16.5792ms
2025-09-29 10:45:16.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.529 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:16.532 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3f90567dd8213258affa7b2798625223'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:16.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='8cabf890-31bd-475d-81da-ec2af91f8fa9', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3f90567dd8213258affa7b2798625223', @p4='2025-09-29T05:15:16.5281253+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:15:17.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"sent","timestamp":"1759122917","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","expiration_timestamp":"1759122918","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==', @p14='978cef9b-0480-4b98-af18-f0c3014975de', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='3f90567dd8213258affa7b2798625223', @p18='2025-09-29T05:15:16.5229957+00:00' (DbType = DateTime), @p19='sent' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-29T05:15:17.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"sent","timestamp":"1759122917","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","expiration_timestamp":"1759122918","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-29 10:45:16.539 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:45:16.542 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:45:16.831 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-29 10:45:16.834 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.835 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:45:16.838 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"delivered","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.839 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:45:16.840 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"delivered","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.840 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:45:16.841 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:45:16.842 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.8974ms
2025-09-29 10:45:16.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.846 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.851 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 19.3486ms
2025-09-29 10:45:16.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:16.861 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3f90567dd8213258affa7b2798625223'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:16.865 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='34028323-1b17-47a3-96a0-2d34c3a3ab95', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3f90567dd8213258affa7b2798625223', @p4='2025-09-29T05:15:16.8487454+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:15:18.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"delivered","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:45:16.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:45:16.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:45:16.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='e388f829-743a-445e-8533-0618c20312f8', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 10:45:16.974 +05:30 [INF] Request starting HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-29 10:45:16.977 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.978 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-29 10:45:16.980 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"read","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.981 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-29 10:45:16.981 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"read","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-29 10:45:16.982 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType179`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 10:45:16.983 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-29 10:45:16.984 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 5.1474ms
2025-09-29 10:45:16.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.988 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-29 10:45:16.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-29 10:45:16.995 +05:30 [INF] Request finished HTTP/1.1 POST http://5b4a3105a05e.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 20.9623ms
2025-09-29 10:45:16.998 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:17.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='3f90567dd8213258affa7b2798625223'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-29 10:45:17.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='7cf1fcc9-c89d-4264-8b35-b43ad675168a', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='3f90567dd8213258affa7b2798625223', @p4='2025-09-29T05:15:16.9940301+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-29T05:15:18.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA==","status":"read","timestamp":"1759122918","recipient_id":"918974005240","conversation":{"id":"3f90567dd8213258affa7b2798625223","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-29 10:45:17.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-29 10:45:17.017 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQTRDNEQ0NDhCREE0QzE5NzYxAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-29 10:45:17.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='e388f829-743a-445e-8533-0618c20312f8', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-29 10:45:18.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:15:18.9623841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:28.974 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:15:28.9721660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:38.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:15:38.9817771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:48.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:15:48.9900604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:45:59.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:15:58.9988367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:09.009 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:09.0084717+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:19.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:19.0139344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:29.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:29.0252360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:39.036 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:39.0335325+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:49.041 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:49.0405759+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:46:59.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:16:59.0515826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:09.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:09.0605883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:19.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:19.0733467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:29.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:29.0769326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:39.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:39.0840105+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:49.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:49.0930415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:47:59.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:17:59.1015536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:09.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:09.1108457+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:19.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:19.1201578+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:29.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:29.1281781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:39.136 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:39.1352226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:41.803 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85/summary - null null
2025-09-29 10:48:41.806 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:41.807 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85/summary - 204 null null 4.3202ms
2025-09-29 10:48:41.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85/summary - null null
2025-09-29 10:48:41.815 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:41.816 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:48:41.820 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:48:41.835 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 10:48:41.843 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 10:48:41.846 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 10:48:41.849 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 27.0976ms
2025-09-29 10:48:41.850 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:48:41.851 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85/summary - 200 null application/json; charset=utf-8 39.5918ms
2025-09-29 10:48:42.282 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:48:42.284 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:42.285 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85?page=1&pageSize=10&status=&search= - 204 null null 3.4761ms
2025-09-29 10:48:42.288 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:48:42.290 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:42.293 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:48:42.297 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:48:42.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 10:48:42.331 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='aa3716d5-c237-4c6c-8e02-434e4607ce85', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 10:48:42.337 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 10:48:42.343 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 43.8124ms
2025-09-29 10:48:42.344 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:48:42.345 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/aa3716d5-c237-4c6c-8e02-434e4607ce85?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 56.9745ms
2025-09-29 10:48:43.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - null null
2025-09-29 10:48:43.866 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:43.867 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - 204 null null 4.0604ms
2025-09-29 10:48:43.871 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - null null
2025-09-29 10:48:43.875 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:43.877 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 10:48:43.880 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 10:48:43.917 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__initialCampaignSendLogId_0='8bed6283-9b6a-462f-8e1e-947d1801fc03'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 10:48:43.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='aa3716d5-c237-4c6c-8e02-434e4607ce85', @__8__locals1_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 10:48:43.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__8__locals1_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__8__locals2_contactId_0 AND c."CTAFlowConfigId" = @__flowId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 10:48:43.951 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__sentLog_Id_0='8bed6283-9b6a-462f-8e1e-947d1801fc03', @__sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 10:48:43.957 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__flowId_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."FlowName"
FROM "CTAFlowConfigs" AS c
WHERE c."Id" = @__flowId_0
LIMIT 1
2025-09-29 10:48:43.962 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals3_sentLog_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__8__locals3_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_3='2025-09-30T04:54:30.8354580Z' (DbType = DateTime), @__contactId_4='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__8__locals3_sentLog_BusinessId_0 AND c."CTAFlowConfigId" = @__flowId_1 AND c."CreatedAt" >= @__8__locals3_sessionStart_2 AND c."CreatedAt" < @__8__locals3_sessionEnd_3 AND c."ContactId" = @__contactId_4
ORDER BY c."CreatedAt"
2025-09-29 10:48:44.042 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."MessageLogId", c."SentAt", c."CreatedAt", c."TemplateId", c."CTAFlowStepId", c."DeliveredAt", c."ReadAt"
FROM "CampaignSendLogs" AS c
WHERE c."Id" = ANY (@__chainCslIds_0)
ORDER BY c."CreatedAt"
2025-09-29 10:48:44.056 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."CampaignSendLogId" IS NOT NULL AND f."CampaignSendLogId" = ANY (@__chainCslIds_0) AND f."ExecutedAt" >= @__8__locals3_sessionStart_1 AND f."ExecutedAt" < @__8__locals3_sessionEnd_2
ORDER BY f."ExecutedAt"
2025-09-29 10:48:44.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainMsgLogIds_0={ '1cb372b0-b966-4a87-9368-2f54e5820883' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."MessageLogId" IS NOT NULL AND f."MessageLogId" = ANY (@__chainMsgLogIds_0) AND f."ExecutedAt" >= @__8__locals3_sessionStart_1 AND f."ExecutedAt" < @__8__locals3_sessionEnd_2
ORDER BY f."ExecutedAt"
2025-09-29 10:48:44.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals3_sentLog_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__phoneA_2='918974005240', @__phoneB_3='+918974005240', @__8__locals3_sessionStart_4='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_5='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."BusinessId" = @__8__locals3_sentLog_BusinessId_0 AND f."FlowId" = @__flowId_1 AND (f."ContactPhone" = @__phoneA_2 OR f."ContactPhone" = @__phoneB_3) AND f."ExecutedAt" >= @__8__locals3_sessionStart_4 AND f."ExecutedAt" < @__8__locals3_sessionEnd_5
ORDER BY f."ExecutedAt"
2025-09-29 10:48:44.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = ANY (@__chainCslIds_0) AND c."ClickedAt" >= @__8__locals3_sessionStart_1 AND c."ClickedAt" < @__8__locals3_sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 10:48:44.082 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 10:48:44.088 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 205.9677ms
2025-09-29 10:48:44.090 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 10:48:44.091 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - 200 null application/json; charset=utf-8 219.5307ms
2025-09-29 10:48:45.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - null null
2025-09-29 10:48:45.388 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:48:45.389 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 10:48:45.390 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 10:48:45.395 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__initialCampaignSendLogId_0='8bed6283-9b6a-462f-8e1e-947d1801fc03'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 10:48:45.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='aa3716d5-c237-4c6c-8e02-434e4607ce85', @__8__locals1_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 10:48:45.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals2_contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__8__locals1_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__8__locals2_contactId_0 AND c."CTAFlowConfigId" = @__flowId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 10:48:45.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sentLog_Id_0='8bed6283-9b6a-462f-8e1e-947d1801fc03', @__sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 10:48:45.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__flowId_0='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2'], CommandType='"Text"', CommandTimeout='30']
SELECT c."FlowName"
FROM "CTAFlowConfigs" AS c
WHERE c."Id" = @__flowId_0
LIMIT 1
2025-09-29 10:48:45.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals3_sentLog_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__8__locals3_sessionStart_2='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_3='2025-09-30T04:54:30.8354580Z' (DbType = DateTime), @__contactId_4='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__8__locals3_sentLog_BusinessId_0 AND c."CTAFlowConfigId" = @__flowId_1 AND c."CreatedAt" >= @__8__locals3_sessionStart_2 AND c."CreatedAt" < @__8__locals3_sessionEnd_3 AND c."ContactId" = @__contactId_4
ORDER BY c."CreatedAt"
2025-09-29 10:48:45.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."MessageLogId", c."SentAt", c."CreatedAt", c."TemplateId", c."CTAFlowStepId", c."DeliveredAt", c."ReadAt"
FROM "CampaignSendLogs" AS c
WHERE c."Id" = ANY (@__chainCslIds_0)
ORDER BY c."CreatedAt"
2025-09-29 10:48:45.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."CampaignSendLogId" IS NOT NULL AND f."CampaignSendLogId" = ANY (@__chainCslIds_0) AND f."ExecutedAt" >= @__8__locals3_sessionStart_1 AND f."ExecutedAt" < @__8__locals3_sessionEnd_2
ORDER BY f."ExecutedAt"
2025-09-29 10:48:45.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainMsgLogIds_0={ '1cb372b0-b966-4a87-9368-2f54e5820883' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."MessageLogId" IS NOT NULL AND f."MessageLogId" = ANY (@__chainMsgLogIds_0) AND f."ExecutedAt" >= @__8__locals3_sessionStart_1 AND f."ExecutedAt" < @__8__locals3_sessionEnd_2
ORDER BY f."ExecutedAt"
2025-09-29 10:48:45.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals3_sentLog_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__flowId_1='de07f8b4-33ec-4ac7-9ce3-e11d4f1889f2' (Nullable = true), @__phoneA_2='918974005240', @__phoneB_3='+918974005240', @__8__locals3_sessionStart_4='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_5='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."ButtonIndex", f."CampaignSendLogId", f."ContactPhone", f."ErrorMessage", f."ExecutedAt", f."FlowId", f."MessageLogId", f."RawResponse", f."RequestId", f."RunId", f."StepId", f."StepName", f."Success", f."TemplateName", f."TemplateType", f."TrackingLogId", f."TriggeredByButton"
FROM "FlowExecutionLogs" AS f
WHERE f."BusinessId" = @__8__locals3_sentLog_BusinessId_0 AND f."FlowId" = @__flowId_1 AND (f."ContactPhone" = @__phoneA_2 OR f."ContactPhone" = @__phoneB_3) AND f."ExecutedAt" >= @__8__locals3_sessionStart_4 AND f."ExecutedAt" < @__8__locals3_sessionEnd_5
ORDER BY f."ExecutedAt"
2025-09-29 10:48:45.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__chainCslIds_0={ '8bed6283-9b6a-462f-8e1e-947d1801fc03' } (DbType = Object), @__8__locals3_sessionStart_1='2025-09-29T04:54:30.8354580Z' (DbType = DateTime), @__8__locals3_sessionEnd_2='2025-09-30T04:54:30.8354580Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = ANY (@__chainCslIds_0) AND c."ClickedAt" >= @__8__locals3_sessionStart_1 AND c."ClickedAt" < @__8__locals3_sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 10:48:45.428 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 10:48:45.429 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 37.4441ms
2025-09-29 10:48:45.430 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 10:48:45.431 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/8bed6283-9b6a-462f-8e1e-947d1801fc03 - 200 null application/json; charset=utf-8 45.023ms
2025-09-29 10:48:49.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:49.1434490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:48:59.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:18:59.1564955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:09.214 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:09.2119684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:19.222 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:19.2207036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:29.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:29.2293305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:39.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:39.2383099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:49.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:49.2466523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:49:59.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:19:59.2562524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:09.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:09.2642590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:19.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:19.2748374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:29.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:29.2818039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:39.293 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:39.2911185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:49.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:49.3002839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:50:59.310 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:20:59.3090428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:09.318 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:09.3166467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:19.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:19.3214074+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:29.348 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:29.3461797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:39.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:39.3670354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:49.373 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:49.3717124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:51:59.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:21:59.3759262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:09.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:09.3857569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:15.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:52:15.389 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:52:15.389 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 3.0627ms
2025-09-29 10:52:15.392 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:52:15.394 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:52:15.395 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:52:15.396 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:52:15.404 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:52:15.430 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 32.7392ms
2025-09-29 10:52:15.432 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:52:15.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 40.7984ms
2025-09-29 10:52:15.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:52:15.872 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:52:15.873 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.2335ms
2025-09-29 10:52:15.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:52:15.894 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:52:15.895 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:52:15.896 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:52:15.899 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:52:15.900 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 1.998ms
2025-09-29 10:52:15.901 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:52:15.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 9.3015ms
2025-09-29 10:52:19.395 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:19.3941990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:29.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:29.4093742+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:39.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:39.4127233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:49.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:49.4194544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:52:59.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:22:59.4273294+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:09.438 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:23:09.4361316+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:19.448 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:23:19.4465017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:29.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:23:29.4640733+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:39.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:23:39.4741147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:49.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:23:49.4791536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:53:58.995 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:53:58.998 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:53:58.999 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 3.939ms
2025-09-29 10:53:59.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:53:59.003 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:53:59.004 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:53:59.005 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:53:59.008 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:53:59.009 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 2.1659ms
2025-09-29 10:53:59.010 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:53:59.011 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 10.2726ms
2025-09-29 10:53:59.483 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:53:59.486 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:53:59.486 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.0974ms
2025-09-29 10:53:59.489 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:53:59.491 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:53:59.492 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:53:59.492 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:53:59.494 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:53:59.497 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 3.4862ms
2025-09-29 10:53:59.500 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:53:59.501 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 12.4766ms
2025-09-29 10:53:59.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:23:59.4946303+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:09.565 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:09.5635774+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:19.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:19.5777379+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:29.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:29.5875420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:39.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:39.5989461+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:49.609 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:49.6075771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:54:59.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:24:59.6132827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:09.624 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:25:09.6217200+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:19.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:25:19.6357723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:29.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:25:29.6453883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:39.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:25:39.6493492+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:49.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:25:49.6761923+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:55:59.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:25:59.6838003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:09.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:09.6928839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:17.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:56:17.179 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:56:17.180 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 3.363ms
2025-09-29 10:56:17.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:56:17.184 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:56:17.185 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:56:17.187 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:56:17.189 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:56:17.191 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 2.0692ms
2025-09-29 10:56:17.192 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:56:17.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 10.6921ms
2025-09-29 10:56:18.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:56:18.170 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:56:18.171 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.5189ms
2025-09-29 10:56:18.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:56:18.176 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:56:18.177 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:56:18.178 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:56:18.180 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:56:18.182 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 2.1826ms
2025-09-29 10:56:18.183 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:56:18.184 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 10.3077ms
2025-09-29 10:56:19.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:19.7020709+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:29.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:29.7103840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:39.717 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:39.7155837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:49.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:49.7274212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:56:59.736 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:26:59.7353396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:09.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:09.7463456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:11.970 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:57:11.973 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:57:11.974 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 3.6792ms
2025-09-29 10:57:11.977 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 10:57:11.980 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:57:11.981 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:57:11.982 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:57:11.985 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:57:11.986 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 1.944ms
2025-09-29 10:57:11.987 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 10:57:11.988 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 10.9739ms
2025-09-29 10:57:12.451 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:57:12.453 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:57:12.454 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.1588ms
2025-09-29 10:57:12.457 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 10:57:12.459 +05:30 [INF] CORS policy execution successful.
2025-09-29 10:57:12.460 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:57:12.461 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 10:57:12.463 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 10:57:12.465 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 2.0984ms
2025-09-29 10:57:12.466 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 10:57:12.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 9.8263ms
2025-09-29 10:57:19.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:19.7563349+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:29.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:29.7633760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:39.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:39.7720423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:49.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:49.7805340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:57:59.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:27:59.7894770+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:09.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:28:09.7974308+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:19.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:28:19.8060232+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:29.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:28:29.8157555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:39.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:28:39.8243812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:49.833 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:28:49.8319473+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:58:59.890 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:28:59.8402468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:09.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:09.8957815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:19.908 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:19.9068968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:29.918 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:29.9161035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:39.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:39.9245697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:49.935 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:49.9339021+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 10:59:59.944 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:29:59.9421476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:09.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:09.9488389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:19.954 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:19.9530190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:29.959 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:29.9580621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:39.970 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:39.9686723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:49.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:49.9863326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:00:59.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:30:59.9926859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:01:10.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:31:10.0012177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:01:20.013 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:31:20.0118487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:01:30.038 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:31:30.0365369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:01:40.047 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:31:40.0453394+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:01:50.056 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:31:50.0545577+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:00.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:00.0633210+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:10.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:10.0709697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:20.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:20.0745965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:30.091 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:30.0892132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:40.100 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:40.0978221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:02:50.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:32:50.1057311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:00.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:00.1112505+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:10.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:10.1224728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:20.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:20.1314959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:30.142 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:30.1399678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:40.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:40.1495874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:03:50.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:33:50.1581737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:00.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:34:00.1670560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:10.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:34:10.2251258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:20.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:34:20.2334475+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:30.244 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:34:30.2426238+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:40.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:34:40.2496723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:04:50.261 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:34:50.2597649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:00.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:00.2679930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:10.279 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:10.2775254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:20.287 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:20.2852667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:30.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:30.2937177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:40.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:40.3034208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:05:50.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:35:50.3121883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:00.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:00.3205304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:10.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:10.3282427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:20.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:20.3368208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:30.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:30.3437894+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:40.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:40.3530023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:06:50.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:36:50.3643503+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:00.373 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:00.3720076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:10.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:10.3889218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:20.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:20.4049987+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:30.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:30.4117455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:40.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:40.4241612+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:07:50.434 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:37:50.4322929+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:00.445 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:38:00.4435785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:10.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:38:10.4532983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:20.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:38:20.4579631+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:30.469 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:38:30.4663690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:40.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:38:40.4738015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:08:50.484 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:38:50.4830671+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:00.543 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:39:00.4924427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:10.553 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:39:10.5515020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:20.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:39:20.5599951+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:30.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:39:30.5773705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:40.596 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:39:40.5939863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:09:50.612 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:39:50.6109099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:00.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:40:00.6261455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:10.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:40:10.6372506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:20.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:40:20.6422883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:30.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:40:30.6541095+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:40.660 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:40:40.6579887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:10:50.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:40:50.6718512+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:00.681 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:41:00.6801943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:10.699 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T05:41:10.6963381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:20.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:41:20.7129276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:30.736 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:41:30.7344810+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:40.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:41:40.7479178+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:11:50.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:41:50.7568735+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:12:00.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:42:00.7656086+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:12:10.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:42:10.7712786+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:12:20.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T05:42:20.7797970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 11:14:28.288 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 11:14:50.549 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 11:14:51.092 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 11:14:51.106 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 11:14:51.170 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 11:14:51.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-29 11:14:51.225 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-29 11:14:51.233 +05:30 [INF] Applying migration '20250929054429_UpdateAtHostingerSever'.
2025-09-29 11:14:51.343 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CampaignSendLogs_BizMessage" RENAME TO "IX_CampaignSendLogs_Business_MessageId";
2025-09-29 11:14:51.343 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250929054429_UpdateAtHostingerSever', '8.0.18');
2025-09-29 15:32:12.842 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 15:32:12.908 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 15:32:12.931 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 15:32:14.407 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 15:32:15.180 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 15:32:15.200 +05:30 [INF] ClickLogWorker started
2025-09-29 15:32:15.411 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 15:32:15.451 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__cutoff_0='2025-09-22T10:02:13.1511170Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 15:32:15.478 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 15:32:15.479 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 15:32:15.481 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 15:32:15.483 +05:30 [INF] Hosting environment: Development
2025-09-29 15:32:15.484 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 15:32:15.737 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 15:32:15.766 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 15:32:15.816 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:15.825 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 92.9279ms
2025-09-29 15:32:15.832 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 15:32:15.843 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:16.031 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 15:32:16.051 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 15:32:16.144 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 15:32:16.257 +05:30 [INF] ClickLogWorker stopped
2025-09-29 15:32:16.268 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 15:32:16.403 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 15:32:16.550 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 15:32:16.560 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 15:32:16.677 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 15:32:16.679 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 15:32:16.688 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:16.700 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 643.6704ms
2025-09-29 15:32:16.702 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 15:32:16.711 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 878.3837ms
2025-09-29 15:32:16.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:32:16.723 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:16.726 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.6975ms
2025-09-29 15:32:16.807 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:32:16.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 15:32:16.819 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:16.881 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:16.888 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:32:16.904 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 15:32:16.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:32:16.949 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:16.966 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 75.3643ms
2025-09-29 15:32:16.969 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:16.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 163.6318ms
2025-09-29 15:32:16.977 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 169.2521ms
2025-09-29 15:32:17.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:32:17.013 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:17.015 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9396ms
2025-09-29 15:32:17.025 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:32:17.032 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:17.038 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:17.040 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:32:17.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:32:17.058 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:17.060 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 17.8824ms
2025-09-29 15:32:17.062 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:17.064 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.7797ms
2025-09-29 15:32:17.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 15:32:17.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:32:17.092 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.8013ms
2025-09-29 15:32:17.130 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.8768ms
2025-09-29 15:32:17.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:32:17.151 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:17.155 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:17.157 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:32:17.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:32:17.173 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:17.176 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.8551ms
2025-09-29 15:32:17.178 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:32:17.180 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.7829ms
2025-09-29 15:32:17.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 15:32:17.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 245.4073ms
2025-09-29 15:32:20.260 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__now_0='2025-09-29T10:02:20.2166072+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:32:25.239 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 15:32:25.414 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 15:32:25.434 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 15:32:25.441 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-29 15:32:25.444 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:48.3531710Z"
2025-09-29 15:32:25.453 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 15:32:25.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 15:32:25.494 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 15:32:25.499 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 15:32:26.705 +05:30 [INF] Received HTTP response headers after 1200.0936ms - 401
2025-09-29 15:32:26.708 +05:30 [INF] End processing HTTP request after 1215.1934ms - 401
2025-09-29 15:32:26.719 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 15:32:26.798 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T10:02:25.4574377Z"
2025-09-29 15:32:26.801 +05:30 [INF] TemplateSyncWorker: sweep finished in 1585 ms; processed=2; next run ~"2025-09-29T16:02:25.2164806Z"
2025-09-29 15:32:30.272 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T10:02:30.2687120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:32:31.487 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:32:31.493 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:31.493 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:32:31.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 7.8058ms
2025-09-29 15:32:31.499 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:31.505 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:32:31.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 13.7099ms
2025-09-29 15:32:31.514 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:31.523 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:32:31.529 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:31.532 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:32:31.532 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:32:31.539 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 15:32:31.539 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:32:31.560 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 15:32:31.561 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 15:32:31.569 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:32:31.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:31.574 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 33.2521ms
2025-09-29 15:32:31.576 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:32:31.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 55.2921ms
2025-09-29 15:32:31.580 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 37.1212ms
2025-09-29 15:32:31.584 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:32:31.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 81.2354ms
2025-09-29 15:32:40.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:02:40.2897529+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:32:50.315 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:02:50.3117331+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:32:53.634 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/offer_aiboat - null null
2025-09-29 15:32:53.638 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:53.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/offer_aiboat - 204 null null 5.4443ms
2025-09-29 15:32:53.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/offer_aiboat - null null
2025-09-29 15:32:53.646 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:32:53.647 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:32:53.654 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:32:53.688 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='offer_aiboat'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 15:32:53.700 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='offer_aiboat', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 15:32:53.797 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:32:53.803 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 146.9388ms
2025-09-29 15:32:53.805 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:32:53.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/offer_aiboat - 200 null application/json; charset=utf-8 163.7112ms
2025-09-29 15:33:00.331 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:00.3275968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:33:03.605 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 15:33:03.608 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:33:03.609 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 204 null null 3.7153ms
2025-09-29 15:33:03.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 15:33:03.617 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:33:03.619 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:33:03.621 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:33:03.630 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 15:33:03.639 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 15:33:03.648 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:33:03.651 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 27.5913ms
2025-09-29 15:33:03.653 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:33:03.655 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 200 null application/json; charset=utf-8 41.602ms
2025-09-29 15:33:10.365 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:10.3621194+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:33:20.395 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:20.3735718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:33:30.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:30.4057010+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:33:40.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:40.4220549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:33:50.448 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:03:50.4448606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:00.472 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:04:00.4682412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:10.492 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:04:10.4886251+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:12.511 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 15:34:12.516 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:12.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 6.7553ms
2025-09-29 15:34:12.524 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 983
2025-09-29 15:34:12.529 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:12.531 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:34:12.536 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:12.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 15:34:12.723 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 15:34:12.762 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:34:12.765 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:34:14.105 +05:30 [INF] Received HTTP response headers after 1338.6177ms - 401
2025-09-29 15:34:14.107 +05:30 [INF] End processing HTTP request after 1345.5319ms - 401
2025-09-29 15:34:14.110 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Sunday, 28-Sep-25 23:00:00 PDT. The current time is Monday, 29-Sep-25 03:04:16 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AYakBpjpTYfTA4OL6ovLaaJ"}}
2025-09-29 15:34:14.122 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:34:14.404 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='image', @p6='2025-09-29T10:04:14.1147302Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14='https://picsum.photos/200/300', @p15='False', @p16='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p17='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p18='Image_camapign' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='shoe_launch_offer', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"1100798472016654","TemplateName":"shoe_launch_offer","Language":"en_US","HasHeaderMedia":true,"HeaderType":"IMAGE","BodyPlaceholders":[{"Index":1,"Label":null,"Example":null}],"Buttons":[{"Type":"URL","Text":"Shop now","Value":"https://xplorebytesolutions.com/","Order":0},{"Type":"PHONE_NUMBER","Text":"Call us","Value":"+917082156227","Order":1}]}' (DbType = Object), @p27='2025-09-29T10:04:14.1148146Z' (DbType = DateTime), @p28=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-09-29 15:34:14.420 +05:30 [INF] ✅ Campaign 'Image_camapign' created | Type:image | Header:image | FlowId:null | EntryTemplate:shoe_launch_offer | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 15:34:14.428 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:34:14.433 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 1894.663ms
2025-09-29 15:34:14.437 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:34:14.439 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 1914.5588ms
2025-09-29 15:34:14.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:34:14.547 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:14.547 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:34:14.556 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.559 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.561 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 204 null null 19.0531ms
2025-09-29 15:34:14.563 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 16.6925ms
2025-09-29 15:34:14.564 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 17.7319ms
2025-09-29 15:34:14.568 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:34:14.571 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:34:14.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:14.578 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.582 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.583 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.585 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:34:14.585 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:34:14.586 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:34:14.590 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 15:34:14.592 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:34:14.593 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:14.605 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 15:34:14.617 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:34:14.623 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:34:14.632 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:34:14.635 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 42.7854ms
2025-09-29 15:34:14.638 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:34:14.639 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 71.0524ms
2025-09-29 15:34:14.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:34:14.661 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:14.669 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 74.8193ms
2025-09-29 15:34:14.672 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:34:14.673 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 101.8773ms
2025-09-29 15:34:14.691 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 15:34:14.714 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 15:34:14.739 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 142.2605ms
2025-09-29 15:34:14.741 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:34:14.743 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 167.6076ms
2025-09-29 15:34:14.748 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:34:14.751 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:14.753 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:34:14.754 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:34:14.761 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:34:14.769 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:34:14.775 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:34:14.778 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:14.780 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 23.0034ms
2025-09-29 15:34:14.782 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:34:14.784 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 36.1112ms
2025-09-29 15:34:20.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:04:20.5029154+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:30.111 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 15:34:30.115 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.117 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 5.2762ms
2025-09-29 15:34:30.122 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryNyAmofqAyiAD5n2i 216
2025-09-29 15:34:30.128 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.131 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:34:30.144 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:34:30.240 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T10:04:30.1857564Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_single_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 15:34:30.265 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @p0='["phone"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 15:34:30.306 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='8e1e6b89-de01-4c17-b8f6-f27a7121e793', @p1='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T10:04:30.2692177Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"89740 05240"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 15:34:30.313 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 15:34:30.317 +05:30 [INF] CsvBatch "bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff" ingested: 1 rows; headers=1
2025-09-29 15:34:30.320 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:30.327 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 179.6776ms
2025-09-29 15:34:30.331 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:34:30.333 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 211.187ms
2025-09-29 15:34:30.345 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff/sample?take=10 - null null
2025-09-29 15:34:30.350 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.351 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff/sample?take=10 - 204 null null 6.1267ms
2025-09-29 15:34:30.356 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff/sample?take=10 - null null
2025-09-29 15:34:30.361 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.362 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:34:30.369 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:34:30.385 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:34:30.405 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:34:30.411 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:34:30.416 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 43.9726ms
2025-09-29 15:34:30.418 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:34:30.420 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff/sample?take=10 - 200 null application/json; charset=utf-8 63.7489ms
2025-09-29 15:34:30.426 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff - null null
2025-09-29 15:34:30.430 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff - 204 null null 5.5514ms
2025-09-29 15:34:30.456 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff - null null
2025-09-29 15:34:30.460 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:30.464 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:34:30.470 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:34:30.486 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:34:30.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:34:30.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:34:30.511 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 38.0627ms
2025-09-29 15:34:30.513 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:34:30.514 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff - 200 null application/json; charset=utf-8 58.6584ms
2025-09-29 15:34:30.529 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:04:30.5271144+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:32.163 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - null null
2025-09-29 15:34:32.166 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.167 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 4.6399ms
2025-09-29 15:34:32.172 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - application/json 17
2025-09-29 15:34:32.176 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.178 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:34:32.185 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:34:32.216 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:34:32.218 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 30.2205ms
2025-09-29 15:34:32.219 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:34:32.221 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 48.8013ms
2025-09-29 15:34:32.227 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - null null
2025-09-29 15:34:32.230 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.231 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 204 null null 4.634ms
2025-09-29 15:34:32.235 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - application/json 197
2025-09-29 15:34:32.239 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.241 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:34:32.246 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 15:34:32.261 +05:30 [INF] 📦 Materialize request: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" persist=true batch="bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff" audience='Audience 2025-09-29'
2025-09-29 15:34:32.280 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 15:34:32.316 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 15:34:32.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='bfd433f7-4cf0-4cce-a8e3-fed657d8f2ff', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:34:32.337 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:34:32.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:34:32.359 +05:30 [INF] 📦 Materialize result: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" materialized=0 skipped=1 audienceId=null
2025-09-29 15:34:32.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 15:34:32.366 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 117.0846ms
2025-09-29 15:34:32.369 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:34:32.371 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 200 null application/json; charset=utf-8 135.4468ms
2025-09-29 15:34:32.446 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:32.459 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 13.7499ms
2025-09-29 15:34:32.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:32.468 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:32.469 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:32.474 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:32.530 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:34:32.535 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:32.541 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 64.3845ms
2025-09-29 15:34:32.544 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:32.545 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 80.6545ms
2025-09-29 15:34:40.548 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T10:04:40.5442944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:44.181 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:44.187 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:44.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 8.4799ms
2025-09-29 15:34:44.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:44.206 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:44.208 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api)'
2025-09-29 15:34:44.215 +05:30 [INF] Route matched with {action = "GetCampaignRecipients", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignRecipients(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:44.238 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Name", c0."PhoneNumber", c0."Email", c0."LeadSource", c0."CreatedAt"
FROM "CampaignRecipients" AS c
LEFT JOIN "Contacts" AS c0 ON c."ContactId" = c0."Id"
WHERE c."CampaignId" = @__campaignId_0 AND c0."BusinessId" = @__businessId_1
2025-09-29 15:34:44.243 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.CRM.Dtos.ContactDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:44.247 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api) in 29.0511ms
2025-09-29 15:34:44.249 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api)'
2025-09-29 15:34:44.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 50.8577ms
2025-09-29 15:34:50.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:04:50.5580327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:34:51.662 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:34:51.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:34:51.667 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:51.670 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:51.672 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 9.2583ms
2025-09-29 15:34:51.672 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 9.4786ms
2025-09-29 15:34:51.678 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:34:51.681 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:34:51.685 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:51.688 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:51.690 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:34:51.690 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:34:51.692 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 15:34:51.693 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:34:51.699 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 15:34:51.704 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 15:34:51.707 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:51.710 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:34:51.711 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 15.8844ms
2025-09-29 15:34:51.713 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 15.3476ms
2025-09-29 15:34:51.715 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:34:51.717 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:34:51.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 40.7758ms
2025-09-29 15:34:51.720 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 38.5987ms
2025-09-29 15:34:54.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:54.079 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:54.081 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.3754ms
2025-09-29 15:34:54.089 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:54.092 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:54.094 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:54.096 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:54.101 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:34:54.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:54.111 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 13.0115ms
2025-09-29 15:34:54.115 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:54.120 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 31.3174ms
2025-09-29 15:34:56.219 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:56.223 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:56.225 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 6.1669ms
2025-09-29 15:34:56.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:34:56.234 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:56.236 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api)'
2025-09-29 15:34:56.237 +05:30 [INF] Route matched with {action = "GetCampaignRecipients", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignRecipients(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:56.245 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Name", c0."PhoneNumber", c0."Email", c0."LeadSource", c0."CreatedAt"
FROM "CampaignRecipients" AS c
LEFT JOIN "Contacts" AS c0 ON c."ContactId" = c0."Id"
WHERE c."CampaignId" = @__campaignId_0 AND c0."BusinessId" = @__businessId_1
2025-09-29 15:34:56.250 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.CRM.Dtos.ContactDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:56.252 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api) in 11.9971ms
2025-09-29 15:34:56.254 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignRecipients (xbytechat.api)'
2025-09-29 15:34:56.256 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/recipients/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 25.8665ms
2025-09-29 15:34:59.700 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:59.704 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:59.705 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.2775ms
2025-09-29 15:34:59.714 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:34:59.718 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:34:59.719 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:59.721 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:34:59.727 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:34:59.733 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:34:59.736 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.5647ms
2025-09-29 15:34:59.738 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:34:59.741 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 26.6653ms
2025-09-29 15:35:00.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:05:00.5777239+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:02.750 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:35:02.751 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:35:02.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:35:02.756 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.760 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.764 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.765 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 204 null null 15.4763ms
2025-09-29 15:35:02.767 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 15.4016ms
2025-09-29 15:35:02.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 16.0263ms
2025-09-29 15:35:02.772 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:35:02.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:35:02.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:35:02.785 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.788 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.792 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.793 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:35:02.794 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:02.796 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:35:02.797 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:35:02.798 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:35:02.799 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 15:35:02.806 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 15:35:02.811 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:35:02.821 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 15:35:02.825 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:35:02.826 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 25.7168ms
2025-09-29 15:35:02.832 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:35:02.832 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:35:02.835 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:02.836 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 63.266ms
2025-09-29 15:35:02.837 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 32.3872ms
2025-09-29 15:35:02.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:35:02.843 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:02.846 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:02.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 71.255ms
2025-09-29 15:35:02.849 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:02.854 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:35:02.859 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:35:02.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:35:02.871 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:35:02.874 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:02.876 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 20.8473ms
2025-09-29 15:35:02.878 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:02.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 37.7837ms
2025-09-29 15:35:02.924 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 15:35:02.927 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:35:02.930 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 121.334ms
2025-09-29 15:35:02.932 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:35:02.933 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 150.9175ms
2025-09-29 15:35:10.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:05:10.5843048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:14.536 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 15:35:14.540 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.542 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 5.4563ms
2025-09-29 15:35:14.548 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryvZdwrvhjarHN0h1N 216
2025-09-29 15:35:14.554 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.557 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:35:14.560 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:35:14.588 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T10:05:14.5666230Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_single_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 15:35:14.595 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @p0='["phone"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 15:35:14.600 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a5fcf87e-cb63-4fe8-8c38-2d1bc481964f', @p1='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T10:05:14.5979330Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"89740 05240"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 15:35:14.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 15:35:14.609 +05:30 [INF] CsvBatch "ceebc147-d0d7-47b4-9c9f-b0f7b0a95705" ingested: 1 rows; headers=1
2025-09-29 15:35:14.611 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:14.613 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 50.2738ms
2025-09-29 15:35:14.615 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:35:14.616 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 68.7185ms
2025-09-29 15:35:14.626 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/ceebc147-d0d7-47b4-9c9f-b0f7b0a95705/sample?take=10 - null null
2025-09-29 15:35:14.630 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.632 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/ceebc147-d0d7-47b4-9c9f-b0f7b0a95705/sample?take=10 - 204 null null 5.6653ms
2025-09-29 15:35:14.637 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/ceebc147-d0d7-47b4-9c9f-b0f7b0a95705/sample?take=10 - null null
2025-09-29 15:35:14.641 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.642 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:35:14.644 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:35:14.649 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:35:14.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:35:14.660 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:14.662 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 15.9431ms
2025-09-29 15:35:14.664 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:35:14.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/ceebc147-d0d7-47b4-9c9f-b0f7b0a95705/sample?take=10 - 200 null application/json; charset=utf-8 28.6455ms
2025-09-29 15:35:14.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=ceebc147-d0d7-47b4-9c9f-b0f7b0a95705 - null null
2025-09-29 15:35:14.674 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.675 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=ceebc147-d0d7-47b4-9c9f-b0f7b0a95705 - 204 null null 4.3816ms
2025-09-29 15:35:14.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=ceebc147-d0d7-47b4-9c9f-b0f7b0a95705 - null null
2025-09-29 15:35:14.682 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:14.684 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:35:14.685 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:35:14.694 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:35:14.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:35:14.704 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:14.707 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 18.8772ms
2025-09-29 15:35:14.709 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:35:14.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=ceebc147-d0d7-47b4-9c9f-b0f7b0a95705 - 200 null application/json; charset=utf-8 31.2612ms
2025-09-29 15:35:17.611 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - null null
2025-09-29 15:35:17.614 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.615 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 4.2962ms
2025-09-29 15:35:17.619 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - application/json 17
2025-09-29 15:35:17.622 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.624 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:35:17.625 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:35:17.629 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:35:17.630 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 2.8717ms
2025-09-29 15:35:17.632 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:35:17.633 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 14.3144ms
2025-09-29 15:35:17.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - null null
2025-09-29 15:35:17.643 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.644 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 204 null null 3.7995ms
2025-09-29 15:35:17.659 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - application/json 197
2025-09-29 15:35:17.662 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.664 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:35:17.670 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 15:35:17.674 +05:30 [INF] 📦 Materialize request: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" persist=true batch="ceebc147-d0d7-47b4-9c9f-b0f7b0a95705" audience='Audience 2025-09-29'
2025-09-29 15:35:17.679 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 15:35:17.688 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 15:35:17.692 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='ceebc147-d0d7-47b4-9c9f-b0f7b0a95705', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:35:17.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:35:17.701 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:35:17.704 +05:30 [INF] 📦 Materialize result: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" materialized=0 skipped=1 audienceId=null
2025-09-29 15:35:17.706 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 15:35:17.708 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 35.294ms
2025-09-29 15:35:17.710 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:35:17.711 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 200 null application/json; charset=utf-8 51.8658ms
2025-09-29 15:35:17.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:35:17.810 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.812 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.3856ms
2025-09-29 15:35:17.833 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:35:17.839 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:17.841 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:35:17.842 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:35:17.850 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:35:17.854 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:17.856 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 11.77ms
2025-09-29 15:35:17.858 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:35:17.859 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 26.1996ms
2025-09-29 15:35:20.598 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:05:20.5945268+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:23.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:35:23.703 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.705 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.2141ms
2025-09-29 15:35:23.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:35:23.716 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.717 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.719 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:35:23.725 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:35:23.730 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:23.733 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.8072ms
2025-09-29 15:35:23.736 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.739 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.5562ms
2025-09-29 15:35:23.821 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:35:23.826 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9385ms
2025-09-29 15:35:23.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:35:23.852 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.855 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.856 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:35:23.862 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:35:23.868 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:23.870 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.1239ms
2025-09-29 15:35:23.872 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.5231ms
2025-09-29 15:35:23.934 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:35:23.935 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 15:35:23.939 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.943 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.944 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 9.9129ms
2025-09-29 15:35:23.946 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.950 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:35:23.951 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 15:35:23.955 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:23.959 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:35:23.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 15:35:23.964 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:35:23.967 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:23.972 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.0911ms
2025-09-29 15:35:23.973 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:35:23.976 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 15:35:23.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:23.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 46.644ms
2025-09-29 15:35:23.983 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 14.1376ms
2025-09-29 15:35:23.989 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:35:23.991 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 41.0556ms
2025-09-29 15:35:30.617 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:05:30.6144153+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:31.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:35:31.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:35:31.496 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:31.517 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:31.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 26.4328ms
2025-09-29 15:35:31.519 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 27.5159ms
2025-09-29 15:35:31.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:35:31.532 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:35:31.537 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:31.544 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:31.545 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:35:31.547 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:35:31.548 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 15:35:31.550 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:35:31.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 15:35:31.564 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 15:35:31.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:31.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:31.572 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 18.9208ms
2025-09-29 15:35:31.573 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 18.0639ms
2025-09-29 15:35:31.575 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:35:31.577 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:35:31.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 53.8595ms
2025-09-29 15:35:31.579 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 47.1673ms
2025-09-29 15:35:40.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:05:40.6256606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:44.776 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/hello_world - null null
2025-09-29 15:35:44.779 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:44.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/hello_world - 204 null null 4.8667ms
2025-09-29 15:35:44.785 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/hello_world - null null
2025-09-29 15:35:44.788 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:44.789 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:35:44.792 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:35:44.798 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='hello_world'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 15:35:44.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 15:35:44.809 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:44.811 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 17.1027ms
2025-09-29 15:35:44.813 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:35:44.814 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/hello_world - 200 null application/json; charset=utf-8 29.3877ms
2025-09-29 15:35:50.638 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:05:50.6360354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:35:52.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 15:35:52.246 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:52.248 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 5.4768ms
2025-09-29 15:35:52.251 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 609
2025-09-29 15:35:52.254 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:52.258 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:35:52.260 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:35:52.266 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 15:35:52.276 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 15:35:52.279 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:35:52.281 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:35:53.040 +05:30 [INF] Received HTTP response headers after 757.8864ms - 401
2025-09-29 15:35:53.042 +05:30 [INF] End processing HTTP request after 762.9399ms - 401
2025-09-29 15:35:53.044 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Sunday, 28-Sep-25 23:00:00 PDT. The current time is Monday, 29-Sep-25 03:05:55 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AI5V7AKEt8He1QyGd2yUyrd"}}
2025-09-29 15:35:53.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:35:53.055 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='dc831142-b960-4e42-8a36-2764242df877', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='text', @p6='2025-09-29T10:05:53.0467508Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14=NULL, @p15='False', @p16='Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta. Thank you for taking the time to test with us.', @p17='Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta. Thank you for taking the time to test with us.' (Nullable = false), @p18='TextTemplate' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='hello_world', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"617143187619824","TemplateName":"hello_world","Language":"en_US","HasHeaderMedia":false,"HeaderType":"TEXT","BodyPlaceholders":[],"Buttons":[]}' (DbType = Object), @p27='2025-09-29T10:05:53.0467508Z' (DbType = DateTime), @p28=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-09-29 15:35:53.059 +05:30 [INF] ✅ Campaign 'TextTemplate' created | Type:text | Header:text | FlowId:null | EntryTemplate:hello_world | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 15:35:53.062 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:35:53.064 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 801.9007ms
2025-09-29 15:35:53.066 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:35:53.068 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 816.3006ms
2025-09-29 15:35:53.166 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - null null
2025-09-29 15:35:53.166 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:35:53.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/dc831142-b960-4e42-8a36-2764242df877 - null null
2025-09-29 15:35:53.170 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.173 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.177 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.178 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - 204 null null 12.2192ms
2025-09-29 15:35:53.179 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 13.0454ms
2025-09-29 15:35:53.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/dc831142-b960-4e42-8a36-2764242df877 - 204 null null 30.7103ms
2025-09-29 15:35:53.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:35:53.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - null null
2025-09-29 15:35:53.202 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/dc831142-b960-4e42-8a36-2764242df877 - null null
2025-09-29 15:35:53.205 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.208 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.212 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.213 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:35:53.214 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:53.215 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:35:53.216 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 15:35:53.218 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:35:53.219 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:35:53.228 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:35:53.228 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 15:35:53.238 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 15:35:53.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:35:53.243 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:35:53.251 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:35:53.247 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 15:35:53.252 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 30.143ms
2025-09-29 15:35:53.255 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:53.256 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 25.3719ms
2025-09-29 15:35:53.258 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:35:53.260 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 35.8713ms
2025-09-29 15:35:53.261 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:35:53.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 64.7979ms
2025-09-29 15:35:53.265 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:53.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/dc831142-b960-4e42-8a36-2764242df877 - 200 null application/json; charset=utf-8 64.1416ms
2025-09-29 15:35:53.272 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - 200 null application/json; charset=utf-8 73.835ms
2025-09-29 15:35:53.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - null null
2025-09-29 15:35:53.284 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:35:53.285 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:53.287 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:35:53.292 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:35:53.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:35:53.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:35:53.308 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:35:53.310 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 20.7282ms
2025-09-29 15:35:53.311 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:35:53.313 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/csv-sample/schema - 200 null application/json; charset=utf-8 37.1542ms
2025-09-29 15:36:00.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:06:00.6561825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:36:01.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 15:36:01.853 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:01.854 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 6.2998ms
2025-09-29 15:36:01.862 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryBja6w1nHunE7hi6P 216
2025-09-29 15:36:01.870 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:01.872 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:36:01.874 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:36:01.903 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='82af4649-ca58-44ce-bdd5-502966089a06', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T10:06:01.8805881Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_single_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 15:36:01.909 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='82af4649-ca58-44ce-bdd5-502966089a06', @p0='["phone"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 15:36:01.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='0d5e97a1-4db2-49c5-9362-90709300865b', @p1='82af4649-ca58-44ce-bdd5-502966089a06', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T10:06:01.9131970Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"89740 05240"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 15:36:01.922 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='82af4649-ca58-44ce-bdd5-502966089a06', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 15:36:01.925 +05:30 [INF] CsvBatch "82af4649-ca58-44ce-bdd5-502966089a06" ingested: 1 rows; headers=1
2025-09-29 15:36:01.927 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:36:01.929 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 50.9183ms
2025-09-29 15:36:01.931 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:36:01.933 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 71.4564ms
2025-09-29 15:36:01.947 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/82af4649-ca58-44ce-bdd5-502966089a06/sample?take=10 - null null
2025-09-29 15:36:01.954 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:01.955 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/82af4649-ca58-44ce-bdd5-502966089a06/sample?take=10 - 204 null null 8.4631ms
2025-09-29 15:36:01.959 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/82af4649-ca58-44ce-bdd5-502966089a06/sample?take=10 - null null
2025-09-29 15:36:01.962 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:01.964 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:36:01.965 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:36:01.971 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='82af4649-ca58-44ce-bdd5-502966089a06', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:36:01.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='82af4649-ca58-44ce-bdd5-502966089a06', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:36:01.980 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:36:01.982 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 13.4157ms
2025-09-29 15:36:01.984 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:36:01.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/82af4649-ca58-44ce-bdd5-502966089a06/sample?take=10 - 200 null application/json; charset=utf-8 26.9266ms
2025-09-29 15:36:01.992 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings/suggest?batchId=82af4649-ca58-44ce-bdd5-502966089a06 - null null
2025-09-29 15:36:01.995 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:01.996 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings/suggest?batchId=82af4649-ca58-44ce-bdd5-502966089a06 - 204 null null 4.4259ms
2025-09-29 15:36:02.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings/suggest?batchId=82af4649-ca58-44ce-bdd5-502966089a06 - null null
2025-09-29 15:36:02.004 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:02.006 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:36:02.007 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:36:02.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:36:02.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='82af4649-ca58-44ce-bdd5-502966089a06', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:36:02.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:36:02.025 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 15.3186ms
2025-09-29 15:36:02.028 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:36:02.030 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings/suggest?batchId=82af4649-ca58-44ce-bdd5-502966089a06 - 200 null application/json; charset=utf-8 28.7421ms
2025-09-29 15:36:03.260 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings - null null
2025-09-29 15:36:03.265 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.267 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings - 204 null null 6.4797ms
2025-09-29 15:36:03.272 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings - application/json 2
2025-09-29 15:36:03.275 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.277 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:36:03.278 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:36:03.282 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:36:03.284 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 1.9694ms
2025-09-29 15:36:03.285 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:36:03.286 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/mappings - 204 null null 14.6111ms
2025-09-29 15:36:03.291 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/materialize - null null
2025-09-29 15:36:03.293 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.294 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/materialize - 204 null null 3.8225ms
2025-09-29 15:36:03.300 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/materialize - application/json 182
2025-09-29 15:36:03.303 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.304 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:36:03.306 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 15:36:03.310 +05:30 [INF] 📦 Materialize request: campaign="dc831142-b960-4e42-8a36-2764242df877" persist=true batch="82af4649-ca58-44ce-bdd5-502966089a06" audience='Audience 2025-09-29'
2025-09-29 15:36:03.315 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 15:36:03.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='82af4649-ca58-44ce-bdd5-502966089a06'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 15:36:03.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='82af4649-ca58-44ce-bdd5-502966089a06', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:36:03.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:36:03.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='hello_world'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:36:03.411 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 15:36:03.553 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='f1f9945d-1ca5-43a4-8e8e-046914448fe6', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T10:06:03.3761609Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T10:06:03.3761609Z' (Nullable = true) (DbType = DateTime), @p10='5900398c-9893-4260-867a-2d8bc62c957e', @p11='{"phone":"89740 05240"}' (DbType = Object), @p12='f1f9945d-1ca5-43a4-8e8e-046914448fe6', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T10:06:03.3761609Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T10:06:03.3761609Z' (Nullable = true) (DbType = DateTime), @p25='c95a3604-1b31-4c7b-980f-c77499f3c8b6', @p26='5900398c-9893-4260-867a-2d8bc62c957e' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='dc831142-b960-4e42-8a36-2764242df877', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='18E1B1DCC73F45269C78507F0EBD67226442840DB53D37CC87D05930EA81D9E7', @p34='False', @p35='2025-09-29T10:06:03.3761609Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='[]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-29T10:06:03.3761609Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 15:36:03.580 +05:30 [INF] 📦 Materialize result: campaign="dc831142-b960-4e42-8a36-2764242df877" materialized=1 skipped=0 audienceId="f1f9945d-1ca5-43a4-8e8e-046914448fe6"
2025-09-29 15:36:03.583 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 15:36:03.586 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 277.7755ms
2025-09-29 15:36:03.587 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:36:03.589 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/dc831142-b960-4e42-8a36-2764242df877/materialize - 200 null application/json; charset=utf-8 289.0706ms
2025-09-29 15:36:03.672 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:36:03.677 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.678 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.7243ms
2025-09-29 15:36:03.682 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:36:03.686 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:03.687 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:36:03.689 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:36:03.695 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:36:03.700 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:36:03.702 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 10.2967ms
2025-09-29 15:36:03.703 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:36:03.705 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 22.7035ms
2025-09-29 15:36:10.678 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:06:10.6756659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:36:18.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:36:18.533 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:18.534 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 5.5ms
2025-09-29 15:36:18.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 15:36:18.540 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:36:18.544 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:18.547 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:18.548 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:36:18.549 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 8.7389ms
2025-09-29 15:36:18.550 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:36:18.555 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 15:36:18.561 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 15:36:18.564 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:18.567 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:36:18.568 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:36:18.571 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 13.5341ms
2025-09-29 15:36:18.572 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 15:36:18.574 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 15:36:18.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 38.2734ms
2025-09-29 15:36:18.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 15:36:18.588 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:36:18.590 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 14.1072ms
2025-09-29 15:36:18.592 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 15:36:18.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 38.74ms
2025-09-29 15:36:20.692 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:06:20.6900977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:36:24.295 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-29 15:36:24.298 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:24.299 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 204 null null 4.7902ms
2025-09-29 15:36:24.303 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-29 15:36:24.306 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:36:24.307 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:36:24.309 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 15:36:24.314 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 15:36:24.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 15:36:24.324 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:36:24.326 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 14.923ms
2025-09-29 15:36:24.327 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 15:36:24.329 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 200 null application/json; charset=utf-8 25.6613ms
2025-09-29 15:36:30.711 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:06:30.7081462+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:36:40.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:06:40.7302860+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:36:50.743 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:06:50.7401931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:00.763 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:07:00.7608324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:10.772 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:07:10.7693980+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:20.792 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:07:20.7891548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:30.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:07:30.8038792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:40.817 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:07:40.8154848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:37:50.823 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:07:50.8211579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:00.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:08:00.8302099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:10.840 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:08:10.8383003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:20.848 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:08:20.8451149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:30.865 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T10:08:30.8612525+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:40.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:08:40.8734923+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:38:50.889 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:08:50.8875428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:00.899 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:09:00.8964486+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:10.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:09:10.9131075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:20.935 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:09:20.9319336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:24.798 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 15:39:24.806 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:24.807 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 8.9746ms
2025-09-29 15:39:24.811 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 841
2025-09-29 15:39:24.814 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:24.816 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:39:24.817 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:39:24.823 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 15:39:24.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 15:39:24.834 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:39:24.835 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 15:39:25.920 +05:30 [INF] Received HTTP response headers after 1083.448ms - 401
2025-09-29 15:39:25.923 +05:30 [INF] End processing HTTP request after 1089.2392ms - 401
2025-09-29 15:39:25.925 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Sunday, 28-Sep-25 23:00:00 PDT. The current time is Monday, 29-Sep-25 03:09:28 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AtNfqB_7kIKDCB_6gHkEbZ7"}}
2025-09-29 15:39:25.930 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:39:25.952 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='video', @p6='2025-09-29T10:09:25.9281401Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14=NULL, @p15='False', @p16='Hello {{1}} 👋
Aapka order successfully deliver ho chuka hai. 🚚✨
Kya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊
Neeche diye gaye options me se select karke bataye 👇', @p17='Hello {{1}} 👋
Aapka order successfully deliver ho chuka hai. 🚚✨
Kya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊
Neeche diye gaye options me se select karke bataye 👇' (Nullable = false), @p18='video_template' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='welcome_video', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"1284099969686703","TemplateName":"welcome_video","Language":"en_US","HasHeaderMedia":true,"HeaderType":"VIDEO","BodyPlaceholders":[{"Index":1,"Label":null,"Example":null}],"Buttons":[{"Type":"QUICK_REPLY","Text":"Yes","Value":"","Order":0},{"Type":"QUICK_REPLY","Text":"No","Value":"","Order":1}]}' (DbType = Object), @p27='2025-09-29T10:09:25.9281401Z' (DbType = DateTime), @p28='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-09-29 15:39:25.956 +05:30 [INF] ✅ Campaign 'video_template' created | Type:video | Header:video | FlowId:null | EntryTemplate:welcome_video | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 15:39:25.959 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:39:25.961 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 1141.6022ms
2025-09-29 15:39:25.962 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 15:39:25.964 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 1152.5132ms
2025-09-29 15:39:26.050 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-29 15:39:26.050 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:39:26.052 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null null
2025-09-29 15:39:26.057 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.061 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.066 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 15.8407ms
2025-09-29 15:39:26.065 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 204 null null 14.862ms
2025-09-29 15:39:26.064 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.072 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-29 15:39:26.076 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:39:26.077 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 204 null null 25.6431ms
2025-09-29 15:39:26.080 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.082 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.086 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null null
2025-09-29 15:39:26.088 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:39:26.088 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:39:26.091 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.092 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:39:26.093 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 15:39:26.095 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:39:26.102 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:39:26.104 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:39:26.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:39:26.124 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:39:26.127 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:39:26.129 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 31.6677ms
2025-09-29 15:39:26.131 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:39:26.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 200 null application/json; charset=utf-8 59.481ms
2025-09-29 15:39:26.219 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 15:39:26.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:39:26.224 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 121.4211ms
2025-09-29 15:39:26.226 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:39:26.227 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 150.9727ms
2025-09-29 15:39:26.260 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 15:39:26.264 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 15:39:26.266 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 150.6603ms
2025-09-29 15:39:26.268 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:39:26.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 200 null application/json; charset=utf-8 183.2953ms
2025-09-29 15:39:26.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-29 15:39:26.279 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:26.281 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:39:26.282 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:39:26.287 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:39:26.295 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:39:26.300 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:39:26.303 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:39:26.305 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 21.1765ms
2025-09-29 15:39:26.307 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:39:26.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 200 null application/json; charset=utf-8 32.567ms
2025-09-29 15:39:30.955 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:09:30.9530944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:34.576 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 15:39:34.581 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.582 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 5.5118ms
2025-09-29 15:39:34.587 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryfmlB9MlhauhAtRH0 216
2025-09-29 15:39:34.591 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.592 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:39:34.594 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:39:34.619 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T10:09:34.5979085Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_single_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 15:39:34.626 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @p0='["phone"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 15:39:34.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a92fa54b-3f67-4a71-8fd2-dfba38e3b3a9', @p1='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T10:09:34.6298194Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"89740 05240"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 15:39:34.638 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 15:39:34.640 +05:30 [INF] CsvBatch "9990d19b-ae96-4aba-8ba6-b9ebb58088a6" ingested: 1 rows; headers=1
2025-09-29 15:39:34.642 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:39:34.644 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 47.6759ms
2025-09-29 15:39:34.646 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:39:34.647 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 59.7399ms
2025-09-29 15:39:34.659 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/9990d19b-ae96-4aba-8ba6-b9ebb58088a6/sample?take=10 - null null
2025-09-29 15:39:34.662 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.664 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/9990d19b-ae96-4aba-8ba6-b9ebb58088a6/sample?take=10 - 204 null null 4.8957ms
2025-09-29 15:39:34.668 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/9990d19b-ae96-4aba-8ba6-b9ebb58088a6/sample?take=10 - null null
2025-09-29 15:39:34.672 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.673 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:39:34.675 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:39:34.695 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__batchId_0='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:39:34.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:39:34.710 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:39:34.712 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 21.486ms
2025-09-29 15:39:34.715 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:39:34.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/9990d19b-ae96-4aba-8ba6-b9ebb58088a6/sample?take=10 - 200 null application/json; charset=utf-8 48.2649ms
2025-09-29 15:39:34.722 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=9990d19b-ae96-4aba-8ba6-b9ebb58088a6 - null null
2025-09-29 15:39:34.725 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.726 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=9990d19b-ae96-4aba-8ba6-b9ebb58088a6 - 204 null null 3.9942ms
2025-09-29 15:39:34.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=9990d19b-ae96-4aba-8ba6-b9ebb58088a6 - null null
2025-09-29 15:39:34.734 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:34.736 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:39:34.737 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:39:34.743 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:39:34.750 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:39:34.754 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:39:34.755 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 16.1011ms
2025-09-29 15:39:34.757 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:39:34.759 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=9990d19b-ae96-4aba-8ba6-b9ebb58088a6 - 200 null application/json; charset=utf-8 27.9086ms
2025-09-29 15:39:36.571 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - null null
2025-09-29 15:39:36.574 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.575 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - 204 null null 4.411ms
2025-09-29 15:39:36.588 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - application/json 17
2025-09-29 15:39:36.597 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.599 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:39:36.602 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:39:36.605 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:39:36.606 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 1.9058ms
2025-09-29 15:39:36.608 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:39:36.609 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - 204 null null 21.111ms
2025-09-29 15:39:36.617 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - null null
2025-09-29 15:39:36.620 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - 204 null null 3.8025ms
2025-09-29 15:39:36.625 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - application/json 197
2025-09-29 15:39:36.629 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.631 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:39:36.632 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 15:39:36.635 +05:30 [INF] 📦 Materialize request: campaign="3eb5f71d-e58a-4853-8621-1ce4d43bd8ee" persist=true batch="9990d19b-ae96-4aba-8ba6-b9ebb58088a6" audience='Audience 2025-09-29'
2025-09-29 15:39:36.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 15:39:36.648 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='9990d19b-ae96-4aba-8ba6-b9ebb58088a6'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 15:39:36.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='9990d19b-ae96-4aba-8ba6-b9ebb58088a6', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:39:36.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:39:36.662 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:39:36.665 +05:30 [INF] 📦 Materialize result: campaign="3eb5f71d-e58a-4853-8621-1ce4d43bd8ee" materialized=0 skipped=1 audienceId=null
2025-09-29 15:39:36.667 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 15:39:36.668 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 34.4064ms
2025-09-29 15:39:36.670 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:39:36.672 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - 200 null application/json; charset=utf-8 46.4364ms
2025-09-29 15:39:36.763 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:39:36.766 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.7772ms
2025-09-29 15:39:36.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:39:36.786 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:39:36.787 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:39:36.788 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:39:36.796 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:39:36.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:39:36.801 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 10.5723ms
2025-09-29 15:39:36.803 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:39:36.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 22.3932ms
2025-09-29 15:39:40.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:09:40.9746004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:39:50.990 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:09:50.9871499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:01.005 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:10:01.0024588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:11.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:10:11.0140904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:21.023 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:10:21.0211762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:31.029 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:10:31.0271315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:41.042 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:10:41.0395622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:40:51.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:10:51.0509133+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:01.061 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:11:01.0579864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:11.067 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:11:11.0651498+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:21.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:11:21.0776385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:31.129 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='2025-09-29T10:11:31.1168570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:41.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:11:41.1338146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:41:51.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:11:51.1527849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:01.172 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:12:01.1693245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:11.189 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:12:11.1867782+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:21.295 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T10:12:21.1947554+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:24.769 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:42:24.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:42:24.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:42:24.773 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.777 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.781 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.782 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 204 null null 13.3232ms
2025-09-29 15:42:24.785 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 13.6064ms
2025-09-29 15:42:24.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 12.62ms
2025-09-29 15:42:24.796 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 15:42:24.802 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:42:24.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:42:24.812 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.819 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.824 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.826 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:42:24.827 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:42:24.829 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:42:24.830 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 15:42:24.832 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:42:24.843 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 15:42:24.835 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:42:24.852 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:42:24.864 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 24.4694ms
2025-09-29 15:42:24.864 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:42:24.868 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 15:42:24.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 78.2536ms
2025-09-29 15:42:24.874 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:42:24.887 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:42:24.891 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:42:24.895 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 35.4098ms
2025-09-29 15:42:24.898 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:42:24.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 93.1022ms
2025-09-29 15:42:24.971 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 15:42:24.976 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 15:42:24.978 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 132.4345ms
2025-09-29 15:42:24.981 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 15:42:24.983 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 180.3989ms
2025-09-29 15:42:24.989 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 15:42:24.993 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:24.995 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:42:24.997 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 15:42:25.002 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 15:42:25.012 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 15:42:25.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:42:25.025 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:42:25.028 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 28.9451ms
2025-09-29 15:42:25.032 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 15:42:25.035 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 45.9346ms
2025-09-29 15:42:31.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:12:31.3063595+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:41.317 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:12:41.3151629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:42.448 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 15:42:42.454 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.456 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 8.0328ms
2025-09-29 15:42:42.485 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryxnsMQKwNYKEP39wn 266
2025-09-29 15:42:42.490 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.491 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:42:42.494 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:42:42.522 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T10:12:42.4998251Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 15:42:42.529 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 15:42:42.539 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='ae2aad80-7639-4910-b448-ca5e43b6f854', @p1='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T10:12:42.5332116Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='1', @p7='{"phone":"9990033746","parameter1":"Wiiliam Jackson"}' (Nullable = false) (DbType = Object), @p8=NULL, @p9='dc691a00-462d-4736-a287-7c00ebbb78e7', @p10='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @p11='9841bcab-ca71-439f-8691-d85ada887b01', @p12='2025-09-29T10:12:42.5331404Z' (DbType = DateTime), @p13=NULL, @p14=NULL, @p15='0', @p16='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p17=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-09-29 15:42:42.546 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @p0='2', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 15:42:42.550 +05:30 [INF] CsvBatch "192399c9-4f1b-441c-9bbb-6dbdb2b19ee4" ingested: 2 rows; headers=2
2025-09-29 15:42:42.552 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:42:42.554 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 56.0099ms
2025-09-29 15:42:42.557 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 15:42:42.558 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 73.2729ms
2025-09-29 15:42:42.573 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/192399c9-4f1b-441c-9bbb-6dbdb2b19ee4/sample?take=10 - null null
2025-09-29 15:42:42.578 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.580 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/192399c9-4f1b-441c-9bbb-6dbdb2b19ee4/sample?take=10 - 204 null null 6.6418ms
2025-09-29 15:42:42.586 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/192399c9-4f1b-441c-9bbb-6dbdb2b19ee4/sample?take=10 - null null
2025-09-29 15:42:42.591 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.593 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:42:42.596 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 15:42:42.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:42:42.610 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:42:42.615 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:42:42.617 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 18.5379ms
2025-09-29 15:42:42.619 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 15:42:42.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/192399c9-4f1b-441c-9bbb-6dbdb2b19ee4/sample?take=10 - 200 null application/json; charset=utf-8 37.1325ms
2025-09-29 15:42:42.630 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=192399c9-4f1b-441c-9bbb-6dbdb2b19ee4 - null null
2025-09-29 15:42:42.634 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.636 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=192399c9-4f1b-441c-9bbb-6dbdb2b19ee4 - 204 null null 6.3475ms
2025-09-29 15:42:42.647 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=192399c9-4f1b-441c-9bbb-6dbdb2b19ee4 - null null
2025-09-29 15:42:42.652 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:42.654 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:42:42.656 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:42:42.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:42:42.671 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:42:42.675 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:42:42.678 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 18.2705ms
2025-09-29 15:42:42.680 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 15:42:42.682 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=192399c9-4f1b-441c-9bbb-6dbdb2b19ee4 - 200 null application/json; charset=utf-8 35.2642ms
2025-09-29 15:42:45.239 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - null null
2025-09-29 15:42:45.258 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 20.8079ms
2025-09-29 15:42:45.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - application/json 27
2025-09-29 15:42:45.274 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.276 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:42:45.278 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 15:42:45.282 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 15:42:45.284 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 2.5687ms
2025-09-29 15:42:45.286 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 15:42:45.288 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 17.6683ms
2025-09-29 15:42:45.295 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - null null
2025-09-29 15:42:45.299 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.300 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 204 null null 5.4938ms
2025-09-29 15:42:45.307 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - application/json 207
2025-09-29 15:42:45.313 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.315 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:42:45.316 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 15:42:45.321 +05:30 [INF] 📦 Materialize request: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" persist=true batch="192399c9-4f1b-441c-9bbb-6dbdb2b19ee4" audience='Audience 2025-09-29'
2025-09-29 15:42:45.326 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 15:42:45.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 15:42:45.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='192399c9-4f1b-441c-9bbb-6dbdb2b19ee4', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 15:42:45.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:42:45.352 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 15:42:45.362 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 15:42:45.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='919990033746'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 15:42:45.380 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='a05f5c3f-1de8-4ebc-b6de-3bdeb8efa5e9', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T10:12:45.3593345Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T10:12:45.3593345Z' (Nullable = true) (DbType = DateTime), @p10='241178bf-845a-45e2-9509-49feb75be743', @p11='{"parameter1":"Robert Nicosta"}' (DbType = Object), @p12='a05f5c3f-1de8-4ebc-b6de-3bdeb8efa5e9', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T10:12:45.3593345Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T10:12:45.3593345Z' (Nullable = true) (DbType = DateTime), @p25='8251b755-63e8-420d-bed3-5099b3728858', @p26='{"parameter1":"Wiiliam Jackson"}' (DbType = Object), @p27='a05f5c3f-1de8-4ebc-b6de-3bdeb8efa5e9', @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29=NULL (DbType = Guid), @p30='2025-09-29T10:12:45.3593345Z' (DbType = DateTime), @p31=NULL (DbType = Guid), @p32=NULL, @p33='False', @p34='True', @p35=NULL, @p36='919990033746', @p37=NULL, @p38=NULL (DbType = DateTime), @p39='2025-09-29T10:12:45.3593345Z' (Nullable = true) (DbType = DateTime), @p40='15604b3d-01e2-4f43-9067-043700f50bbc', @p41='8251b755-63e8-420d-bed3-5099b3728858' (Nullable = true), @p42=NULL, @p43='9841bcab-ca71-439f-8691-d85ada887b01', @p44='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p45=NULL, @p46=NULL, @p47=NULL (DbType = Guid), @p48='DBBD6EDA8B9857F44C876560CC5B90DDA17A633042C9D7FD4E415DDA7003278D', @p49='False', @p50='2025-09-29T10:12:45.3593345Z' (Nullable = true) (DbType = DateTime), @p51=NULL, @p52=NULL, @p53='{}' (DbType = Object), @p54='["Wiiliam Jackson"]' (DbType = Object), @p55=NULL (DbType = DateTime), @p56='Pending' (Nullable = false), @p57='2025-09-29T10:12:45.3593345Z' (DbType = DateTime), @p58='69dff904-eeab-401d-b6ab-da66c84a847c', @p59='241178bf-845a-45e2-9509-49feb75be743' (Nullable = true), @p60=NULL, @p61='9841bcab-ca71-439f-8691-d85ada887b01', @p62='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p63=NULL, @p64=NULL, @p65='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p66='AC1ECCA3A7B16A69962BCCB0C2CEE241F53A16CC79ECC8499009287C5B760DBB', @p67='False', @p68='2025-09-29T10:12:45.3593345Z' (Nullable = true) (DbType = DateTime), @p69=NULL, @p70=NULL, @p71='{}' (DbType = Object), @p72='["Robert Nicosta"]' (DbType = Object), @p73=NULL (DbType = DateTime), @p74='Pending' (Nullable = false), @p75='2025-09-29T10:12:45.3593345Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75);
2025-09-29 15:42:45.406 +05:30 [INF] 📦 Materialize result: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" materialized=2 skipped=0 audienceId="a05f5c3f-1de8-4ebc-b6de-3bdeb8efa5e9"
2025-09-29 15:42:45.411 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 15:42:45.414 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 93.8458ms
2025-09-29 15:42:45.416 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 15:42:45.418 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 200 null application/json; charset=utf-8 111.3247ms
2025-09-29 15:42:45.505 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:42:45.510 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.512 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.5281ms
2025-09-29 15:42:45.518 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 15:42:45.523 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:45.525 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:42:45.527 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:42:45.535 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 15:42:45.540 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 15:42:45.543 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 13.1595ms
2025-09-29 15:42:45.546 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 15:42:45.548 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 29.5899ms
2025-09-29 15:42:51.322 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:12:51.3195720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:42:51.411 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:42:51.416 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:51.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 6.571ms
2025-09-29 15:42:51.425 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null 0
2025-09-29 15:42:51.430 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:42:51.432 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 15:42:51.439 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:42:51.530 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 15:42:51.573 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 15:42:51.583 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 15:42:51.710 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__messageLogId_0='3c1f91cc-f8c0-4888-b0a2-f4443ec628ca', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:42:51.785 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='3c1f91cc-f8c0-4888-b0a2-f4443ec628ca', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T10:12:51.6059818Z' (DbType = DateTime), @p11='API Failure', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"Success":false,"Message":"❌ Invalid provider.","Code":400,"Payload":null,"Data":null,"ErrorMessage":"Provider must be exactly 'PINNACLE' or 'META_CLOUD'.","RawResponse":null,"MessageId":null,"LogId":null,"Token":null,"RefreshToken":null}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-29T10:12:51.6060314Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='8f7640c1-f9dd-43e9-a37f-e1636da44169', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T10:12:51.7147647+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='3c1f91cc-f8c0-4888-b0a2-f4443ec628ca' (Nullable = true), @p38='2025-09-29T10:12:51.7153474+00:00' (DbType = DateTime), @p39='{"Success":false,"Message":"❌ Invalid provider.","Code":400,"Payload":null,"Data":null,"ErrorMessage":"Provider must be exactly 'PINNACLE' or 'META_CLOUD'.","RawResponse":null,"MessageId":null,"LogId":null,"Token":null,"RefreshToken":null}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 15:43:41.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T10:13:41.9699653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:43:43.671 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 15:43:43.674 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 52231.967ms
2025-09-29 15:43:43.675 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 15:43:43.677 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 400 null application/json; charset=utf-8 52252.0307ms
2025-09-29 15:43:52.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T10:13:52.0100011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 15:43:58.489 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 15:43:58.494 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:43:58.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 6.0041ms
2025-09-29 15:43:58.501 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null 0
2025-09-29 15:43:58.505 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:43:58.507 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 15:43:58.509 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 15:43:58.516 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 15:43:58.525 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 15:43:58.531 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 15:43:58.539 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__messageLogId_0='26b77567-ffcf-48d6-a332-1304ca126ca0', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 15:43:58.546 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='26b77567-ffcf-48d6-a332-1304ca126ca0', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T10:13:58.5364174Z' (DbType = DateTime), @p11='API Failure', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"Success":false,"Message":"❌ Invalid provider.","Code":400,"Payload":null,"Data":null,"ErrorMessage":"Provider must be exactly 'PINNACLE' or 'META_CLOUD'.","RawResponse":null,"MessageId":null,"LogId":null,"Token":null,"RefreshToken":null}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-29T10:13:58.5364176Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='3febcff7-f8b7-49e5-8af5-afe82c3bfbb1', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T10:13:58.5430110+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='26b77567-ffcf-48d6-a332-1304ca126ca0' (Nullable = true), @p38='2025-09-29T10:13:58.5430120+00:00' (DbType = DateTime), @p39='{"Success":false,"Message":"❌ Invalid provider.","Code":400,"Payload":null,"Data":null,"ErrorMessage":"Provider must be exactly 'PINNACLE' or 'META_CLOUD'.","RawResponse":null,"MessageId":null,"LogId":null,"Token":null,"RefreshToken":null}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:52:05.031 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 16:52:05.088 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 16:52:05.105 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 16:52:06.020 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 16:52:06.633 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 16:52:06.653 +05:30 [INF] ClickLogWorker started
2025-09-29 16:52:06.817 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 16:52:06.859 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__cutoff_0='2025-09-22T11:22:05.2582994Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 16:52:06.910 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 16:52:06.911 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 16:52:06.913 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 16:52:06.914 +05:30 [INF] Hosting environment: Development
2025-09-29 16:52:06.915 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 16:52:07.718 +05:30 [INF] ClickLogWorker stopped
2025-09-29 16:52:08.681 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 16:52:08.855 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 182.9683ms
2025-09-29 16:52:08.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 16:52:08.884 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2151ms
2025-09-29 16:52:08.969 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 16:52:09.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8588ms
2025-09-29 16:52:09.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 16:52:09.431 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 219.1898ms
2025-09-29 16:52:11.743 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='2025-09-29T11:22:11.6664781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:52:16.691 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 16:52:16.740 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 16:52:16.764 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 16:52:16.768 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-29 16:52:16.770 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:48.3531710Z"
2025-09-29 16:52:16.780 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 16:52:16.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 16:52:16.810 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 16:52:16.813 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 16:52:17.567 +05:30 [INF] Received HTTP response headers after 749.4749ms - 401
2025-09-29 16:52:17.570 +05:30 [INF] End processing HTTP request after 763.4805ms - 401
2025-09-29 16:52:17.585 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 16:52:17.677 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T11:22:16.7829676Z"
2025-09-29 16:52:17.680 +05:30 [INF] TemplateSyncWorker: sweep finished in 1017 ms; processed=2; next run ~"2025-09-29T17:22:16.6633619Z"
2025-09-29 16:52:21.092 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 16:52:21.098 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 16:52:21.131 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.134 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 41.5235ms
2025-09-29 16:52:21.137 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 16:52:21.144 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.190 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 16:52:21.209 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 16:52:21.235 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 16:52:21.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 16:52:21.352 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 16:52:21.443 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 16:52:21.452 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 16:52:21.497 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 16:52:21.499 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 16:52:21.504 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:52:21.511 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 297.799ms
2025-09-29 16:52:21.513 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 16:52:21.518 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 380.4713ms
2025-09-29 16:52:21.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 16:52:21.525 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.526 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.9216ms
2025-09-29 16:52:21.529 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 16:52:21.532 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.561 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.565 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 16:52:21.576 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 16:52:21.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 16:52:21.603 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:52:21.613 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 45.6977ms
2025-09-29 16:52:21.614 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 86.5395ms
2025-09-29 16:52:21.627 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 16:52:21.630 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.631 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.0295ms
2025-09-29 16:52:21.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 16:52:21.644 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.648 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.649 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 16:52:21.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 16:52:21.660 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:52:21.661 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.0907ms
2025-09-29 16:52:21.662 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.663 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.5024ms
2025-09-29 16:52:21.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:22:21.7495635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:52:21.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 16:52:21.761 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:21.764 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.765 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 16:52:21.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 16:52:21.775 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:52:21.777 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.8463ms
2025-09-29 16:52:21.779 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 16:52:21.780 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.365ms
2025-09-29 16:52:27.090 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:52:27.094 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:27.095 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.434ms
2025-09-29 16:52:27.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:52:27.114 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:27.116 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:52:27.122 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:52:27.159 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 16:52:27.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:52:27.175 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 51.0748ms
2025-09-29 16:52:27.176 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:52:27.177 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 77.5256ms
2025-09-29 16:52:31.761 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:22:31.7578917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:52:41.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:22:41.7870618+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:52:44.589 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 16:52:44.592 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:44.593 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 3.9939ms
2025-09-29 16:52:44.595 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null 0
2025-09-29 16:52:44.598 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:52:44.599 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:52:44.603 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:52:47.670 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:52:47.718 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:52:47.725 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:52:54.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:22:53.5588554+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:52:54.500 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:52:54.524 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:52:54.525 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:52:55.175 +05:30 [INF] Received HTTP response headers after 649.0122ms - 401
2025-09-29 16:52:55.177 +05:30 [INF] End processing HTTP request after 652.4603ms - 401
2025-09-29 16:52:55.178 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Sunday, 28-Sep-25 23:00:00 PDT. The current time is Monday, 29-Sep-25 04:22:57 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AnW7xsgmqLxPJUCutFlLDry"}}
2025-09-29 16:53:09.643 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:53:09.649 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T11:23:09.6433047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:53:09.654 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 25049.5858ms
2025-09-29 16:53:09.655 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:53:09.656 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 400 null application/json; charset=utf-8 25060.7749ms
2025-09-29 16:53:19.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:23:19.6544338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:53:29.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:23:29.6659127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:53:39.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:23:39.6779681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:53:49.697 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:23:49.6941890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:53:53.873 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 16:53:53.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 16:53:53.883 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.887 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 14.151ms
2025-09-29 16:53:53.888 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.891 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-29 16:53:53.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 17.2156ms
2025-09-29 16:53:53.894 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-29 16:53:53.899 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 16:53:53.901 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.902 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:53.905 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 16:53:53.906 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 16:53:53.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 16:53:53.919 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-29 16:53:53.922 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 16:53:53.927 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:53:53.930 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 23.1532ms
2025-09-29 16:53:53.931 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 22.0137ms
2025-09-29 16:53:53.932 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-29 16:53:53.933 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:53.935 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 43.901ms
2025-09-29 16:53:53.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 38.7504ms
2025-09-29 16:53:53.943 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 16:53:53.947 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.948 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 4.4864ms
2025-09-29 16:53:53.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 16:53:53.955 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.956 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:53.957 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 16:53:53.964 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 16:53:53.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:53:53.970 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 10.3564ms
2025-09-29 16:53:53.972 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:53.973 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-29 16:53:53.974 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 22.182ms
2025-09-29 16:53:53.977 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:53.982 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:53.984 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-29 16:53:53.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 16:53:53.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:53:53.997 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 10.2941ms
2025-09-29 16:53:53.998 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-29 16:53:54.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 26.4384ms
2025-09-29 16:53:58.669 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-29 16:53:58.672 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:58.673 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 3.6701ms
2025-09-29 16:53:58.676 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 566
2025-09-29 16:53:58.678 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:53:58.679 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 16:53:58.683 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 16:53:58.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-29 16:53:58.759 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPgbbXsGK1mcLLhAPZBts5p0cgxqEjaSl7GiNmvtQmv7p5I7mbLzntiZCgz9LTtZB01gMZBWeelHviEsEgLZCYnffspJKeyBVzTaW7oA7Pmo1p3DChuhdp0ddZCcjUTQFq6uyRmAk86wFt3qPjKbbTqMxvBrRU8UGjcGZCdIRQumvlxdEkyofqqkeq5X2OxZB4KAWahrXChimkuCiLizZABPNlFn38qzWMxnSBEzrYhs047TZBZCNl81CQZDZD' (Nullable = false), @p1='2025-09-29T11:23:58.7045108Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-29 16:53:58.771 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:53:58.773 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 88.5341ms
2025-09-29 16:53:58.774 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-29 16:53:58.775 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 99.5708ms
2025-09-29 16:53:59.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:23:59.7048601+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:09.715 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:24:09.7126521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:19.722 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:24:19.7201763+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:22.691 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:54:22.694 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:54:22.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 7.6885ms
2025-09-29 16:54:22.705 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:54:22.708 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:54:22.710 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:54:22.711 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:54:22.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 16:54:22.727 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:54:22.728 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 15.0317ms
2025-09-29 16:54:22.729 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:54:22.731 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 25.9891ms
2025-09-29 16:54:23.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 16:54:23.974 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:54:23.975 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 3.389ms
2025-09-29 16:54:23.978 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null 0
2025-09-29 16:54:23.980 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:54:23.982 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:54:23.982 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:54:26.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:54:26.645 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:54:26.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:54:27.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:54:27.604 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:54:27.605 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:54:28.713 +05:30 [INF] Received HTTP response headers after 1107.3511ms - 200
2025-09-29 16:54:28.715 +05:30 [INF] End processing HTTP request after 1110.8292ms - 200
2025-09-29 16:54:29.034 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__neededMemberIds_1={ '8251b755-63e8-420d-bed3-5099b3728858' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."PhoneE164", a."PhoneRaw", a."Name"
FROM "AudienceMembers" AS a
WHERE a."BusinessId" = @__businessId_0 AND a."Id" = ANY (@__neededMemberIds_1)
2025-09-29 16:54:29.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:54:29.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:54:29.198 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:54:29.199 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:54:29.728 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:24:29.7265767+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:30.160 +05:30 [INF] Received HTTP response headers after 959.9778ms - 200
2025-09-29 16:54:30.162 +05:30 [INF] End processing HTTP request after 963.9498ms - 200
2025-09-29 16:54:30.309 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p5='69dff904-eeab-401d-b6ab-da66c84a847c', @p0='92853aa3e30759c9c68c3f5a1f970b412ca3939b55e3bcb004d403dc022e53e3', @p1='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p2='[]' (DbType = Object), @p3='[]' (DbType = Object), @p4='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p6='99d055a4-7f2c-44fc-adeb-9ddf89a425f3', @p7='9841bcab-ca71-439f-8691-d85ada887b01', @p8=NULL, @p9=NULL (DbType = Guid), @p10=NULL (DbType = Guid), @p11=NULL (DbType = Guid), @p12=NULL (DbType = Guid), @p13=NULL, @p14=NULL, @p15=NULL (DbType = DateTime), @p16='2025-09-29T11:24:30.1688666Z' (DbType = DateTime), @p17=NULL, @p18=NULL (DbType = Int32), @p19=NULL (DbType = Boolean), @p20='False', @p21='https://picsum.photos/200/300', @p22='shoe_launch_offer' (Nullable = false), @p23='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==', @p24=NULL (DbType = Decimal), @p25=NULL, @p26=NULL, @p27=NULL, @p28='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==","message_status":"accepted"}]}', @p29='918974005240' (Nullable = false), @p30=NULL (DbType = Guid), @p31='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p32=NULL (DbType = Guid), @p33='2025-09-29T11:24:30.1689304Z' (Nullable = true) (DbType = DateTime), @p34=NULL, @p35='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "MaterializedAt" = @p1, "ResolvedButtonUrlsJson" = @p2, "ResolvedParametersJson" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING "MessageTime";
2025-09-29 16:54:30.338 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='fda8503a-8bc6-4ff4-a5df-667c0844e27c', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:54:30.370 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='fda8503a-8bc6-4ff4-a5df-667c0844e27c', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='d464461d-30c3-44f4-94cc-120d8bf1b15e' (Nullable = true), @p27='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Sent' (Nullable = false), @p30='0c44d70c-b6c6-4524-a3a5-e13fca95ca19', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:24:30.3410452+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='fda8503a-8bc6-4ff4-a5df-667c0844e27c' (Nullable = true), @p38='2025-09-29T11:24:30.3413495+00:00' (DbType = DateTime), @p39='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==","message_status":"accepted"}]}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:54:30.418 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:54:30.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:54:30.423 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:54:30.424 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:54:32.287 +05:30 [INF] Received HTTP response headers after 1861.3915ms - 200
2025-09-29 16:54:32.288 +05:30 [INF] End processing HTTP request after 1864.5315ms - 200
2025-09-29 16:54:32.307 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p5='15604b3d-01e2-4f43-9067-043700f50bbc', @p0='be8c2186bb7b3999679c12ed6a12ec1b5b736ba90eeb9170559a782f5af29a75', @p1='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p2='[]' (DbType = Object), @p3='[]' (DbType = Object), @p4='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p6='1a73b234-e441-4846-9fe2-fa71c14fcd9a', @p7='True', @p8=NULL, @p9='9841bcab-ca71-439f-8691-d85ada887b01', @p10='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p11=NULL (DbType = Guid), @p12=NULL (DbType = Guid), @p13='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p14=NULL, @p15=NULL, @p16=NULL (DbType = DateTime), @p17='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p18=NULL, @p19='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p20=NULL, @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24=NULL, @p25=NULL, @p26='False', @p27=NULL (DbType = DateTime), @p28=NULL, @p29=NULL, @p30='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p31='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNTcwMUUzNDZBMzE2NTdDN0MzAA==', @p32='fda8503a-8bc6-4ff4-a5df-667c0844e27c' (Nullable = true), @p33=NULL (DbType = DateTime), @p34='69dff904-eeab-401d-b6ab-da66c84a847c', @p35='0', @p36='d464461d-30c3-44f4-94cc-120d8bf1b15e' (Nullable = true), @p37='Sent', @p38='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p39=NULL, @p40='shoe_launch_offer', @p41=NULL (DbType = Guid), @p42='5465c45b-19ec-46f6-b5fb-4affe7a7ed11', @p43='9841bcab-ca71-439f-8691-d85ada887b01', @p44=NULL, @p45=NULL (DbType = Guid), @p46=NULL (DbType = Guid), @p47=NULL (DbType = Guid), @p48=NULL (DbType = Guid), @p49=NULL, @p50=NULL, @p51=NULL (DbType = DateTime), @p52='2025-09-29T11:24:32.2895591Z' (DbType = DateTime), @p53=NULL, @p54=NULL (DbType = Int32), @p55=NULL (DbType = Boolean), @p56='False', @p57='https://picsum.photos/200/300', @p58='shoe_launch_offer' (Nullable = false), @p59='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==', @p60=NULL (DbType = Decimal), @p61=NULL, @p62=NULL, @p63=NULL, @p64='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==","message_status":"accepted"}]}', @p65='919990033746' (Nullable = false), @p66=NULL (DbType = Guid), @p67='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p68=NULL (DbType = Guid), @p69='2025-09-29T11:24:32.2895592Z' (Nullable = true) (DbType = DateTime), @p70=NULL, @p71='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "MaterializedAt" = @p1, "ResolvedButtonUrlsJson" = @p2, "ResolvedParametersJson" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING "MessageTime";
2025-09-29 16:54:32.313 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='82513547-4af7-4cea-a33a-9f008946ada8', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:54:32.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='82513547-4af7-4cea-a33a-9f008946ada8', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==","message_status":"accepted"}]}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='cd398182-a207-43b3-9dd2-cbae1877f6e1' (Nullable = true), @p27='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Sent' (Nullable = false), @p30='507851d9-cab3-488b-bfb9-ca1965933b92', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:24:32.3153300+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='82513547-4af7-4cea-a33a-9f008946ada8' (Nullable = true), @p38='2025-09-29T11:24:32.3153307+00:00' (DbType = DateTime), @p39='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==","message_status":"accepted"}]}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:54:32.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='010a218a-0158-4d47-8b87-439b60c04a30', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11=NULL (DbType = Guid), @p12=NULL, @p13='2025-09-29T11:24:29.0396556Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDRDQjYzMTQ1RjNDMDE0RERDAA==', @p26='82513547-4af7-4cea-a33a-9f008946ada8' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='15604b3d-01e2-4f43-9067-043700f50bbc', @p29='0', @p30='cd398182-a207-43b3-9dd2-cbae1877f6e1' (Nullable = true), @p31='Sent', @p32='2025-09-29T11:24:29.0396556Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 16:54:34.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:54:34.935 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 10950.9005ms
2025-09-29 16:54:34.936 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:54:34.937 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 10958.476ms
2025-09-29 16:54:39.743 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:24:39.7413588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:49.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:24:49.7575152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:54:59.775 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:24:59.7734283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:03.476 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 16:55:03.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 16:55:03.476 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:55:03.487 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.490 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.492 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.493 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 204 null null 17.4345ms
2025-09-29 16:55:03.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 16.9177ms
2025-09-29 16:55:03.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 17.8629ms
2025-09-29 16:55:03.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:55:03.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 16:55:03.502 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 16:55:03.504 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.506 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.509 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:55:03.509 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:55:03.510 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.512 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:55:03.513 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 16:55:03.514 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:55:03.516 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:55:03.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 16:55:03.528 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:55:03.532 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 16.4531ms
2025-09-29 16:55:03.533 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:55:03.534 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:55:03.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 40.286ms
2025-09-29 16:55:03.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:55:03.554 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 16:55:03.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:55:03.563 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:03.568 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 49.1188ms
2025-09-29 16:55:03.569 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 16:55:03.569 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:55:03.571 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 69.1528ms
2025-09-29 16:55:03.575 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 57.7992ms
2025-09-29 16:55:03.576 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:55:03.577 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 76.9664ms
2025-09-29 16:55:03.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - null null
2025-09-29 16:55:03.599 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:03.600 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:55:03.601 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:55:03.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:55:03.612 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:55:03.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:55:03.618 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:03.619 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 16.1278ms
2025-09-29 16:55:03.621 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:55:03.622 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/csv-sample/schema - 200 null application/json; charset=utf-8 25.5803ms
2025-09-29 16:55:09.790 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:09.7887513+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:11.618 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 16:55:11.621 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.622 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 4.2493ms
2025-09-29 16:55:11.625 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryF5JYBVnE0xsecqDA 266
2025-09-29 16:55:11.628 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.629 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:11.636 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:11.683 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='7dace325-3ae8-408b-b9f5-3f346040ad35', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:25:11.6593283Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 16:55:11.693 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='7dace325-3ae8-408b-b9f5-3f346040ad35', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 16:55:11.713 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='89d29871-9e86-4812-8fb1-62a5ce53fd80', @p1='7dace325-3ae8-408b-b9f5-3f346040ad35', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:25:11.6955340Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p8=NULL, @p9='e6997484-454c-48c4-be4c-de3822415dac', @p10='7dace325-3ae8-408b-b9f5-3f346040ad35', @p11='9841bcab-ca71-439f-8691-d85ada887b01', @p12='2025-09-29T11:25:11.6961389Z' (DbType = DateTime), @p13=NULL, @p14=NULL, @p15='1', @p16='{"phone":"9990033746","parameter1":"Wiiliam Jackson"}' (Nullable = false) (DbType = Object), @p17=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-09-29 16:55:11.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='7dace325-3ae8-408b-b9f5-3f346040ad35', @p0='2', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 16:55:11.721 +05:30 [INF] CsvBatch "7dace325-3ae8-408b-b9f5-3f346040ad35" ingested: 2 rows; headers=2
2025-09-29 16:55:11.724 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:11.728 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 89.8242ms
2025-09-29 16:55:11.729 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:11.730 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 104.9963ms
2025-09-29 16:55:11.736 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/7dace325-3ae8-408b-b9f5-3f346040ad35/sample?take=10 - null null
2025-09-29 16:55:11.738 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/7dace325-3ae8-408b-b9f5-3f346040ad35/sample?take=10 - 204 null null 3.362ms
2025-09-29 16:55:11.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/7dace325-3ae8-408b-b9f5-3f346040ad35/sample?take=10 - null null
2025-09-29 16:55:11.744 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.748 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:11.751 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:11.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='7dace325-3ae8-408b-b9f5-3f346040ad35', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:11.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='7dace325-3ae8-408b-b9f5-3f346040ad35', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:55:11.776 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:11.779 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 26.2042ms
2025-09-29 16:55:11.781 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:11.782 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/7dace325-3ae8-408b-b9f5-3f346040ad35/sample?take=10 - 200 null application/json; charset=utf-8 39.9429ms
2025-09-29 16:55:11.785 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=7dace325-3ae8-408b-b9f5-3f346040ad35 - null null
2025-09-29 16:55:11.788 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.788 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=7dace325-3ae8-408b-b9f5-3f346040ad35 - 204 null null 3.0155ms
2025-09-29 16:55:11.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=7dace325-3ae8-408b-b9f5-3f346040ad35 - null null
2025-09-29 16:55:11.793 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:11.795 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:11.799 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:55:11.807 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:11.815 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='7dace325-3ae8-408b-b9f5-3f346040ad35', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:11.820 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:11.821 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 21.0705ms
2025-09-29 16:55:11.823 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:11.824 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=7dace325-3ae8-408b-b9f5-3f346040ad35 - 200 null application/json; charset=utf-8 32.5503ms
2025-09-29 16:55:19.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:19.8065986+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:28.340 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 16:55:28.343 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.344 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 4.0073ms
2025-09-29 16:55:28.348 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryS7TRQcyeAlCy3gkA 412
2025-09-29 16:55:28.351 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.352 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:28.353 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:28.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:25:28.3570294Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter - Copy.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 16:55:28.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 16:55:28.369 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='1d938c21-1567-468b-9dc2-ef9ee8985bab', @p1='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:25:28.3662444Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='2', @p7='{"phone":"8974005242","parameter1":"Mario"}' (Nullable = false) (DbType = Object), @p8=NULL, @p9='3e987e7d-0161-4941-84d4-c984406dff8a', @p10='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p11='9841bcab-ca71-439f-8691-d85ada887b01', @p12='2025-09-29T11:25:28.3662596Z' (DbType = DateTime), @p13=NULL, @p14=NULL, @p15='8', @p16='{"phone":"8974005248","parameter1":"OldLondon"}' (Nullable = false) (DbType = Object), @p17=NULL, @p18='409289cf-c0af-4ed6-a94c-0cbb3145962e', @p19='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='2025-09-29T11:25:28.3662626Z' (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='9', @p25='{"phone":"8974005249","parameter1":"Bikili"}' (Nullable = false) (DbType = Object), @p26=NULL, @p27='46d2d523-5fcc-4a67-a088-4cac73f8f927', @p28='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p29='9841bcab-ca71-439f-8691-d85ada887b01', @p30='2025-09-29T11:25:28.3662499Z' (DbType = DateTime), @p31=NULL, @p32=NULL, @p33='4', @p34='{"phone":"8974005244","parameter1":"Zadio"}' (Nullable = false) (DbType = Object), @p35=NULL, @p36='6dd2fa3d-e0f6-40c2-a557-3d87bfc1b943', @p37='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p38='9841bcab-ca71-439f-8691-d85ada887b01', @p39='2025-09-29T11:25:28.3662526Z' (DbType = DateTime), @p40=NULL, @p41=NULL, @p42='5', @p43='{"phone":"8974005245","parameter1":"Purana"}' (Nullable = false) (DbType = Object), @p44=NULL, @p45='7febc8eb-e052-49ec-b517-a39324100d3c', @p46='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p47='9841bcab-ca71-439f-8691-d85ada887b01', @p48='2025-09-29T11:25:28.3662029Z' (DbType = DateTime), @p49=NULL, @p50=NULL, @p51='0', @p52='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p53=NULL, @p54='a8886465-1d85-49ea-a4f0-549bfe001941', @p55='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p56='9841bcab-ca71-439f-8691-d85ada887b01', @p57='2025-09-29T11:25:28.3662463Z' (DbType = DateTime), @p58=NULL, @p59=NULL, @p60='3', @p61='{"phone":"8974005243","parameter1":"Sario"}' (Nullable = false) (DbType = Object), @p62=NULL, @p63='c36b6cad-6dcc-40c8-bc59-58a6a73b6ae1', @p64='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p65='9841bcab-ca71-439f-8691-d85ada887b01', @p66='2025-09-29T11:25:28.3662403Z' (DbType = DateTime), @p67=NULL, @p68=NULL, @p69='1', @p70='{"phone":"8974005241","parameter1":"Diro"}' (Nullable = false) (DbType = Object), @p71=NULL, @p72='f45ec15f-738e-48fe-82cd-f716f78fa6df', @p73='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p74='9841bcab-ca71-439f-8691-d85ada887b01', @p75='2025-09-29T11:25:28.3662545Z' (DbType = DateTime), @p76=NULL, @p77=NULL, @p78='6', @p79='{"phone":"8974005246","parameter1":"Naya"}' (Nullable = false) (DbType = Object), @p80=NULL, @p81='fb97a5de-e387-4b08-a7fd-03f2e4d0f071', @p82='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p83='9841bcab-ca71-439f-8691-d85ada887b01', @p84='2025-09-29T11:25:28.3662571Z' (DbType = DateTime), @p85=NULL, @p86=NULL, @p87='7', @p88='{"phone":"8974005247","parameter1":"NewOld"}' (Nullable = false) (DbType = Object), @p89=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80);
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89);
2025-09-29 16:55:28.374 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='81fbcb19-8dcd-40cd-a94f-75722338b55f', @p0='10', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 16:55:28.376 +05:30 [INF] CsvBatch "81fbcb19-8dcd-40cd-a94f-75722338b55f" ingested: 10 rows; headers=2
2025-09-29 16:55:28.377 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:28.379 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 23.9093ms
2025-09-29 16:55:28.380 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:28.381 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 33.5265ms
2025-09-29 16:55:28.387 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/81fbcb19-8dcd-40cd-a94f-75722338b55f/sample?take=10 - null null
2025-09-29 16:55:28.390 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/81fbcb19-8dcd-40cd-a94f-75722338b55f/sample?take=10 - 204 null null 3.6392ms
2025-09-29 16:55:28.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/81fbcb19-8dcd-40cd-a94f-75722338b55f/sample?take=10 - null null
2025-09-29 16:55:28.396 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.397 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:28.398 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:28.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='81fbcb19-8dcd-40cd-a94f-75722338b55f', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:28.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='81fbcb19-8dcd-40cd-a94f-75722338b55f', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:55:28.409 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:28.410 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 10.8099ms
2025-09-29 16:55:28.411 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:28.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/81fbcb19-8dcd-40cd-a94f-75722338b55f/sample?take=10 - 200 null application/json; charset=utf-8 19.0081ms
2025-09-29 16:55:28.416 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=81fbcb19-8dcd-40cd-a94f-75722338b55f - null null
2025-09-29 16:55:28.419 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=81fbcb19-8dcd-40cd-a94f-75722338b55f - 204 null null 3.7134ms
2025-09-29 16:55:28.429 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=81fbcb19-8dcd-40cd-a94f-75722338b55f - null null
2025-09-29 16:55:28.432 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:28.435 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:28.436 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:55:28.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:28.445 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='81fbcb19-8dcd-40cd-a94f-75722338b55f', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:28.447 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:28.448 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 10.7843ms
2025-09-29 16:55:28.450 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:28.451 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=81fbcb19-8dcd-40cd-a94f-75722338b55f - 200 null application/json; charset=utf-8 22.3048ms
2025-09-29 16:55:29.824 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:29.8223327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:39.832 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:39.8301728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:49.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:49.8360256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:55:56.357 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 16:55:56.360 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 5.5458ms
2025-09-29 16:55:56.368 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryBWVxzEd7b8LDssRn 238
2025-09-29 16:55:56.371 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.373 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:56.374 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:56.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:25:56.3775248Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 16:55:56.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 16:55:56.394 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='bd76506b-dc64-4241-8f0f-bf098bfc927b', @p1='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:25:56.3918496Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 16:55:56.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 16:55:56.403 +05:30 [INF] CsvBatch "29b1a8ff-d992-4d7c-8eea-ef61150ab4f9" ingested: 1 rows; headers=2
2025-09-29 16:55:56.405 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:56.407 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 30.4174ms
2025-09-29 16:55:56.409 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:55:56.410 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 42.985ms
2025-09-29 16:55:56.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/29b1a8ff-d992-4d7c-8eea-ef61150ab4f9/sample?take=10 - null null
2025-09-29 16:55:56.424 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/29b1a8ff-d992-4d7c-8eea-ef61150ab4f9/sample?take=10 - 204 null null 4.7797ms
2025-09-29 16:55:56.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/29b1a8ff-d992-4d7c-8eea-ef61150ab4f9/sample?take=10 - null null
2025-09-29 16:55:56.433 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.434 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:56.436 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:55:56.441 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:56.448 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:55:56.450 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:56.452 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 14.0098ms
2025-09-29 16:55:56.454 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:55:56.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/29b1a8ff-d992-4d7c-8eea-ef61150ab4f9/sample?take=10 - 200 null application/json; charset=utf-8 25.7581ms
2025-09-29 16:55:56.460 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=29b1a8ff-d992-4d7c-8eea-ef61150ab4f9 - null null
2025-09-29 16:55:56.463 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.464 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=29b1a8ff-d992-4d7c-8eea-ef61150ab4f9 - 204 null null 4.3321ms
2025-09-29 16:55:56.468 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=29b1a8ff-d992-4d7c-8eea-ef61150ab4f9 - null null
2025-09-29 16:55:56.471 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:56.472 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:56.474 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:55:56.479 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:56.485 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:56.488 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:55:56.490 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 13.8273ms
2025-09-29 16:55:56.492 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:55:56.493 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings/suggest?batchId=29b1a8ff-d992-4d7c-8eea-ef61150ab4f9 - 200 null application/json; charset=utf-8 25.1771ms
2025-09-29 16:55:58.525 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - null null
2025-09-29 16:55:58.529 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.530 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 4.683ms
2025-09-29 16:55:58.534 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - application/json 27
2025-09-29 16:55:58.537 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.539 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 16:55:58.546 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:55:58.558 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 16:55:58.560 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 11.5825ms
2025-09-29 16:55:58.561 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 16:55:58.563 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/mappings - 204 null null 29.0906ms
2025-09-29 16:55:58.567 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - null null
2025-09-29 16:55:58.570 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.572 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 204 null null 4.4116ms
2025-09-29 16:55:58.576 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - application/json 207
2025-09-29 16:55:58.580 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.581 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 16:55:58.587 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 16:55:58.601 +05:30 [INF] 📦 Materialize request: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" persist=true batch="29b1a8ff-d992-4d7c-8eea-ef61150ab4f9" audience='Audience 2025-09-29'
2025-09-29 16:55:58.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 16:55:58.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 16:55:58.635 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='29b1a8ff-d992-4d7c-8eea-ef61150ab4f9', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:55:58.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:55:58.655 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:55:58.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 16:55:58.749 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='b353fbd3-6946-41fc-88c0-51ed8045bd66', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T11:25:58.6741326Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T11:25:58.6741326Z' (Nullable = true) (DbType = DateTime), @p10='8003f5d1-07ac-4812-b885-b2362827f558', @p11='{"parameter1":"Robert Nicosta"}' (DbType = Object), @p12='b353fbd3-6946-41fc-88c0-51ed8045bd66', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T11:25:58.6741326Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T11:25:58.6741326Z' (Nullable = true) (DbType = DateTime), @p25='6142fd29-b4d8-4077-91c3-0e9aa73cf04f', @p26='8003f5d1-07ac-4812-b885-b2362827f558' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='AC1ECCA3A7B16A69962BCCB0C2CEE241F53A16CC79ECC8499009287C5B760DBB', @p34='False', @p35='2025-09-29T11:25:58.6741326Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='["Robert Nicosta"]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-29T11:25:58.6741326Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 16:55:58.762 +05:30 [INF] 📦 Materialize result: campaign="016cd5d0-63e6-43f0-a6c1-05bd4694421d" materialized=1 skipped=0 audienceId="b353fbd3-6946-41fc-88c0-51ed8045bd66"
2025-09-29 16:55:58.765 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 16:55:58.770 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 180.7105ms
2025-09-29 16:55:58.771 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 16:55:58.773 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/016cd5d0-63e6-43f0-a6c1-05bd4694421d/materialize - 200 null application/json; charset=utf-8 196.8636ms
2025-09-29 16:55:58.841 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:55:58.848 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 10.418ms
2025-09-29 16:55:58.856 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:55:58.860 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:55:58.861 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:55:58.863 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:55:58.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 16:55:58.873 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:55:58.875 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.2932ms
2025-09-29 16:55:58.876 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:55:58.878 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 22.0584ms
2025-09-29 16:55:59.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:25:59.8405927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:05.940 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:56:05.943 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:05.944 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.9034ms
2025-09-29 16:56:05.947 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:56:05.950 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:05.951 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:56:05.952 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:56:05.957 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 16:56:05.962 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:56:05.964 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.2439ms
2025-09-29 16:56:05.965 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:56:05.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 19.146ms
2025-09-29 16:56:08.943 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 16:56:08.943 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 16:56:08.946 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:08.949 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:08.954 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 11.3529ms
2025-09-29 16:56:08.951 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 8.3621ms
2025-09-29 16:56:08.960 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 16:56:08.963 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 16:56:08.966 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:08.969 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:08.969 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 16:56:08.970 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 16:56:08.973 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 16:56:08.974 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 16:56:08.982 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 16:56:08.992 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:56:08.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 16:56:08.998 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 23.1704ms
2025-09-29 16:56:08.999 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:56:09.000 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 16:56:09.002 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 41.7877ms
2025-09-29 16:56:09.005 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 27.5395ms
2025-09-29 16:56:09.006 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 16:56:09.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 44.405ms
2025-09-29 16:56:09.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:09.8488579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:19.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:19.8545356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:19.935 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 16:56:19.937 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:19.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 204 null null 3.4588ms
2025-09-29 16:56:19.941 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 16:56:19.944 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:56:19.945 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 16:56:19.948 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 16:56:19.958 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 16:56:19.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 16:56:19.986 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:56:19.989 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 39.4195ms
2025-09-29 16:56:19.991 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 16:56:19.992 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 200 null application/json; charset=utf-8 50.7274ms
2025-09-29 16:56:29.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:29.8643438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:39.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:39.8761311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:49.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:49.8841566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:56:59.895 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:26:59.8926664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:57:09.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:27:09.8977533+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:57:19.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:27:19.9094936+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:57:21.486 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 16:57:21.489 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:21.490 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 3.5552ms
2025-09-29 16:57:21.494 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 974
2025-09-29 16:57:21.496 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:21.498 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 16:57:21.502 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:57:21.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:57:21.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:57:21.546 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:57:21.547 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:57:23.245 +05:30 [INF] Received HTTP response headers after 1697.1645ms - 200
2025-09-29 16:57:23.247 +05:30 [INF] End processing HTTP request after 1701.3611ms - 200
2025-09-29 16:57:23.381 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:57:23.408 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='image', @p6='2025-09-29T11:27:23.3792156Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14='https://picsum.photos/200/300', @p15='False', @p16='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p17='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p18='IMG-2' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='shoe_launch_offer', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"1100798472016654","TemplateName":"shoe_launch_offer","Language":"en_US","HasHeaderMedia":true,"HeaderType":"IMAGE","BodyPlaceholders":[{"Index":1,"Label":null,"Example":null}],"Buttons":[{"Type":"URL","Text":"Shop now","Value":"https://xplorebytesolutions.com/","Order":0},{"Type":"PHONE_NUMBER","Text":"Call us","Value":"+917082156227","Order":1}]}' (DbType = Object), @p27='2025-09-29T11:27:23.3792636Z' (DbType = DateTime), @p28=NULL, @p29='5d07ab58-fc65-46a7-a07b-10fa7e87a39b', @p30='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p31='True', @p32='1', @p33='Shop now' (Nullable = false), @p34='URL' (Nullable = false), @p35='https://xplorebytesolutions.com/' (Nullable = false), @p36='c58bb8d1-053d-4635-bf26-d9bdec94b222', @p37='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p38='True', @p39='2', @p40='Call us' (Nullable = false), @p41='PHONE_NUMBER' (Nullable = false), @p42='+917082156227' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
INSERT INTO "CampaignButtons" ("Id", "CampaignId", "IsFromTemplate", "Position", "Title", "Type", "Value")
VALUES (@p29, @p30, @p31, @p32, @p33, @p34, @p35);
INSERT INTO "CampaignButtons" ("Id", "CampaignId", "IsFromTemplate", "Position", "Title", "Type", "Value")
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 16:57:23.412 +05:30 [INF] ✅ Campaign 'IMG-2' created | Type:image | Header:image | FlowId:null | EntryTemplate:shoe_launch_offer | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 16:57:23.414 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:57:23.417 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 1912.3561ms
2025-09-29 16:57:23.418 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 16:57:23.419 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 1925.0737ms
2025-09-29 16:57:23.466 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - null null
2025-09-29 16:57:23.467 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-29 16:57:23.466 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:57:23.474 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.477 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.479 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.479 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - 204 null null 13.5353ms
2025-09-29 16:57:23.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 13.3448ms
2025-09-29 16:57:23.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 14.6967ms
2025-09-29 16:57:23.483 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:57:23.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - null null
2025-09-29 16:57:23.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-29 16:57:23.490 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.492 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.494 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.495 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:57:23.495 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:57:23.496 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:57:23.497 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 16:57:23.497 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:57:23.498 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:57:23.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 16:57:23.514 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:57:23.518 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 18.765ms
2025-09-29 16:57:23.519 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:57:23.520 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 37.0013ms
2025-09-29 16:57:23.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:57:23.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:57:23.568 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:57:23.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:57:23.571 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 69.9144ms
2025-09-29 16:57:23.572 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:57:23.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - 200 null application/json; charset=utf-8 87.8391ms
2025-09-29 16:57:23.580 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 16:57:23.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 16:57:23.586 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 81.8849ms
2025-09-29 16:57:23.587 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:57:23.588 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 100.5002ms
2025-09-29 16:57:23.591 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - null null
2025-09-29 16:57:23.593 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:23.595 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:57:23.596 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:57:23.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:57:23.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:57:23.608 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:57:23.610 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:57:23.611 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 13.6776ms
2025-09-29 16:57:23.612 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:57:23.613 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/csv-sample/schema - 200 null application/json; charset=utf-8 21.6864ms
2025-09-29 16:57:27.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 16:57:27.952 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:27.953 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 3.5523ms
2025-09-29 16:57:27.956 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryAYcQpr3QkJDpdTW5 238
2025-09-29 16:57:27.959 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:27.960 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:57:27.961 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:57:27.983 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='fcaa508f-b503-49e3-83db-2ebf499bd702', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:27:27.9641380Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 16:57:27.987 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='fcaa508f-b503-49e3-83db-2ebf499bd702', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 16:57:27.992 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='dae72920-d9cc-45ff-a26c-76dbac6df5ad', @p1='fcaa508f-b503-49e3-83db-2ebf499bd702', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:27:27.9899334Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 16:57:27.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='fcaa508f-b503-49e3-83db-2ebf499bd702', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 16:57:27.998 +05:30 [INF] CsvBatch "fcaa508f-b503-49e3-83db-2ebf499bd702" ingested: 1 rows; headers=2
2025-09-29 16:57:27.999 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:57:28.001 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 37.5242ms
2025-09-29 16:57:28.002 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:57:28.003 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 46.3751ms
2025-09-29 16:57:28.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/fcaa508f-b503-49e3-83db-2ebf499bd702/sample?take=10 - null null
2025-09-29 16:57:28.011 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:28.012 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/fcaa508f-b503-49e3-83db-2ebf499bd702/sample?take=10 - 204 null null 3.5378ms
2025-09-29 16:57:28.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/fcaa508f-b503-49e3-83db-2ebf499bd702/sample?take=10 - null null
2025-09-29 16:57:28.018 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:28.019 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:57:28.020 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:57:28.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='fcaa508f-b503-49e3-83db-2ebf499bd702', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:57:28.029 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='fcaa508f-b503-49e3-83db-2ebf499bd702', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:57:28.032 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:57:28.034 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 12.167ms
2025-09-29 16:57:28.035 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:57:28.036 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/fcaa508f-b503-49e3-83db-2ebf499bd702/sample?take=10 - 200 null application/json; charset=utf-8 20.9242ms
2025-09-29 16:57:28.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings/suggest?batchId=fcaa508f-b503-49e3-83db-2ebf499bd702 - null null
2025-09-29 16:57:28.043 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:28.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings/suggest?batchId=fcaa508f-b503-49e3-83db-2ebf499bd702 - 204 null null 3.593ms
2025-09-29 16:57:28.047 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings/suggest?batchId=fcaa508f-b503-49e3-83db-2ebf499bd702 - null null
2025-09-29 16:57:28.050 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:28.051 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:57:28.052 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:57:28.057 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:57:28.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='fcaa508f-b503-49e3-83db-2ebf499bd702', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:57:28.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:57:28.066 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 11.6835ms
2025-09-29 16:57:28.068 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:57:28.069 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings/suggest?batchId=fcaa508f-b503-49e3-83db-2ebf499bd702 - 200 null application/json; charset=utf-8 21.5431ms
2025-09-29 16:57:29.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:27:29.9696489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:57:30.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings - null null
2025-09-29 16:57:30.192 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings - 204 null null 3.5187ms
2025-09-29 16:57:30.196 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings - application/json 27
2025-09-29 16:57:30.199 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.200 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 16:57:30.201 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:57:30.204 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 16:57:30.205 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 1.6164ms
2025-09-29 16:57:30.206 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 16:57:30.207 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/mappings - 204 null null 10.2357ms
2025-09-29 16:57:30.210 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/materialize - null null
2025-09-29 16:57:30.212 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.213 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/materialize - 204 null null 3.368ms
2025-09-29 16:57:30.217 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/materialize - application/json 207
2025-09-29 16:57:30.219 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.220 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 16:57:30.221 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 16:57:30.223 +05:30 [INF] 📦 Materialize request: campaign="39f91f42-273e-453d-a2ed-8ef9ce4c625a" persist=true batch="fcaa508f-b503-49e3-83db-2ebf499bd702" audience='Audience 2025-09-29'
2025-09-29 16:57:30.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 16:57:30.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='fcaa508f-b503-49e3-83db-2ebf499bd702'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 16:57:30.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='fcaa508f-b503-49e3-83db-2ebf499bd702', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:57:30.238 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:57:30.242 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:57:30.246 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 16:57:30.253 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='4934dbbb-1d31-4a19-b078-9997b13b69e7', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T11:27:30.2454476Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T11:27:30.2454476Z' (Nullable = true) (DbType = DateTime), @p10='9c9dc464-4ee3-4c07-be82-3a16681581b1', @p11='{"parameter1":"Robert Nicosta"}' (DbType = Object), @p12='4934dbbb-1d31-4a19-b078-9997b13b69e7', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T11:27:30.2454476Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T11:27:30.2454476Z' (Nullable = true) (DbType = DateTime), @p25='02a8da84-a087-4a20-8a87-b4385408ffa0', @p26='9c9dc464-4ee3-4c07-be82-3a16681581b1' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='9CF10669400CFCF48828CCD4D34DD9EFB9325E31C7B2D943877562251EA8F88C', @p34='False', @p35='2025-09-29T11:27:30.2454476Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='["Robert Nicosta"]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-29T11:27:30.2454476Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 16:57:30.269 +05:30 [INF] 📦 Materialize result: campaign="39f91f42-273e-453d-a2ed-8ef9ce4c625a" materialized=1 skipped=0 audienceId="4934dbbb-1d31-4a19-b078-9997b13b69e7"
2025-09-29 16:57:30.271 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 16:57:30.272 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 49.3038ms
2025-09-29 16:57:30.273 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 16:57:30.274 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/39f91f42-273e-453d-a2ed-8ef9ce4c625a/materialize - 200 null application/json; charset=utf-8 57.4106ms
2025-09-29 16:57:30.317 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:57:30.328 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.329 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 12.506ms
2025-09-29 16:57:30.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 16:57:30.337 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:30.339 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:57:30.340 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:57:30.346 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 16:57:30.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:57:30.350 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 8.4851ms
2025-09-29 16:57:30.352 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 16:57:30.353 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 18.8001ms
2025-09-29 16:57:32.751 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-29 16:57:32.754 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:32.755 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 3.6716ms
2025-09-29 16:57:32.758 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null 0
2025-09-29 16:57:32.760 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:57:32.761 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:57:32.762 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:57:37.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:57:37.611 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:57:37.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:57:41.073 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:57:41.073 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:27:41.0711456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:57:41.075 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:57:41.077 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:57:42.300 +05:30 [INF] Received HTTP response headers after 1221.5216ms - 200
2025-09-29 16:57:42.301 +05:30 [INF] End processing HTTP request after 1226.3856ms - 200
2025-09-29 16:57:42.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:57:42.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:57:42.464 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:57:42.465 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:57:43.232 +05:30 [INF] Received HTTP response headers after 766.1593ms - 400
2025-09-29 16:57:43.233 +05:30 [INF] End processing HTTP request after 769.1799ms - 400
2025-09-29 16:57:43.234 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AOjc5RGrkU5PihdOXlMkb7a"}}
2025-09-29 16:57:43.238 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p5='02a8da84-a087-4a20-8a87-b4385408ffa0', @p0='28f0e3a15bcaaa1bc8905d46caf4bc4e4eeb9acd6552c1500a3738565ca09215', @p1='2025-09-29T11:27:42.4479874Z' (Nullable = true) (DbType = DateTime), @p2='[]' (DbType = Object), @p3='[]' (DbType = Object), @p4='2025-09-29T11:27:42.4479874Z' (DbType = DateTime), @p6='7f4f0933-db8f-4942-a15c-657fb6c23458', @p7='9841bcab-ca71-439f-8691-d85ada887b01', @p8=NULL, @p9=NULL (DbType = Guid), @p10=NULL (DbType = Guid), @p11=NULL (DbType = Guid), @p12=NULL (DbType = Guid), @p13=NULL, @p14=NULL, @p15=NULL (DbType = DateTime), @p16='2025-09-29T11:27:43.2354005Z' (DbType = DateTime), @p17='❌ WhatsApp API returned an error.', @p18=NULL (DbType = Int32), @p19=NULL (DbType = Boolean), @p20='False', @p21='https://picsum.photos/200/300', @p22='shoe_launch_offer' (Nullable = false), @p23=NULL, @p24=NULL (DbType = Decimal), @p25=NULL, @p26=NULL, @p27=NULL, @p28='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AOjc5RGrkU5PihdOXlMkb7a"}}', @p29='918974005240' (Nullable = false), @p30=NULL (DbType = Guid), @p31='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p32=NULL (DbType = Guid), @p33='2025-09-29T11:27:43.2354005Z' (Nullable = true) (DbType = DateTime), @p34=NULL, @p35='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "MaterializedAt" = @p1, "ResolvedButtonUrlsJson" = @p2, "ResolvedParametersJson" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING "MessageTime";
2025-09-29 16:57:43.243 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='1d56059a-559a-4949-a8ff-9141e9d77ea5', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:57:43.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='1d56059a-559a-4949-a8ff-9141e9d77ea5', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='39f91f42-273e-453d-a2ed-8ef9ce4c625a' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:27:42.4479874Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AOjc5RGrkU5PihdOXlMkb7a"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='da90118a-aec8-4c80-af91-468e3766da5b' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='01ec72f1-cc30-4160-8a38-08b1014d0ed8', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:27:43.2454178+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='1d56059a-559a-4949-a8ff-9141e9d77ea5' (Nullable = true), @p38='2025-09-29T11:27:43.2454189+00:00' (DbType = DateTime), @p39='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AOjc5RGrkU5PihdOXlMkb7a"}}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:57:43.253 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='1356790a-432c-4f97-9b77-3df7fc1634e4', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T11:27:42.4479874Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25=NULL, @p26='1d56059a-559a-4949-a8ff-9141e9d77ea5' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='02a8da84-a087-4a20-8a87-b4385408ffa0', @p29='0', @p30='da90118a-aec8-4c80-af91-468e3766da5b' (Nullable = true), @p31='Failed', @p32=NULL (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 16:57:46.659 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:57:46.660 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 13896.4832ms
2025-09-29 16:57:46.662 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:57:46.662 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 13904.3524ms
2025-09-29 16:57:51.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:27:51.0817877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:01.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:01.1004153+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:10.325 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-29 16:58:10.327 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:10.328 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 3.1285ms
2025-09-29 16:58:10.331 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null 0
2025-09-29 16:58:10.333 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:10.333 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:10.334 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:58:10.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:58:10.343 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:10.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:10.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:58:10.353 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:10.354 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:11.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:11.1123301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:11.662 +05:30 [INF] Received HTTP response headers after 1307.7638ms - 200
2025-09-29 16:58:11.664 +05:30 [INF] End processing HTTP request after 1311.3768ms - 200
2025-09-29 16:58:11.754 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:58:11.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:58:11.762 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:11.763 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:12.241 +05:30 [INF] Received HTTP response headers after 476.5018ms - 400
2025-09-29 16:58:12.243 +05:30 [INF] End processing HTTP request after 480.8663ms - 400
2025-09-29 16:58:12.244 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AelW002zAYC6yKJlFS1aySW"}}
2025-09-29 16:58:12.248 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='02a8da84-a087-4a20-8a87-b4385408ffa0', @p0='2025-09-29T11:28:11.7524056Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T11:28:11.7524056Z' (DbType = DateTime), @p3='0e4b0788-1d3b-4803-b1f5-657a2fc3a98a', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5=NULL, @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T11:28:12.2454496Z' (DbType = DateTime), @p14='❌ WhatsApp API returned an error.', @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://picsum.photos/200/300', @p19='shoe_launch_offer' (Nullable = false), @p20=NULL, @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AelW002zAYC6yKJlFS1aySW"}}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p29=NULL (DbType = Guid), @p30='2025-09-29T11:28:12.2454497Z' (Nullable = true) (DbType = DateTime), @p31=NULL, @p32='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
2025-09-29 16:58:12.253 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='0c22594a-c66a-4641-a0dd-8d5827857548', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:58:12.258 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='0c22594a-c66a-4641-a0dd-8d5827857548', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='39f91f42-273e-453d-a2ed-8ef9ce4c625a' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:28:11.7524056Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AelW002zAYC6yKJlFS1aySW"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='07c467cf-b085-45ef-81b7-b8172d50eb49' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='e626c570-6e7a-442f-8250-c6da3406985c', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:28:12.2559894+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='0c22594a-c66a-4641-a0dd-8d5827857548' (Nullable = true), @p38='2025-09-29T11:28:12.2559901+00:00' (DbType = DateTime), @p39='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AelW002zAYC6yKJlFS1aySW"}}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:58:12.263 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='5c203954-e3c2-43a2-a9f3-b4f3a8399e5e', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T11:28:11.7524056Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25=NULL, @p26='0c22594a-c66a-4641-a0dd-8d5827857548' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='02a8da84-a087-4a20-8a87-b4385408ffa0', @p29='0', @p30='07c467cf-b085-45ef-81b7-b8172d50eb49' (Nullable = true), @p31='Failed', @p32=NULL (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 16:58:12.265 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:58:12.266 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1930.4221ms
2025-09-29 16:58:12.267 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:12.268 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 1937.5897ms
2025-09-29 16:58:21.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:21.1158956+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:29.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null null
2025-09-29 16:58:29.976 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:29.977 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 204 null null 3.3223ms
2025-09-29 16:58:29.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - null 0
2025-09-29 16:58:29.982 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:29.983 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:29.984 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:58:29.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:58:29.993 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:29.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:30.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:58:30.002 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:30.003 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:31.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:31.1308423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:31.179 +05:30 [INF] Received HTTP response headers after 1175.3285ms - 200
2025-09-29 16:58:31.181 +05:30 [INF] End processing HTTP request after 1179.221ms - 200
2025-09-29 16:58:31.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__neededMemberIds_1={ '8251b755-63e8-420d-bed3-5099b3728858' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."PhoneE164", a."PhoneRaw", a."Name"
FROM "AudienceMembers" AS a
WHERE a."BusinessId" = @__businessId_0 AND a."Id" = ANY (@__neededMemberIds_1)
2025-09-29 16:58:31.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:58:31.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:58:31.306 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:31.307 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:32.460 +05:30 [INF] Received HTTP response headers after 1151.2632ms - 200
2025-09-29 16:58:32.461 +05:30 [INF] End processing HTTP request after 1155.2482ms - 200
2025-09-29 16:58:32.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='69dff904-eeab-401d-b6ab-da66c84a847c', @p0='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p3='c76cca55-fe22-4bb9-be0d-dd9bcdf6606e', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5=NULL, @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T11:28:32.4628787Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://picsum.photos/200/300', @p19='shoe_launch_offer' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p29=NULL (DbType = Guid), @p30='2025-09-29T11:28:32.4628788Z' (Nullable = true) (DbType = DateTime), @p31=NULL, @p32='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
2025-09-29 16:58:32.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='205c1208-8049-42bb-83cc-2dc73e50a042', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:58:32.475 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='205c1208-8049-42bb-83cc-2dc73e50a042', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='2f08c7da-600d-4448-b29a-e10df906cd92' (Nullable = true), @p27='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Sent' (Nullable = false), @p30='90928c63-e463-439c-a451-23eb5f6a2731', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:28:32.4728521+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='205c1208-8049-42bb-83cc-2dc73e50a042' (Nullable = true), @p38='2025-09-29T11:28:32.4728531+00:00' (DbType = DateTime), @p39='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==","message_status":"accepted"}]}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:58:32.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:58:32.483 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:58:32.485 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:32.486 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:33.288 +05:30 [INF] Received HTTP response headers after 801.069ms - 200
2025-09-29 16:58:33.290 +05:30 [INF] End processing HTTP request after 805.1693ms - 200
2025-09-29 16:58:33.296 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p5='6142fd29-b4d8-4077-91c3-0e9aa73cf04f', @p0='92853aa3e30759c9c68c3f5a1f970b412ca3939b55e3bcb004d403dc022e53e3', @p1='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p2='[]' (DbType = Object), @p3='[]' (DbType = Object), @p4='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p6='b1aa4587-2982-4e87-acb1-50b8840b1c7e', @p7='True', @p8=NULL, @p9='9841bcab-ca71-439f-8691-d85ada887b01', @p10='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p11=NULL (DbType = Guid), @p12=NULL (DbType = Guid), @p13='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p14=NULL, @p15=NULL, @p16=NULL (DbType = DateTime), @p17='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p18=NULL, @p19='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p20=NULL, @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24=NULL, @p25=NULL, @p26='False', @p27=NULL (DbType = DateTime), @p28=NULL, @p29=NULL, @p30='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p31='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSRjEyMEEzNTc5QUFCQzBBREZDAA==', @p32='205c1208-8049-42bb-83cc-2dc73e50a042' (Nullable = true), @p33=NULL (DbType = DateTime), @p34='69dff904-eeab-401d-b6ab-da66c84a847c', @p35='0', @p36='2f08c7da-600d-4448-b29a-e10df906cd92' (Nullable = true), @p37='Sent', @p38='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p39=NULL, @p40='shoe_launch_offer', @p41=NULL (DbType = Guid), @p42='28805e64-7018-4c13-af81-7ba8c94b3f74', @p43='9841bcab-ca71-439f-8691-d85ada887b01', @p44=NULL, @p45=NULL (DbType = Guid), @p46=NULL (DbType = Guid), @p47=NULL (DbType = Guid), @p48=NULL (DbType = Guid), @p49=NULL, @p50=NULL, @p51=NULL (DbType = DateTime), @p52='2025-09-29T11:28:33.2923918Z' (DbType = DateTime), @p53=NULL, @p54=NULL (DbType = Int32), @p55=NULL (DbType = Boolean), @p56='False', @p57='https://picsum.photos/200/300', @p58='shoe_launch_offer' (Nullable = false), @p59='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==', @p60=NULL (DbType = Decimal), @p61=NULL, @p62=NULL, @p63=NULL, @p64='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==","message_status":"accepted"}]}', @p65='918974005240' (Nullable = false), @p66=NULL (DbType = Guid), @p67='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p68=NULL (DbType = Guid), @p69='2025-09-29T11:28:33.2923919Z' (Nullable = true) (DbType = DateTime), @p70=NULL, @p71='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "MaterializedAt" = @p1, "ResolvedButtonUrlsJson" = @p2, "ResolvedParametersJson" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING "MessageTime";
2025-09-29 16:58:33.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='01e1d613-9f2f-4de8-bb01-d47a8c28c278', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:58:33.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='01e1d613-9f2f-4de8-bb01-d47a8c28c278', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='afa33100-16cf-458b-b3c4-2a49848a2fc6' (Nullable = true), @p27='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Sent' (Nullable = false), @p30='33921fc0-0732-4160-9165-47f12f0c545c', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:28:33.3214456+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='01e1d613-9f2f-4de8-bb01-d47a8c28c278' (Nullable = true), @p38='2025-09-29T11:28:33.3214468+00:00' (DbType = DateTime), @p39='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==","message_status":"accepted"}]}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:58:33.328 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:58:33.331 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:58:33.334 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:33.335 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:34.142 +05:30 [INF] Received HTTP response headers after 805.993ms - 200
2025-09-29 16:58:34.148 +05:30 [INF] End processing HTTP request after 814.7674ms - 200
2025-09-29 16:58:34.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='15604b3d-01e2-4f43-9067-043700f50bbc', @p0='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p3='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @p4='True', @p5=NULL, @p6='9841bcab-ca71-439f-8691-d85ada887b01', @p7='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p11=NULL, @p12=NULL, @p13=NULL (DbType = DateTime), @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15=NULL, @p16='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p17=NULL, @p18=NULL (DbType = DateTime), @p19=NULL, @p20=NULL, @p21=NULL, @p22=NULL, @p23='False', @p24=NULL (DbType = DateTime), @p25=NULL, @p26=NULL, @p27='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p28='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzQ3ODRCQzZEM0QxNDU5OEM3AA==', @p29='01e1d613-9f2f-4de8-bb01-d47a8c28c278' (Nullable = true), @p30=NULL (DbType = DateTime), @p31='6142fd29-b4d8-4077-91c3-0e9aa73cf04f', @p32='0', @p33='afa33100-16cf-458b-b3c4-2a49848a2fc6' (Nullable = true), @p34='Sent', @p35='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37='shoe_launch_offer', @p38=NULL (DbType = Guid), @p39='7ac266c0-dfc3-4d3c-ae99-cf225e3793b3', @p40='9841bcab-ca71-439f-8691-d85ada887b01', @p41=NULL, @p42=NULL (DbType = Guid), @p43=NULL (DbType = Guid), @p44=NULL (DbType = Guid), @p45=NULL (DbType = Guid), @p46=NULL, @p47=NULL, @p48=NULL (DbType = DateTime), @p49='2025-09-29T11:28:34.1502001Z' (DbType = DateTime), @p50=NULL, @p51=NULL (DbType = Int32), @p52=NULL (DbType = Boolean), @p53='False', @p54='https://picsum.photos/200/300', @p55='shoe_launch_offer' (Nullable = false), @p56='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==', @p57=NULL (DbType = Decimal), @p58=NULL, @p59=NULL, @p60=NULL, @p61='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==","message_status":"accepted"}]}', @p62='919990033746' (Nullable = false), @p63=NULL (DbType = Guid), @p64='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p65=NULL (DbType = Guid), @p66='2025-09-29T11:28:34.1502002Z' (Nullable = true) (DbType = DateTime), @p67=NULL, @p68='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68)
RETURNING "MessageTime";
2025-09-29 16:58:34.157 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='51a140c6-cdd7-4152-8957-ac098be65d03', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:58:34.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='51a140c6-cdd7-4152-8957-ac098be65d03', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='016cd5d0-63e6-43f0-a6c1-05bd4694421d' (Nullable = true), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==","message_status":"accepted"}]}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='f8c2bd14-bcfa-4ea4-a73f-787d45ef05d8' (Nullable = true), @p27='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p28='campaign', @p29='Sent' (Nullable = false), @p30='c7004acc-ae79-40a2-bc00-206ba2eec62f', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:28:34.1594154+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='51a140c6-cdd7-4152-8957-ac098be65d03' (Nullable = true), @p38='2025-09-29T11:28:34.1594161+00:00' (DbType = DateTime), @p39='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==","message_status":"accepted"}]}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:58:34.167 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a1b20ecc-24f7-4e60-8231-e8317bb491ea', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11=NULL (DbType = Guid), @p12=NULL, @p13='2025-09-29T11:28:31.2966914Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSNDhBMUU2NUMyNDlFNTQ2MUNEAA==', @p26='51a140c6-cdd7-4152-8957-ac098be65d03' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='15604b3d-01e2-4f43-9067-043700f50bbc', @p29='0', @p30='f8c2bd14-bcfa-4ea4-a73f-787d45ef05d8' (Nullable = true), @p31='Sent', @p32='2025-09-29T11:28:31.2966914Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 16:58:34.169 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:58:34.170 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 4184.6934ms
2025-09-29 16:58:34.171 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:34.172 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d - 200 null application/json; charset=utf-8 4192.2609ms
2025-09-29 16:58:41.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:41.1350231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:58:48.063 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-29 16:58:48.065 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:48.066 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 3.1445ms
2025-09-29 16:58:48.069 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null 0
2025-09-29 16:58:48.071 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:58:48.073 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:48.074 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:58:48.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 16:58:48.083 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:48.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 16:58:48.091 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:58:48.093 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:48.094 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:58:49.100 +05:30 [INF] Received HTTP response headers after 1004.8334ms - 200
2025-09-29 16:58:49.101 +05:30 [INF] End processing HTTP request after 1008.4418ms - 200
2025-09-29 16:58:49.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 16:58:49.216 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:58:49.219 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:49.220 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 16:58:49.748 +05:30 [INF] Received HTTP response headers after 526.5604ms - 400
2025-09-29 16:58:49.749 +05:30 [INF] End processing HTTP request after 530.4197ms - 400
2025-09-29 16:58:49.750 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AwW2Mam279HldrwIknvmR9u"}}
2025-09-29 16:58:49.754 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='02a8da84-a087-4a20-8a87-b4385408ffa0', @p0='2025-09-29T11:28:49.2106719Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-29T11:28:49.2106719Z' (DbType = DateTime), @p3='3960e800-73f5-45dd-b908-a5d7473ea7d1', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5=NULL, @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-29T11:28:49.7519812Z' (DbType = DateTime), @p14='❌ WhatsApp API returned an error.', @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://picsum.photos/200/300', @p19='shoe_launch_offer' (Nullable = false), @p20=NULL, @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AwW2Mam279HldrwIknvmR9u"}}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p29=NULL (DbType = Guid), @p30='2025-09-29T11:28:49.7519812Z' (Nullable = true) (DbType = DateTime), @p31=NULL, @p32='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
2025-09-29 16:58:49.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='763cec0f-cde4-4932-9ca6-afb6d4819567', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:58:49.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='763cec0f-cde4-4932-9ca6-afb6d4819567', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='39f91f42-273e-453d-a2ed-8ef9ce4c625a' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-29T11:28:49.2106719Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AwW2Mam279HldrwIknvmR9u"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='59d16fc7-0b64-4b22-8ef4-91ce05c391b4' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='d33b61b8-80ad-4133-bdfa-f52eadb861e1', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-29T11:28:49.7619330+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='763cec0f-cde4-4932-9ca6-afb6d4819567' (Nullable = true), @p38='2025-09-29T11:28:49.7619339+00:00' (DbType = DateTime), @p39='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AwW2Mam279HldrwIknvmR9u"}}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-29 16:58:49.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='0d156eab-cb2e-4200-a694-009e6e018179', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T11:28:49.2106719Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25=NULL, @p26='763cec0f-cde4-4932-9ca6-afb6d4819567' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='02a8da84-a087-4a20-8a87-b4385408ffa0', @p29='0', @p30='59d16fc7-0b64-4b22-8ef4-91ce05c391b4' (Nullable = true), @p31='Failed', @p32=NULL (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 16:58:49.770 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:58:49.772 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1696.0401ms
2025-09-29 16:58:49.773 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 16:58:49.774 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 1704.9503ms
2025-09-29 16:58:51.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:28:51.1478402+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:00.710 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 16:59:00.712 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 16:59:00.712 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:00.716 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:00.717 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 7.5223ms
2025-09-29 16:59:00.718 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 5.9849ms
2025-09-29 16:59:00.721 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 16:59:00.725 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 16:59:00.727 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:00.730 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:00.731 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 16:59:00.731 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 16:59:00.732 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 16:59:00.733 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 16:59:00.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 16:59:00.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 16:59:00.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:59:00.745 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:59:00.746 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 11.1565ms
2025-09-29 16:59:00.748 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 9.9512ms
2025-09-29 16:59:00.749 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 16:59:00.750 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 16:59:00.751 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 29.2993ms
2025-09-29 16:59:00.752 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 27.0863ms
2025-09-29 16:59:01.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:01.1599049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:11.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:11.1770571+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:19.491 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - null null
2025-09-29 16:59:19.494 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:19.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - 204 null null 3.6153ms
2025-09-29 16:59:19.498 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - null null
2025-09-29 16:59:19.500 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:19.501 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 16:59:19.502 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 16:59:19.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 16:59:19.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 16:59:19.517 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:59:19.519 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 15.0158ms
2025-09-29 16:59:19.520 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 16:59:19.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - 200 null application/json; charset=utf-8 23.8183ms
2025-09-29 16:59:21.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:21.1803972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:31.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:31.2102172+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:32.946 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 16:59:32.949 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:32.949 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 3.2149ms
2025-09-29 16:59:32.952 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 536
2025-09-29 16:59:32.955 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:32.956 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 16:59:32.957 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:59:32.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 16:59:32.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 16:59:32.969 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:59:32.970 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 16:59:33.909 +05:30 [INF] Received HTTP response headers after 938.4861ms - 200
2025-09-29 16:59:33.911 +05:30 [INF] End processing HTTP request after 942.2943ms - 200
2025-09-29 16:59:34.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:59:34.023 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='text', @p6='2025-09-29T11:29:34.0005958Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14=NULL, @p15='False', @p16='Dear  {{1}},

We are happy to announce that we are going to launch our new product on {{2}}.

Regards,
LeadsCone', @p17='Dear  {{1}},

We are happy to announce that we are going to launch our new product on {{2}}.

Regards,
LeadsCone' (Nullable = false), @p18='TWO_VAR' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='variable_csv_demo', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"1463763351520294","TemplateName":"variable_csv_demo","Language":"en_US","HasHeaderMedia":false,"HeaderType":"","BodyPlaceholders":[{"Index":1,"Label":null,"Example":null},{"Index":2,"Label":null,"Example":null}],"Buttons":[]}' (DbType = Object), @p27='2025-09-29T11:29:34.0005958Z' (DbType = DateTime), @p28=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2025-09-29 16:59:34.025 +05:30 [INF] ✅ Campaign 'TWO_VAR' created | Type:text | Header:none | FlowId:null | EntryTemplate:variable_csv_demo | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 16:59:34.028 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:59:34.029 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 1070.7657ms
2025-09-29 16:59:34.030 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 16:59:34.031 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 1079.3292ms
2025-09-29 16:59:34.077 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 16:59:34.077 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:59:34.078 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-29 16:59:34.079 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.081 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.083 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 204 null null 7.357ms
2025-09-29 16:59:34.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 7.7081ms
2025-09-29 16:59:34.085 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 204 null null 7.1087ms
2025-09-29 16:59:34.088 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-29 16:59:34.091 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 16:59:34.094 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 16:59:34.096 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.098 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.100 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.101 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:59:34.101 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:59:34.102 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:59:34.103 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 16:59:34.104 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:59:34.105 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 16:59:34.110 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 16:59:34.116 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 16:59:34.118 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 16:59:34.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:59:34.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 16:59:34.121 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 14.9206ms
2025-09-29 16:59:34.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:59:34.125 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 11.6331ms
2025-09-29 16:59:34.126 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 16:59:34.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:59:34.130 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 16:59:34.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 200 null application/json; charset=utf-8 42.8307ms
2025-09-29 16:59:34.133 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:59:34.134 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 39.9003ms
2025-09-29 16:59:34.138 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 28.4385ms
2025-09-29 16:59:34.140 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 16:59:34.142 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:59:34.144 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:34.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 200 null application/json; charset=utf-8 54.0591ms
2025-09-29 16:59:34.146 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:59:34.149 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 16:59:34.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 16:59:34.158 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 16:59:34.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 16:59:34.165 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:59:34.167 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 15.5573ms
2025-09-29 16:59:34.169 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 16:59:34.170 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 200 null application/json; charset=utf-8 29.6126ms
2025-09-29 16:59:38.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 16:59:38.177 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.178 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 4.5656ms
2025-09-29 16:59:38.182 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryRLDM06xx9W1qtfAR 238
2025-09-29 16:59:38.186 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.188 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:59:38.190 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:59:38.195 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='1e853025-9f6a-4cf1-8082-213d2165c8cb', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:29:38.1928103Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 16:59:38.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='1e853025-9f6a-4cf1-8082-213d2165c8cb', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 16:59:38.207 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='7c5e4b3e-bda8-49e5-90c2-e1d409eb39fa', @p1='1e853025-9f6a-4cf1-8082-213d2165c8cb', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:29:38.2054826Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 16:59:38.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='1e853025-9f6a-4cf1-8082-213d2165c8cb', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 16:59:38.216 +05:30 [INF] CsvBatch "1e853025-9f6a-4cf1-8082-213d2165c8cb" ingested: 1 rows; headers=2
2025-09-29 16:59:38.219 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 16:59:38.221 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 28.927ms
2025-09-29 16:59:38.222 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 16:59:38.224 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 41.5836ms
2025-09-29 16:59:38.230 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/1e853025-9f6a-4cf1-8082-213d2165c8cb/sample?take=10 - null null
2025-09-29 16:59:38.234 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.235 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/1e853025-9f6a-4cf1-8082-213d2165c8cb/sample?take=10 - 204 null null 4.9029ms
2025-09-29 16:59:38.239 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/1e853025-9f6a-4cf1-8082-213d2165c8cb/sample?take=10 - null null
2025-09-29 16:59:38.243 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.244 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:59:38.245 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 16:59:38.249 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='1e853025-9f6a-4cf1-8082-213d2165c8cb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:59:38.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='1e853025-9f6a-4cf1-8082-213d2165c8cb', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 16:59:38.258 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:59:38.260 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 12.5031ms
2025-09-29 16:59:38.261 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 16:59:38.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/1e853025-9f6a-4cf1-8082-213d2165c8cb/sample?take=10 - 200 null application/json; charset=utf-8 23.3608ms
2025-09-29 16:59:38.267 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=1e853025-9f6a-4cf1-8082-213d2165c8cb - null null
2025-09-29 16:59:38.270 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.271 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=1e853025-9f6a-4cf1-8082-213d2165c8cb - 204 null null 4.41ms
2025-09-29 16:59:38.275 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=1e853025-9f6a-4cf1-8082-213d2165c8cb - null null
2025-09-29 16:59:38.278 +05:30 [INF] CORS policy execution successful.
2025-09-29 16:59:38.279 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:59:38.280 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 16:59:38.284 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:59:38.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='1e853025-9f6a-4cf1-8082-213d2165c8cb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 16:59:38.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 16:59:38.295 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 12.4643ms
2025-09-29 16:59:38.296 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 16:59:38.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=1e853025-9f6a-4cf1-8082-213d2165c8cb - 200 null application/json; charset=utf-8 22.3951ms
2025-09-29 16:59:41.217 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:41.2152531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 16:59:51.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:29:51.2221932+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:01.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:01.2251289+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:11.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:11.2392887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:21.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:21.2464322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:24.884 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:00:24.886 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:24.887 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 3.6193ms
2025-09-29 17:00:24.889 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:00:24.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:00:24.894 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:24.897 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:24.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 8.2442ms
2025-09-29 17:00:24.899 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:00:24.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:00:24.903 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:00:24.906 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:24.909 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:00:24.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 17:00:24.913 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 17:00:24.915 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:00:24.919 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 17:00:24.922 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 13.772ms
2025-09-29 17:00:24.924 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:00:24.925 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:00:24.927 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 9.7411ms
2025-09-29 17:00:24.928 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 35.7746ms
2025-09-29 17:00:24.930 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:00:24.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 32.585ms
2025-09-29 17:00:31.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:31.2564057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:35.044 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - null null
2025-09-29 17:00:35.047 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:35.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - 204 null null 3.4792ms
2025-09-29 17:00:35.051 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - null null
2025-09-29 17:00:35.053 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:00:35.054 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:00:35.055 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:00:35.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:00:35.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:00:35.067 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:00:35.069 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 11.3145ms
2025-09-29 17:00:35.070 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:00:35.072 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/variable_csv_demo - 200 null application/json; charset=utf-8 21.6842ms
2025-09-29 17:00:41.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:41.2722328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:00:51.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:30:51.2880670+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:01.301 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:31:01.2985198+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:10.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:01:10.532 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:10.533 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.43ms
2025-09-29 17:01:10.536 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:01:10.538 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:10.539 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:01:10.540 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:01:10.545 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:01:10.548 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:01:10.549 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.0334ms
2025-09-29 17:01:10.550 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:01:10.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.5863ms
2025-09-29 17:01:11.311 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:31:11.3099675+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:14.268 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 17:01:14.269 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:01:14.269 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-29 17:01:14.271 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.274 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.276 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.276 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 204 null null 8.3225ms
2025-09-29 17:01:14.277 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 8.5829ms
2025-09-29 17:01:14.278 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 204 null null 9.0611ms
2025-09-29 17:01:14.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-29 17:01:14.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:01:14.287 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 17:01:14.289 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.291 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.293 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.294 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:01:14.294 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:01:14.295 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:01:14.296 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:01:14.297 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 17:01:14.298 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:01:14.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 17:01:14.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:01:14.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:01:14.312 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 17:01:14.313 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:01:14.316 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:01:14.317 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 17.526ms
2025-09-29 17:01:14.318 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 15.2675ms
2025-09-29 17:01:14.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:01:14.322 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:01:14.323 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:01:14.324 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:01:14.325 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 200 null application/json; charset=utf-8 44.0672ms
2025-09-29 17:01:14.326 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 42.2978ms
2025-09-29 17:01:14.327 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 20.3794ms
2025-09-29 17:01:14.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - null null
2025-09-29 17:01:14.333 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:01:14.335 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:14.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 200 null application/json; charset=utf-8 49.471ms
2025-09-29 17:01:14.337 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:01:14.341 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:01:14.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:01:14.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:01:14.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:01:14.354 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:01:14.356 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 12.668ms
2025-09-29 17:01:14.357 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:01:14.358 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/csv-sample/schema - 200 null application/json; charset=utf-8 25.8071ms
2025-09-29 17:01:21.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:31:21.3190571+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:24.260 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 17:01:24.263 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.265 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 4.8533ms
2025-09-29 17:01:24.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryRkiA77MPGxhiyacM 271
2025-09-29 17:01:24.273 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.275 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 17:01:24.276 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 17:01:24.282 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='60394934-f5a7-4d02-b440-7e040a79831d', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:31:24.2796537Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter - Copy (2).csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 17:01:24.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='60394934-f5a7-4d02-b440-7e040a79831d', @p0='["phone","parameter1","parameter2"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 17:01:24.294 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='a5a7d1a0-bf60-4830-b9fb-95dc707524bb', @p1='60394934-f5a7-4d02-b440-7e040a79831d', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:31:24.2923383Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta","parameter2":"01-10-1985"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 17:01:24.299 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='60394934-f5a7-4d02-b440-7e040a79831d', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 17:01:24.303 +05:30 [INF] CsvBatch "60394934-f5a7-4d02-b440-7e040a79831d" ingested: 1 rows; headers=3
2025-09-29 17:01:24.305 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:01:24.307 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 27.9068ms
2025-09-29 17:01:24.309 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 17:01:24.310 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 40.8064ms
2025-09-29 17:01:24.319 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/60394934-f5a7-4d02-b440-7e040a79831d/sample?take=10 - null null
2025-09-29 17:01:24.323 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.324 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/60394934-f5a7-4d02-b440-7e040a79831d/sample?take=10 - 204 null null 4.8128ms
2025-09-29 17:01:24.328 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/60394934-f5a7-4d02-b440-7e040a79831d/sample?take=10 - null null
2025-09-29 17:01:24.332 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.333 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 17:01:24.335 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 17:01:24.339 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='60394934-f5a7-4d02-b440-7e040a79831d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:01:24.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='60394934-f5a7-4d02-b440-7e040a79831d', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 17:01:24.349 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:01:24.351 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 13.89ms
2025-09-29 17:01:24.353 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 17:01:24.354 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/60394934-f5a7-4d02-b440-7e040a79831d/sample?take=10 - 200 null application/json; charset=utf-8 25.9071ms
2025-09-29 17:01:24.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=60394934-f5a7-4d02-b440-7e040a79831d - null null
2025-09-29 17:01:24.362 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.363 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=60394934-f5a7-4d02-b440-7e040a79831d - 204 null null 4.4108ms
2025-09-29 17:01:24.368 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=60394934-f5a7-4d02-b440-7e040a79831d - null null
2025-09-29 17:01:24.371 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:24.373 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 17:01:24.374 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 17:01:24.379 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:01:24.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='60394934-f5a7-4d02-b440-7e040a79831d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:01:24.390 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:01:24.392 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 15.6331ms
2025-09-29 17:01:24.394 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 17:01:24.396 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings/suggest?batchId=60394934-f5a7-4d02-b440-7e040a79831d - 200 null application/json; charset=utf-8 28.1268ms
2025-09-29 17:01:26.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings - null null
2025-09-29 17:01:26.989 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:26.990 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings - 204 null null 3.6562ms
2025-09-29 17:01:26.993 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings - application/json 53
2025-09-29 17:01:26.996 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:26.997 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 17:01:27.002 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 17:01:27.008 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 17:01:27.009 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 1.7955ms
2025-09-29 17:01:27.010 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 17:01:27.012 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/mappings - 204 null null 18.108ms
2025-09-29 17:01:27.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/materialize - null null
2025-09-29 17:01:27.020 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:27.020 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/materialize - 204 null null 3.7381ms
2025-09-29 17:01:27.024 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/materialize - application/json 233
2025-09-29 17:01:27.026 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:27.027 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 17:01:27.029 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 17:01:27.033 +05:30 [INF] 📦 Materialize request: campaign="1b120fa0-c964-4a7f-ac4c-6f6adffd61bb" persist=true batch="60394934-f5a7-4d02-b440-7e040a79831d" audience='Audience 2025-09-29'
2025-09-29 17:01:27.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 17:01:27.042 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='60394934-f5a7-4d02-b440-7e040a79831d'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 17:01:27.047 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='60394934-f5a7-4d02-b440-7e040a79831d', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 17:01:27.051 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:01:27.056 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='variable_csv_demo'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:01:27.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 17:01:27.074 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='d198a359-7775-43fc-8cdf-8302dc28999f', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T11:31:27.0664242Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T11:31:27.0664242Z' (Nullable = true) (DbType = DateTime), @p10='6034bef3-321d-46d7-82c4-79bd96a433c5', @p11='{"parameter1":"Robert Nicosta","parameter2":"01-10-1985"}' (DbType = Object), @p12='d198a359-7775-43fc-8cdf-8302dc28999f', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T11:31:27.0664242Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T11:31:27.0664242Z' (Nullable = true) (DbType = DateTime), @p25='6a5b4d6c-d8f3-4f77-a58a-6742fddfab58', @p26='6034bef3-321d-46d7-82c4-79bd96a433c5' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='8DEFD6BB83D852E57EC3D19E0B885581CF30E9AC029F49A736AC75BED56604B3', @p34='False', @p35='2025-09-29T11:31:27.0664242Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='["Robert Nicosta","01-10-1985"]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-29T11:31:27.0664242Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 17:01:27.078 +05:30 [INF] 📦 Materialize result: campaign="1b120fa0-c964-4a7f-ac4c-6f6adffd61bb" materialized=1 skipped=0 audienceId="d198a359-7775-43fc-8cdf-8302dc28999f"
2025-09-29 17:01:27.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 17:01:27.082 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 51.3579ms
2025-09-29 17:01:27.084 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 17:01:27.085 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/materialize - 200 null application/json; charset=utf-8 61.5591ms
2025-09-29 17:01:27.149 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:01:27.152 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:27.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.7505ms
2025-09-29 17:01:27.158 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:01:27.161 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:27.163 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:01:27.165 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:01:27.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:01:27.176 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:01:27.178 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.0523ms
2025-09-29 17:01:27.179 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:01:27.181 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 23.5054ms
2025-09-29 17:01:31.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:31:31.3254775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:31.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-29 17:01:31.388 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:31.389 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 204 null null 3.0293ms
2025-09-29 17:01:31.392 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null 0
2025-09-29 17:01:31.394 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:01:31.395 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 17:01:31.396 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:01:31.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 17:01:31.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 17:01:31.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 17:01:31.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 17:01:31.422 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:01:31.423 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:01:32.621 +05:30 [INF] Received HTTP response headers after 1196.6452ms - 200
2025-09-29 17:01:32.622 +05:30 [INF] End processing HTTP request after 1200.0639ms - 200
2025-09-29 17:01:32.736 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-29 17:01:32.739 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-29 17:01:32.744 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 17:01:32.745 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-29 17:01:34.221 +05:30 [INF] Received HTTP response headers after 1475.1519ms - 200
2025-09-29 17:01:34.223 +05:30 [INF] End processing HTTP request after 1478.9915ms - 200
2025-09-29 17:01:34.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__messageLogId_0='5858c0c2-ba19-4c2b-9210-9970dc70005b', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:01:34.231 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p5='6a5b4d6c-d8f3-4f77-a58a-6742fddfab58', @p0='5cf23c85fb98cb7a4df9228bddb8d48ed233866b7d003845b69715d2ea0c5a9f', @p1='2025-09-29T11:31:32.7309710Z' (Nullable = true) (DbType = DateTime), @p2='[]' (DbType = Object), @p3='["Robert Nicosta","01-10-1985"]' (DbType = Object), @p4='2025-09-29T11:31:32.7309710Z' (DbType = DateTime), @p6='5858c0c2-ba19-4c2b-9210-9970dc70005b', @p7='9841bcab-ca71-439f-8691-d85ada887b01', @p8=NULL, @p9=NULL (DbType = Guid), @p10=NULL (DbType = Guid), @p11='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb' (Nullable = true), @p12='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p13=NULL, @p14=NULL, @p15=NULL (DbType = DateTime), @p16='2025-09-29T11:31:32.7309710Z' (DbType = DateTime), @p17=NULL, @p18=NULL (DbType = Int32), @p19=NULL (DbType = Boolean), @p20='False', @p21=NULL, @p22='variable_csv_demo' (Nullable = false), @p23='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTk4NTMyRTg3OUVDODk3QjlFAA==', @p24=NULL (DbType = Decimal), @p25=NULL, @p26=NULL, @p27=NULL, @p28='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTk4NTMyRTg3OUVDODk3QjlFAA==","message_status":"accepted"}]}', @p29='918974005240' (Nullable = false), @p30=NULL (DbType = Guid), @p31=NULL, @p32='2e4374cb-663f-4725-8b82-beca12d9f03d' (Nullable = true), @p33='2025-09-29T11:31:32.7309710Z' (Nullable = true) (DbType = DateTime), @p34='campaign', @p35='Sent' (Nullable = false), @p36='403dd24a-41a7-496c-896d-2618a53a3c6a', @p37='9841bcab-ca71-439f-8691-d85ada887b01', @p38=NULL, @p39=NULL, @p40='2025-09-29T11:31:34.2293187+00:00' (DbType = DateTime), @p41='send_response' (Nullable = false), @p42=NULL (DbType = Boolean), @p43='5858c0c2-ba19-4c2b-9210-9970dc70005b' (Nullable = true), @p44='2025-09-29T11:31:34.2293194+00:00' (DbType = DateTime), @p45='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTk4NTMyRTg3OUVDODk3QjlFAA==","message_status":"accepted"}]}' (Nullable = false), @p46=NULL (DbType = Decimal), @p47=NULL, @p48='META_CLOUD' (Nullable = false), @p49='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTk4NTMyRTg3OUVDODk3QjlFAA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "MaterializedAt" = @p1, "ResolvedButtonUrlsJson" = @p2, "ResolvedParametersJson" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49);
2025-09-29 17:01:34.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='e0b0caa7-55bd-4dc3-937b-2cfd53458712', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4=NULL, @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-29T11:31:32.7309710Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Dear  {{1}},

We are happy to announce that we are going to launch our new product on {{2}}.

Regards,
LeadsCone' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTk4NTMyRTg3OUVDODk3QjlFAA==', @p26='5858c0c2-ba19-4c2b-9210-9970dc70005b' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='6a5b4d6c-d8f3-4f77-a58a-6742fddfab58', @p29='0', @p30='2e4374cb-663f-4725-8b82-beca12d9f03d' (Nullable = true), @p31='Sent', @p32='2025-09-29T11:31:32.7309710Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='variable_csv_demo', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-29 17:01:34.259 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:01:34.260 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 2862.6726ms
2025-09-29 17:01:34.262 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 17:01:34.263 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 200 null application/json; charset=utf-8 2871.1722ms
2025-09-29 17:01:41.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:31:41.3447573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:01:51.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:31:51.3510321+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:01.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:32:01.3665081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:11.381 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:32:11.3800431+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:21.447 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:32:21.3969943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:24.737 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:02:24.737 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:02:24.740 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:24.743 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:24.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 6.1737ms
2025-09-29 17:02:24.744 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 6.6136ms
2025-09-29 17:02:24.747 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:02:24.750 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:02:24.752 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:24.754 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:24.755 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:02:24.756 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:02:24.756 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 17:02:24.757 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:02:24.761 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 17:02:24.767 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:02:24.769 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 9.9892ms
2025-09-29 17:02:24.770 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:02:24.771 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 23.7567ms
2025-09-29 17:02:24.822 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 17:02:24.824 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:02:24.825 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 63.1621ms
2025-09-29 17:02:24.827 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:02:24.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 77.7109ms
2025-09-29 17:02:31.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:32:31.4594758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:36.073 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/url_tracking - null null
2025-09-29 17:02:36.076 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:36.076 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/url_tracking - 204 null null 3.2067ms
2025-09-29 17:02:36.079 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/url_tracking - null null
2025-09-29 17:02:36.081 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:02:36.082 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:02:36.083 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:02:36.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:02:36.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:02:36.094 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:02:36.096 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 11.5223ms
2025-09-29 17:02:36.097 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:02:36.098 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/url_tracking - 200 null application/json; charset=utf-8 18.9589ms
2025-09-29 17:02:41.471 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:32:41.4693330+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:02:51.477 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:32:51.4755465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:00.651 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - null null
2025-09-29 17:03:00.653 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:00.654 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create-text-campaign - 204 null null 3.052ms
2025-09-29 17:03:00.658 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - application/json 611
2025-09-29 17:03:00.661 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:00.662 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 17:03:00.663 +05:30 [INF] Route matched with {action = "CreateTextCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTextCampaign(xbytechat.api.Features.CampaignModule.DTOs.CampaignCreateDto) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:03:00.667 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__phoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."PhoneNumberId" = @__phoneNumberId_1 AND w."IsActive"
LIMIT 1
2025-09-29 17:03:00.673 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 17:03:00.675 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:03:00.677 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:03:01.488 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:01.4864023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:01.901 +05:30 [INF] Received HTTP response headers after 1223.7474ms - 200
2025-09-29 17:03:01.902 +05:30 [INF] End processing HTTP request after 1226.9946ms - 200
2025-09-29 17:03:02.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:03:02.010 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='77e1ec21-0d24-4156-b4e7-945590ebd431', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='text', @p6='2025-09-29T11:33:02.0025778Z' (DbType = DateTime), @p7='system', @p8=NULL (DbType = Guid), @p9=NULL (DbType = DateTime), @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14=NULL, @p15='False', @p16='Hello

This is used to check wheather url redirection is woking or not.', @p17='Hello

This is used to check wheather url redirection is woking or not.' (Nullable = false), @p18='uRL_TRACKING' (Nullable = false), @p19='673199269218077', @p20='META_CLOUD', @p21=NULL (DbType = DateTime), @p22=NULL (DbType = Guid), @p23='Draft' (Nullable = false), @p24='url_tracking', @p25='[]', @p26='{"Provider":"meta_cloud","TemplateId":"1322949819198164","TemplateName":"url_tracking","Language":"en_US","HasHeaderMedia":false,"HeaderType":"","BodyPlaceholders":[],"Buttons":[{"Type":"URL","Text":"Visit website","Value":"https://077903ad22d3.ngrok-free.app/{{1}}","Order":0},{"Type":"URL","Text":"View Demo","Value":"https://077903ad22d3.ngrok-free.app/{{1}}","Order":1}]}' (DbType = Object), @p27='2025-09-29T11:33:02.0025779Z' (DbType = DateTime), @p28=NULL, @p29='1ff132e1-8a19-46d4-a69f-fa2c0dc0429f', @p30='77e1ec21-0d24-4156-b4e7-945590ebd431', @p31='True', @p32='2', @p33='View Demo' (Nullable = false), @p34='URL' (Nullable = false), @p35='' (Nullable = false), @p36='7b15e2ad-2d4e-48e7-9727-004c45d02fc0', @p37='77e1ec21-0d24-4156-b4e7-945590ebd431', @p38='True', @p39='1', @p40='Visit website' (Nullable = false), @p41='URL' (Nullable = false), @p42='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Campaigns" ("Id", "AudienceId", "BusinessId", "CTAFlowConfigId", "CampaignId", "CampaignType", "CreatedAt", "CreatedBy", "CtaId", "DeletedAt", "DeletedBy", "DocumentUrl", "FollowUpTemplateId", "ImageCaption", "ImageUrl", "IsDeleted", "MessageBody", "MessageTemplate", "Name", "PhoneNumberId", "Provider", "ScheduledAt", "SourceCampaignId", "Status", "TemplateId", "TemplateParameters", "TemplateSchemaSnapshot", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
INSERT INTO "CampaignButtons" ("Id", "CampaignId", "IsFromTemplate", "Position", "Title", "Type", "Value")
VALUES (@p29, @p30, @p31, @p32, @p33, @p34, @p35);
INSERT INTO "CampaignButtons" ("Id", "CampaignId", "IsFromTemplate", "Position", "Title", "Type", "Value")
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 17:03:02.013 +05:30 [INF] ✅ Campaign 'uRL_TRACKING' created | Type:text | Header:none | FlowId:null | EntryTemplate:url_tracking | Sender:META_CLOUD/673199269218077 | Recipients:0
2025-09-29 17:03:02.015 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType72`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:02.016 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api) in 1352.118ms
2025-09-29 17:03:02.018 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.CreateTextCampaign (xbytechat.api)'
2025-09-29 17:03:02.019 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/create-text-campaign - 200 null application/json; charset=utf-8 1360.5153ms
2025-09-29 17:03:02.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:03:02.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:03:02.065 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:03:02.068 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.073 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.077 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.078 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 204 null null 13.947ms
2025-09-29 17:03:02.079 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 14.8396ms
2025-09-29 17:03:02.080 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 15.8906ms
2025-09-29 17:03:02.085 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:03:02.089 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:03:02.093 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:03:02.096 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.099 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.102 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.103 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:03:02.104 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:03:02.105 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:03:02.106 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:03:02.108 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 17:03:02.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:03:02.109 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:03:02.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:03:02.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:03:02.131 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:03:02.139 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:03:02.140 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 24.3363ms
2025-09-29 17:03:02.143 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:03:02.144 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:03:02.146 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 35.0066ms
2025-09-29 17:03:02.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 58.3736ms
2025-09-29 17:03:02.149 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:03:02.155 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 69.7121ms
2025-09-29 17:03:02.199 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 17:03:02.202 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 17:03:02.204 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 79.383ms
2025-09-29 17:03:02.205 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:03:02.206 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 200 null application/json; charset=utf-8 113.4822ms
2025-09-29 17:03:02.210 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:03:02.213 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:02.214 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:03:02.215 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:03:02.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:03:02.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:03:02.232 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:03:02.235 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:03:02.237 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 19.2446ms
2025-09-29 17:03:02.239 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:03:02.241 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 30.9437ms
2025-09-29 17:03:11.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:11.4953434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:21.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:21.5069547+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:30.902 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:03:30.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:03:30.905 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:30.907 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:30.908 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 5.8159ms
2025-09-29 17:03:30.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 5.9802ms
2025-09-29 17:03:30.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:03:30.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:03:30.916 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:30.918 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:30.919 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:03:30.920 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:03:30.921 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 17:03:30.921 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:03:30.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 17:03:30.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 17:03:30.931 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:03:30.933 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:30.934 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 10.8315ms
2025-09-29 17:03:30.935 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 8.6454ms
2025-09-29 17:03:30.936 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:03:30.937 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:03:30.939 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 27.3848ms
2025-09-29 17:03:30.940 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 25.5712ms
2025-09-29 17:03:31.515 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:31.5135885+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:34.702 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/contact_sales_info_v1 - null null
2025-09-29 17:03:34.705 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:34.706 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/contact_sales_info_v1 - 204 null null 3.8687ms
2025-09-29 17:03:34.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/contact_sales_info_v1 - null null
2025-09-29 17:03:34.711 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:34.713 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:34.714 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:03:34.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='contact_sales_info_v1'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:03:34.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='contact_sales_info_v1', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:03:34.726 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:34.728 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 11.6289ms
2025-09-29 17:03:34.729 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:34.730 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/contact_sales_info_v1 - 200 null application/json; charset=utf-8 21.4236ms
2025-09-29 17:03:40.058 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 17:03:40.060 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:40.061 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 204 null null 3.046ms
2025-09-29 17:03:40.063 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - null null
2025-09-29 17:03:40.066 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:40.067 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:40.068 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:03:40.071 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='shoe_launch_offer'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:03:40.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='shoe_launch_offer', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:03:40.079 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:40.080 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 11.0355ms
2025-09-29 17:03:40.081 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:40.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/shoe_launch_offer - 200 null application/json; charset=utf-8 18.8327ms
2025-09-29 17:03:41.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:41.5208165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:44.642 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/single_variable_body - null null
2025-09-29 17:03:44.644 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:44.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/single_variable_body - 204 null null 2.8924ms
2025-09-29 17:03:44.648 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/single_variable_body - null null
2025-09-29 17:03:44.650 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:44.651 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:44.652 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:03:44.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='single_variable_body'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:03:44.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='single_variable_body', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:03:44.663 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:44.664 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 11.0988ms
2025-09-29 17:03:44.666 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:44.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/single_variable_body - 200 null application/json; charset=utf-8 19.1807ms
2025-09-29 17:03:51.531 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:33:51.5285650+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:03:57.133 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/pdf_template - null null
2025-09-29 17:03:57.135 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:57.136 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/pdf_template - 204 null null 3.4569ms
2025-09-29 17:03:57.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/pdf_template - null null
2025-09-29 17:03:57.141 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:03:57.142 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:57.143 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:03:57.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='pdf_template'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:03:57.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='pdf_template', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:03:57.155 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:03:57.156 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 10.8034ms
2025-09-29 17:03:57.157 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:03:57.158 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/pdf_template - 200 null application/json; charset=utf-8 18.858ms
2025-09-29 17:04:01.542 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:34:01.5397890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:06.693 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-29 17:04:06.695 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:06.696 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 204 null null 3.3961ms
2025-09-29 17:04:06.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-29 17:04:06.702 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:06.702 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:04:06.704 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:04:06.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-29 17:04:06.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-29 17:04:06.714 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType258`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:04:06.715 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 9.8062ms
2025-09-29 17:04:06.716 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-29 17:04:06.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 200 null application/json; charset=utf-8 18.0404ms
2025-09-29 17:04:11.557 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:34:11.5545448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:19.073 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:04:19.076 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.077 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.7651ms
2025-09-29 17:04:19.079 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:04:19.081 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.082 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.083 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:04:19.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:04:19.089 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:04:19.091 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.5627ms
2025-09-29 17:04:19.092 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.093 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.5776ms
2025-09-29 17:04:19.148 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:04:19.151 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.152 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.162ms
2025-09-29 17:04:19.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:04:19.159 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.160 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.161 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:04:19.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:04:19.168 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:04:19.170 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.1367ms
2025-09-29 17:04:19.171 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.173 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.3712ms
2025-09-29 17:04:19.202 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:04:19.202 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:04:19.202 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:04:19.204 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.206 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.209 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.209 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 7.5153ms
2025-09-29 17:04:19.210 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.211 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 8.8999ms
2025-09-29 17:04:19.214 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-29 17:04:19.215 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:04:19.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-29 17:04:19.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:04:19.220 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.226 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:19.228 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:04:19.229 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:04:19.230 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:04:19.231 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.1113ms
2025-09-29 17:04:19.232 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-29 17:04:19.233 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-29 17:04:19.234 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:04:19.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-29 17:04:19.241 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 39.3064ms
2025-09-29 17:04:19.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-29 17:04:19.246 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:04:19.251 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType257`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:04:19.252 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 16.7856ms
2025-09-29 17:04:19.254 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 14.6974ms
2025-09-29 17:04:19.255 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-29 17:04:19.256 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-29 17:04:19.257 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 42.9818ms
2025-09-29 17:04:19.258 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 40.1446ms
2025-09-29 17:04:21.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:34:21.5619939+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:31.567 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:34:31.5655109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:41.571 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:34:41.5690675+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:44.286 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:04:44.288 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:44.289 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.24ms
2025-09-29 17:04:44.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:04:44.295 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:44.296 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:04:44.297 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:04:44.303 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:04:44.306 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:04:44.307 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 8.7588ms
2025-09-29 17:04:44.308 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:04:44.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.8219ms
2025-09-29 17:04:51.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:34:51.5738925+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:04:54.072 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:04:54.075 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:54.076 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.9802ms
2025-09-29 17:04:54.079 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:04:54.082 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:54.083 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:04:54.084 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:04:54.089 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:04:54.091 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:04:54.093 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.2733ms
2025-09-29 17:04:54.094 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:04:54.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.5622ms
2025-09-29 17:04:55.717 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:04:55.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:04:55.719 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:04:55.720 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.722 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.724 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.725 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 204 null null 7.5507ms
2025-09-29 17:04:55.726 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 7.2735ms
2025-09-29 17:04:55.726 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 7.7205ms
2025-09-29 17:04:55.729 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:04:55.732 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:04:55.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:04:55.736 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.738 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.740 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.741 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:04:55.741 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:04:55.742 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:04:55.743 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:04:55.744 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 17:04:55.745 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:04:55.751 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 17:04:55.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:04:55.755 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:04:55.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 17:04:55.759 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:04:55.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:04:55.763 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 16.6277ms
2025-09-29 17:04:55.764 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 14.7246ms
2025-09-29 17:04:55.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:04:55.769 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:04:55.770 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:04:55.772 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:04:55.772 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 200 null application/json; charset=utf-8 42.9606ms
2025-09-29 17:04:55.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 41.3686ms
2025-09-29 17:04:55.775 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 21.1925ms
2025-09-29 17:04:55.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:04:55.781 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:04:55.783 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:04:55.784 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 49.3083ms
2025-09-29 17:04:55.785 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:04:55.788 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:04:55.791 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:04:55.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:04:55.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:04:55.801 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:04:55.802 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 13.0289ms
2025-09-29 17:04:55.803 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:04:55.804 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 24.5996ms
2025-09-29 17:05:01.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:01.5896110+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:05:11.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:11.6020706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:05:21.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:21.6174762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:05:31.633 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:31.6316295+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:05:41.644 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:41.6426642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:05:51.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:35:51.6507379+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:01.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:01.6598074+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:11.683 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:11.6808959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:21.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:21.7005452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:31.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:31.7106453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:41.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:41.7249813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:06:51.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:36:51.7405625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:01.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:37:01.7555972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:11.769 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:37:11.7672966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:21.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:37:21.7798330+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:31.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:37:31.8385560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:41.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:37:41.8530051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:07:51.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:37:51.8817392+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:01.898 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:01.8970126+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:11.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:11.9019249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:21.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:21.9116137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:31.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:31.9278638+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:41.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:41.9294486+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:08:51.939 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:38:51.9376243+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:01.945 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:01.9432944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:11.959 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:11.9577346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:21.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:21.9628090+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:31.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:31.9762343+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:41.985 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:41.9834614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:09:51.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:39:51.9923924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:02.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:02.0010600+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:10.299 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:10:10.302 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:10:10.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.9114ms
2025-09-29 17:10:10.306 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:10:10.309 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:10:10.310 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:10:10.311 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:10:10.317 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:10:10.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:10:10.321 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.8212ms
2025-09-29 17:10:10.322 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:10:10.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.5199ms
2025-09-29 17:10:12.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:12.0064660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:22.014 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:22.0119856+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:32.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:32.0220559+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:42.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:42.0232913+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:10:44.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:10:44.950 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:10:44.951 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.4434ms
2025-09-29 17:10:44.955 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:10:44.957 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:10:44.958 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:10:44.959 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:10:44.963 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:10:44.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:10:44.968 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.0913ms
2025-09-29 17:10:44.969 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:10:44.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.3069ms
2025-09-29 17:10:52.039 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:40:52.0375612+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:02.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:41:02.0503896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:12.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:41:12.0556117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:22.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:41:22.0704153+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:32.087 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:41:32.0851542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:42.103 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:41:42.1010638+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:11:52.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:41:52.1118101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:02.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:42:02.1196510+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:12.140 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:42:12.1380757+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:22.209 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:42:22.1537061+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:32.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:42:32.2230149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:42.240 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:42:42.2377309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:12:52.247 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:42:52.2458569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:02.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:02.2530035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:12.273 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:12.2716634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:22.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:22.2814520+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:32.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:32.2877472+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:42.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:42.3067421+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:13:52.324 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:43:52.3225190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:02.339 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:44:02.3374437+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:12.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:44:12.3519601+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:22.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:44:22.3657962+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:32.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:44:32.3674443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:42.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:44:42.3750090+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:14:52.389 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:44:52.3876664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:02.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:45:02.3917006+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:12.403 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:45:12.4014790+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:22.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:45:22.4153102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:32.422 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:45:32.4195025+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:42.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:45:42.4244804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:15:52.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:45:52.4374447+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:02.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:02.4448318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:12.452 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:12.4506294+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:22.471 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:22.4696968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:32.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:32.4789247+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:42.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:42.4958071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:16:52.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:46:52.5067299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:02.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:02.5160459+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:12.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:12.5253876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:22.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:22.5348758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:32.598 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:32.5968836+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:42.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:42.6126783+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:17:52.632 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:47:52.6308528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:02.651 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:02.6500606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:12.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:12.6605306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:22.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:22.6716758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:32.686 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:32.6844275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:42.690 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:42.6890319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:18:52.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:48:52.6955260+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:02.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:02.7108215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:12.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:12.7212822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:22.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:22.7352577+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:32.744 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:32.7429035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:42.756 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:42.7530297+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:19:52.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:49:52.7611950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:02.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:50:02.7761140+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:12.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:50:12.7874045+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:22.797 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:50:22.7953426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:32.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:50:32.8141481+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:42.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:50:42.8181055+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:20:52.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:50:52.8298886+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:02.837 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:02.8354833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:12.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:12.8436623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:22.858 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:22.8566797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:32.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:32.8643158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:42.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:42.8697808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:21:52.890 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:51:52.8883897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:02.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:52:02.9005452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:12.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:52:12.9143158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:22.991 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:52:22.9313820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:32.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:52:32.9957461+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:43.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:52:42.9997663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:22:53.018 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:52:53.0164642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:03.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:53:03.0227613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:13.031 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:53:13.0300218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:23.040 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:53:23.0380864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:33.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:53:33.0562830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:43.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:53:43.0594769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:53.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:53:53.0750683+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:23:54.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:23:54.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:23:54.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:23:54.985 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:54.987 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:54.989 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:54.990 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 204 null null 20.6036ms
2025-09-29 17:23:54.991 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 16.8968ms
2025-09-29 17:23:54.991 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 17.5979ms
2025-09-29 17:23:54.994 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 17:23:54.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:23:54.998 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:23:55.000 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:55.003 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:55.005 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:55.006 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:23:55.006 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:23:55.007 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:23:55.008 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 17:23:55.009 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:23:55.010 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:23:55.015 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:23:55.024 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:23:55.026 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 14.6573ms
2025-09-29 17:23:55.027 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 17:23:55.028 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 34.1215ms
2025-09-29 17:23:55.076 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 17:23:55.078 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 17:23:55.079 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 64.2325ms
2025-09-29 17:23:55.080 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 17:23:55.081 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 200 null application/json; charset=utf-8 85.3209ms
2025-09-29 17:23:55.090 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:23:55.094 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:23:55.099 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:23:55.101 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:23:55.102 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 84.0288ms
2025-09-29 17:23:55.103 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 17:23:55.104 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:23:55.106 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:23:55.107 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 108.5764ms
2025-09-29 17:23:55.108 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:23:55.111 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 17:23:55.115 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 17:23:55.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 17:23:55.122 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:23:55.124 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:23:55.125 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 12.577ms
2025-09-29 17:23:55.127 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 17:23:55.129 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 25.6477ms
2025-09-29 17:24:03.080 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:54:03.0782623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:24:05.121 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-29 17:24:05.123 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.124 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 3.3897ms
2025-09-29 17:24:05.128 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryKcFg5U6AifiM4V32 216
2025-09-29 17:24:05.130 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.131 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 17:24:05.132 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 17:24:05.140 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-29T11:54:05.1348126Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_single_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-29 17:24:05.147 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @p0='["phone"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-29 17:24:05.153 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='584ed6ac-a594-4e03-8a3b-b076e7d4a239', @p1='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-29T11:54:05.1496491Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"89740 05240"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-29 17:24:05.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-29 17:24:05.158 +05:30 [INF] CsvBatch "b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9" ingested: 1 rows; headers=1
2025-09-29 17:24:05.160 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:24:05.161 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 27.0146ms
2025-09-29 17:24:05.162 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-29 17:24:05.163 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 35.0945ms
2025-09-29 17:24:05.169 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9/sample?take=10 - null null
2025-09-29 17:24:05.172 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.173 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9/sample?take=10 - 204 null null 3.4163ms
2025-09-29 17:24:05.176 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9/sample?take=10 - null null
2025-09-29 17:24:05.178 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.179 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 17:24:05.180 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-29 17:24:05.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:24:05.187 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 17:24:05.189 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:24:05.190 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 9.1102ms
2025-09-29 17:24:05.192 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-29 17:24:05.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9/sample?take=10 - 200 null application/json; charset=utf-8 17.4168ms
2025-09-29 17:24:05.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings/suggest?batchId=b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9 - null null
2025-09-29 17:24:05.199 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.200 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings/suggest?batchId=b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9 - 204 null null 3.0541ms
2025-09-29 17:24:05.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings/suggest?batchId=b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9 - null null
2025-09-29 17:24:05.206 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:05.207 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 17:24:05.208 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 17:24:05.214 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:24:05.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__batchId_0='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:24:05.221 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:24:05.222 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 11.0996ms
2025-09-29 17:24:05.223 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-29 17:24:05.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings/suggest?batchId=b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9 - 200 null application/json; charset=utf-8 21.0187ms
2025-09-29 17:24:07.002 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings - null null
2025-09-29 17:24:07.005 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings - 204 null null 2.9728ms
2025-09-29 17:24:07.008 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings - application/json 2
2025-09-29 17:24:07.010 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.011 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 17:24:07.012 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-29 17:24:07.014 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-29 17:24:07.015 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 1.4134ms
2025-09-29 17:24:07.016 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-29 17:24:07.017 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/mappings - 204 null null 8.7545ms
2025-09-29 17:24:07.022 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/materialize - null null
2025-09-29 17:24:07.024 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.025 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/materialize - 204 null null 2.7377ms
2025-09-29 17:24:07.028 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/materialize - application/json 182
2025-09-29 17:24:07.030 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.030 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 17:24:07.031 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-29 17:24:07.033 +05:30 [INF] 📦 Materialize request: campaign="77e1ec21-0d24-4156-b4e7-945590ebd431" persist=true batch="b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9" audience='Audience 2025-09-29'
2025-09-29 17:24:07.036 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-29 17:24:07.044 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-29 17:24:07.048 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='b3ba52a7-f3dc-40f1-a5ff-3d0f637eeed9', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-29 17:24:07.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-29 17:24:07.057 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 17:24:07.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-29 17:24:07.073 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='3d60b935-9356-4f9a-a5ea-91a34dad782c', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-29T11:54:07.0632866Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-29' (Nullable = false), @p9='2025-09-29T11:54:07.0632866Z' (Nullable = true) (DbType = DateTime), @p10='237cdc6d-5d86-4c6c-8aa8-15b00489da3b', @p11='{"phone":"89740 05240"}' (DbType = Object), @p12='3d60b935-9356-4f9a-a5ea-91a34dad782c', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-29T11:54:07.0632866Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-29T11:54:07.0632866Z' (Nullable = true) (DbType = DateTime), @p25='e56ef331-6781-43f0-b7c2-e4b58f7964e2', @p26='237cdc6d-5d86-4c6c-8aa8-15b00489da3b' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='77e1ec21-0d24-4156-b4e7-945590ebd431', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='032102BCD9F5E650B6CA8559351184E6063D8ED65A1E89FB4F80CCAC2B33AE07', @p34='False', @p35='2025-09-29T11:54:07.0632866Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='[]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-29T11:54:07.0632866Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-29 17:24:07.078 +05:30 [INF] 📦 Materialize result: campaign="77e1ec21-0d24-4156-b4e7-945590ebd431" materialized=1 skipped=0 audienceId="3d60b935-9356-4f9a-a5ea-91a34dad782c"
2025-09-29 17:24:07.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-29 17:24:07.081 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 48.3781ms
2025-09-29 17:24:07.083 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-29 17:24:07.084 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/materialize - 200 null application/json; charset=utf-8 56.7156ms
2025-09-29 17:24:07.149 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:24:07.152 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.153 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.0997ms
2025-09-29 17:24:07.157 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:24:07.160 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:07.161 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:24:07.162 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:24:07.168 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:24:07.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:24:07.172 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.7412ms
2025-09-29 17:24:07.173 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:24:07.175 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 18.0412ms
2025-09-29 17:24:09.971 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 17:24:09.973 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:09.974 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 2.9977ms
2025-09-29 17:24:09.977 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null 0
2025-09-29 17:24:09.979 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:24:09.980 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 17:24:09.980 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:24:09.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-29 17:24:09.990 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-29 17:24:09.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-29 17:24:09.998 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-29 17:24:10.000 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:24:10.001 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-29 17:24:11.281 +05:30 [INF] Received HTTP response headers after 1278.6389ms - 200
2025-09-29 17:24:11.282 +05:30 [INF] End processing HTTP request after 1282.0959ms - 200
2025-09-29 17:24:11.493 +05:30 [ERR] Error while sending text template campaign
System.InvalidOperationException: Template requires a dynamic URL at button index 0, but campaign button value is empty.
   at xbytechat.api.Features.CampaignModule.Services.CampaignService.BuildTextTemplateComponents_Meta(List`1 templateParams, List`1 buttonList, TemplateMetadataDto templateMeta, Guid campaignSendLogId, Contact contact, List`1& resolvedButtonUrls) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\CampaignService.cs:line 2912
   at xbytechat.api.Features.CampaignModule.Services.CampaignService.SendTextTemplateCampaignAsync(Campaign campaign) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\CampaignService.cs:line 2163
2025-09-29 17:24:11.524 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 17:24:11.525 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1543.7065ms
2025-09-29 17:24:11.526 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-29 17:24:11.527 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 400 null application/json; charset=utf-8 1550.6751ms
2025-09-29 17:24:13.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:54:13.0864132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:24:23.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:54:23.1041887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:24:33.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:54:33.1120924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:24:43.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:54:43.1215208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:24:53.142 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:54:53.1405245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:03.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:55:03.1489970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:13.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:55:13.1628331+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:23.177 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:55:23.1749884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:33.187 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:55:33.1859999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:43.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:55:43.1996479+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:25:53.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:55:53.2173622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:03.222 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:56:03.2208346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:13.238 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T11:56:13.2361276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:23.245 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:56:23.2431054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:33.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:56:33.2470627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:43.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:56:43.2590246+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:26:53.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:56:53.2639051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:03.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:57:03.2740431+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:13.284 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:57:13.2828291+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:23.416 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T11:57:23.2963346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:33.434 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:57:33.4333378+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:43.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:57:43.4389676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:27:53.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:57:53.4528953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:03.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:03.4654443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:13.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:13.4694835+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:23.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:23.4770155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:33.484 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:33.4825669+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:43.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:43.4932977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:28:53.505 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:58:53.5042609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:03.519 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:03.5174609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:13.533 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:13.5317446+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:23.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:23.5486312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:33.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:33.5605536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:43.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:43.5712696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:29:53.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T11:59:53.5761998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:03.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:03.5838480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:13.593 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:13.5917490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:23.609 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:23.6082595+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:33.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:33.6202382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:43.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:43.6259270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:30:53.641 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:00:53.6393318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:03.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:03.6451228+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:13.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:13.6626872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:23.667 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:23.6661554+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:33.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:33.6754427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:43.682 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:43.6803011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:31:53.688 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:01:53.6869189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:03.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:02:03.6968044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:13.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:02:13.7026406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:23.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:02:23.7075089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:33.801 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:02:33.7992276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:43.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:02:43.8164771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:32:53.822 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:02:53.8205475+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:03.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:03:03.8244995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:13.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:03:13.8407491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:23.852 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:03:23.8509622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:33.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:03:33.8653450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:43.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:03:43.8754071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:33:53.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:03:53.8942123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:03.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:03.9122017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:13.925 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:13.9242944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:23.934 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:23.9325307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:33.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:33.9379455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:43.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:43.9480210+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:34:53.968 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:04:53.9666075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:03.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:03.9781509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:13.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:13.9938543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:24.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:24.0034469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:34.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:34.0213484+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:44.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:44.0316554+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:35:54.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:05:54.0415843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:04.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:04.0581499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:14.070 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:14.0688285+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:24.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:24.0836430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:34.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:34.0958909+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:44.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:44.1068500+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:36:54.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:06:54.1217020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:04.139 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:07:04.1379450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:14.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:07:14.1494887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:24.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:07:24.1578031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:34.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:07:34.2218345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:44.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:07:44.2340379+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:37:54.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:07:54.2536471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:04.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:04.2634429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:14.269 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:14.2674209+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:24.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:24.2710034+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:34.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:34.2881217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:44.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:44.2941815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:38:54.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:08:54.3074726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:04.314 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:09:04.3124808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:14.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:09:14.3300927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:24.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:09:24.3461302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:34.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:09:34.3617739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:44.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:09:44.3812346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:39:51.146 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:39:51.149 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.151 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.7861ms
2025-09-29 17:39:51.196 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:39:51.200 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.203 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.205 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:39:51.217 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:39:51.221 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:39:51.224 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.6105ms
2025-09-29 17:39:51.226 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.228 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.6141ms
2025-09-29 17:39:51.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:39:51.247 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.248 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.2567ms
2025-09-29 17:39:51.254 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:39:51.259 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.260 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.262 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:39:51.268 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:39:51.273 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:39:51.275 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.4128ms
2025-09-29 17:39:51.277 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.278 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.1999ms
2025-09-29 17:39:51.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 17:39:51.336 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:39:51.346 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.350 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 16.5826ms
2025-09-29 17:39:51.351 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:39:51.365 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 17:39:51.369 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:39:51.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 17:39:51.375 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:39:51.379 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 17:39:51.380 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:39:51.382 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.8242ms
2025-09-29 17:39:51.387 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 17:39:51.392 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 57.8755ms
2025-09-29 17:39:51.409 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:39:51.412 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:39:51.414 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 29.0727ms
2025-09-29 17:39:51.416 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:39:51.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 56.6397ms
2025-09-29 17:39:54.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:09:54.3899914+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:04.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:04.3945549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:14.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:14.4224952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:24.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:24.4376806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:34.472 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:34.4709887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:44.479 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:44.4780287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:40:54.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:10:54.4908097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:04.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:04.5045667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:14.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:14.5158670+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:24.531 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:24.5303131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:34.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:34.5417082+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:44.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:44.5488233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:41:54.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:11:54.5647103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:04.583 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:12:04.5811785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:14.589 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:12:14.5872837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:24.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:12:24.5961139+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:34.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:12:34.6696354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:44.690 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:12:44.6877387+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:42:54.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:12:54.6982721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:04.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:04.7128664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:14.721 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:14.7191258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:24.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:24.7303875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:34.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:34.7631320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:44.779 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:44.7774415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:43:54.797 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:13:54.7951712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:04.803 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:14:04.8018607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:14.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:14:14.8176801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:24.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:14:24.8357949+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:34.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:14:34.8454351+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:44.854 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:14:44.8521178+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:44:54.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:14:54.8719259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:04.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:04.8817933+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:14.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:14.8959804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:24.914 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:24.9131751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:34.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:34.9185908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:44.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:44.9282513+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:45:54.950 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:15:54.9481489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:04.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:04.9615458+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:14.989 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:14.9881721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:25.003 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:25.0017454+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:35.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:35.0074657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:35.905 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 17:46:35.918 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:35.919 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 204 null null 14.1373ms
2025-09-29 17:46:35.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 17:46:35.982 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:35.983 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:36.012 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:36.103 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 17:46:36.133 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 17:46:36.139 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 17:46:36.149 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 134.8131ms
2025-09-29 17:46:36.151 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:36.152 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 200 null application/json; charset=utf-8 176.1877ms
2025-09-29 17:46:36.367 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:36.372 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:36.373 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 204 null null 6.1305ms
2025-09-29 17:46:36.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:36.382 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:36.384 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:36.392 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:36.442 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 17:46:36.500 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:46:36.511 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:36.535 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 139.8212ms
2025-09-29 17:46:36.537 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:36.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 160.2885ms
2025-09-29 17:46:38.617 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:38.621 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:38.622 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.2971ms
2025-09-29 17:46:38.625 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:38.627 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:38.628 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:38.629 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:46:38.635 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:46:38.637 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:38.638 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.8041ms
2025-09-29 17:46:38.639 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:38.640 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.1143ms
2025-09-29 17:46:45.032 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:45.0301241+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:45.195 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 17:46:45.197 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:45.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 3.415ms
2025-09-29 17:46:45.212 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 17:46:45.214 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:45.215 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:45.216 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:45.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 17:46:45.227 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 17:46:45.228 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.1573ms
2025-09-29 17:46:45.230 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:45.232 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 20.0681ms
2025-09-29 17:46:45.665 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:45.668 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:45.668 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 2.9182ms
2025-09-29 17:46:45.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:45.673 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:45.674 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:45.675 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:45.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 17:46:45.682 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:46:45.684 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:45.685 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 8.7535ms
2025-09-29 17:46:45.685 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:45.686 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 15.4065ms
2025-09-29 17:46:48.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:48.041 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:48.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.3982ms
2025-09-29 17:46:48.044 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:48.047 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:48.048 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:48.049 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:46:48.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:46:48.057 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:48.058 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.0186ms
2025-09-29 17:46:48.059 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:48.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.9464ms
2025-09-29 17:46:52.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - null null
2025-09-29 17:46:52.431 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:52.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - 204 null null 3.2303ms
2025-09-29 17:46:52.450 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - null null
2025-09-29 17:46:52.453 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:52.454 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:52.456 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:52.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 17:46:52.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 17:46:52.464 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 6.5453ms
2025-09-29 17:46:52.465 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:46:52.466 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - 200 null application/json; charset=utf-8 16.1344ms
2025-09-29 17:46:52.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:52.919 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:52.919 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - 204 null null 2.9686ms
2025-09-29 17:46:52.939 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:46:52.941 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:52.942 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:52.943 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:46:52.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 17:46:52.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:46:52.952 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:52.953 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 9.0755ms
2025-09-29 17:46:52.954 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:46:52.955 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 15.8618ms
2025-09-29 17:46:55.050 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:16:55.0477564+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:46:55.883 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:55.885 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:55.886 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.2517ms
2025-09-29 17:46:55.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:46:55.895 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:46:55.896 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:55.897 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:46:55.901 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:46:55.904 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:46:55.905 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 6.7893ms
2025-09-29 17:46:55.906 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:46:55.908 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.0398ms
2025-09-29 17:47:05.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:17:05.0632414+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:47:06.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - null null
2025-09-29 17:47:06.762 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:06.763 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - 204 null null 3.641ms
2025-09-29 17:47:06.773 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - null null
2025-09-29 17:47:06.775 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:06.776 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:47:06.777 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:47:06.782 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 17:47:06.785 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 17:47:06.786 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 7.303ms
2025-09-29 17:47:06.787 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 17:47:06.789 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - 200 null application/json; charset=utf-8 15.3242ms
2025-09-29 17:47:07.230 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:47:07.233 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:07.234 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - 204 null null 3.4425ms
2025-09-29 17:47:07.237 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - null null
2025-09-29 17:47:07.239 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:07.240 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:47:07.241 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 17:47:07.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 17:47:07.254 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 17:47:07.258 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:47:07.260 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 17.1016ms
2025-09-29 17:47:07.261 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 17:47:07.262 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 25.7049ms
2025-09-29 17:47:09.628 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 17:47:09.630 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:09.631 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 204 null null 2.9702ms
2025-09-29 17:47:09.633 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 17:47:09.636 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:09.638 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 17:47:09.642 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 17:47:09.906 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__initialCampaignSendLogId_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 17:47:09.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 17:47:09.941 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__sentLog_Id_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 17:47:09.945 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 17:47:09.952 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 308.6077ms
2025-09-29 17:47:09.954 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 17:47:09.955 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 200 null application/json; charset=utf-8 321.4914ms
2025-09-29 17:47:11.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 17:47:11.072 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:11.073 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 17:47:11.074 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 17:47:11.079 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__initialCampaignSendLogId_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 17:47:11.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 17:47:11.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sentLog_Id_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 17:47:11.090 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 17:47:11.091 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 15.0098ms
2025-09-29 17:47:11.092 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 17:47:11.093 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 200 null application/json; charset=utf-8 22.8729ms
2025-09-29 17:47:15.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:17:15.0744994+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:47:25.146 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:17:25.0871013+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:47:35.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:17:35.1498472+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:47:45.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:17:45.1660031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:47:46.166 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:47:46.169 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:46.170 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.1982ms
2025-09-29 17:47:46.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 17:47:46.179 +05:30 [INF] CORS policy execution successful.
2025-09-29 17:47:46.182 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:47:46.184 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 17:47:46.194 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 17:47:46.197 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 17:47:46.199 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 11.4379ms
2025-09-29 17:47:46.201 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 17:47:46.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 28.4501ms
2025-09-29 17:47:55.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:17:55.1820211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:05.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:05.1970098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:15.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:15.2041004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:25.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:25.2116651+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:35.217 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:35.2158235+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:45.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:45.2301881+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:48:55.247 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:18:55.2457633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:05.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:05.2642437+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:15.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:15.2742824+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:25.282 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:25.2803524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:35.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:35.2930702+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:45.307 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:45.3050572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:49:55.326 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:19:55.3245965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:05.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:20:05.3438484+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:15.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:20:15.3549696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:25.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:20:25.3585058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:35.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:20:35.3626295+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:45.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:20:45.3754989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:50:55.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:20:55.3842381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:05.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:05.3921283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:15.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:15.4023183+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:25.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:25.4178044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:35.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:35.4270235+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:45.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:45.4472477+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:51:55.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:21:55.4597220+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:05.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:22:05.4663851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:15.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:22:15.4797515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:25.567 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:22:25.4980901+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:35.581 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:22:35.5800830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:45.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:22:45.5913313+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:52:55.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:22:55.5949280+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:05.624 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:05.6221275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:15.635 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:15.6342064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:25.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:25.6519528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:35.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:35.6701445+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:45.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:45.6754496+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:53:55.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:23:55.6935443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:05.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:05.7126665+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:15.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:15.7320192+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:25.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:25.7441760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:35.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:35.7762713+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:45.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:45.7925415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:54:55.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:24:55.8070486+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:05.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:05.8126884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:15.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:15.8174926+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:25.837 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:25.8356864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:35.857 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:35.8553080+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:45.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:45.8606321+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:55:55.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:25:55.8719910+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:05.887 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:05.8861833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:15.892 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:15.8906102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:25.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:25.9063747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:35.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:35.9201506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:45.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:45.9356066+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:56:55.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:26:55.9480428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:05.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:27:05.9551302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:15.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:27:15.9719886+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:26.045 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:27:25.9856624+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:36.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:27:36.0504053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:46.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:27:46.0602530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:57:56.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:27:56.0640429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:06.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:06.0828133+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:16.103 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:16.1013968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:26.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:26.1060541+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:36.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:36.1220633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:46.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:46.1366255+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:58:56.142 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:28:56.1403034+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:06.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:06.1489168+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:16.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:16.1596275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:26.168 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:26.1658557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:36.176 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:36.1744046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:46.194 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:46.1923849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 17:59:56.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:29:56.2018437+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:06.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:06.2162427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:16.236 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:16.2342014+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:26.094 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 18:00:26.097 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.098 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.6488ms
2025-09-29 18:00:26.101 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 18:00:26.104 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.105 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 18:00:26.106 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 18:00:26.119 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 18:00:26.128 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 18:00:26.139 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 18:00:26.154 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 18:00:26.160 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 18:00:26.167 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 18:00:26.168 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 18:00:26.170 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:26.171 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 63.3382ms
2025-09-29 18:00:26.172 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 18:00:26.173 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 72.3599ms
2025-09-29 18:00:26.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:26.179 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.179 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.7118ms
2025-09-29 18:00:26.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:26.184 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.185 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.186 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:26.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 18:00:26.197 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:26.198 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:26.200 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.0958ms
2025-09-29 18:00:26.200 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.201 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.7634ms
2025-09-29 18:00:26.211 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:26.214 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.215 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.7149ms
2025-09-29 18:00:26.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:26.229 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.230 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.231 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:26.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:26.238 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:26.239 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.7429ms
2025-09-29 18:00:26.241 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.7638ms
2025-09-29 18:00:26.249 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:26.2473959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:26.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:26.321 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:26.322 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.323 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:26.328 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:26.332 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:26.333 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.1658ms
2025-09-29 18:00:26.334 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:26.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.294ms
2025-09-29 18:00:31.311 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:00:31.316 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:31.317 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.784ms
2025-09-29 18:00:31.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:00:31.376 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:31.378 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:00:31.379 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:00:31.388 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:00:31.392 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:00:31.394 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.3727ms
2025-09-29 18:00:31.395 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:00:31.397 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 25.8542ms
2025-09-29 18:00:36.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:36.2523287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:46.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:46.2730264+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:00:52.472 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:52.475 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.476 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.5172ms
2025-09-29 18:00:52.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:52.483 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.485 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.486 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:52.492 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:52.496 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:52.498 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.8013ms
2025-09-29 18:00:52.499 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.181ms
2025-09-29 18:00:52.522 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:52.525 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.526 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.2616ms
2025-09-29 18:00:52.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:52.542 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.544 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.545 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:52.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:52.556 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:52.558 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.5652ms
2025-09-29 18:00:52.560 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.562 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.1465ms
2025-09-29 18:00:52.605 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:00:52.607 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:00:52.608 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.612 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.613 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 8.7725ms
2025-09-29 18:00:52.615 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.621 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:00:52.623 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:00:52.626 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:00:52.631 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:00:52.632 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:00:52.636 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:00:52.639 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:00:52.643 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.6877ms
2025-09-29 18:00:52.643 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:00:52.647 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:00:52.649 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:00:52.651 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 44.5239ms
2025-09-29 18:00:52.653 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.7538ms
2025-09-29 18:00:52.658 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:00:52.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 37.9535ms
2025-09-29 18:00:56.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:30:56.2846402+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:06.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:06.2909366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:16.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:16.3038693+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:26.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:26.3184197+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:31.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:01:31.042 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.043 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.3528ms
2025-09-29 18:01:31.046 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:01:31.049 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.050 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.051 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:01:31.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:01:31.058 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:01:31.059 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.9776ms
2025-09-29 18:01:31.061 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.062 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.0638ms
2025-09-29 18:01:31.090 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:01:31.093 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.094 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.1557ms
2025-09-29 18:01:31.098 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:01:31.100 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.101 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.103 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:01:31.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:01:31.110 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:01:31.112 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.3856ms
2025-09-29 18:01:31.113 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.115 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.0112ms
2025-09-29 18:01:31.158 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:01:31.158 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:01:31.161 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.164 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.164 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.2049ms
2025-09-29 18:01:31.165 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.168 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:01:31.169 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:01:31.171 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:01:31.175 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:01:31.177 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:01:31.180 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:01:31.182 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:01:31.185 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.2577ms
2025-09-29 18:01:31.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:01:31.189 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:01:31.192 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:01:31.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.9756ms
2025-09-29 18:01:31.194 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 10.247ms
2025-09-29 18:01:31.198 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:01:31.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 31.2933ms
2025-09-29 18:01:36.348 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:36.3284224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:46.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:46.3574487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:01:56.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:31:56.3757534+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:06.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:32:06.3868633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:16.395 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:32:16.3936370+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:26.466 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:32:26.4098825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:36.474 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:32:36.4709707+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:46.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:32:46.4789972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:02:56.498 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:32:56.4972233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:06.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:33:06.5011653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:16.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:33:16.5210950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:26.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:33:26.5319955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:36.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:33:36.5392585+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:46.553 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:33:46.5511242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:03:56.568 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:33:56.5653212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:06.589 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:06.5873125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:16.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:16.5952467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:26.608 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:26.6070843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:36.638 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:36.6361469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:46.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:46.6443382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:04:56.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:34:56.6476535+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:06.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:06.6628309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:16.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:16.6763922+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:26.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:26.6943985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:36.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:36.7071011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:46.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:46.7241946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:05:56.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:35:56.7337390+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:06.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:36:06.7485371+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:16.766 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:36:16.7641120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:26.786 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:36:26.7846098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:36.794 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:36:36.7921276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:46.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:36:46.8135228+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:06:56.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:36:56.8269844+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:06.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:37:06.8421699+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:14.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 18:07:14.666 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-29 18:07:14.675 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 18:07:14.679 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.691 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.696 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 204 null null 35.5825ms
2025-09-29 18:07:14.700 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 34.0839ms
2025-09-29 18:07:14.712 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-29 18:07:14.701 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 26.2579ms
2025-09-29 18:07:14.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-29 18:07:14.722 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.726 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 18:07:14.729 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.730 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 18:07:14.732 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.733 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 18:07:14.734 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:07:14.736 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 18:07:14.737 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-29 18:07:14.740 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 18:07:14.765 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-29 18:07:14.776 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-29 18:07:14.779 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 39.8482ms
2025-09-29 18:07:14.780 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 18:07:14.783 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 200 null application/json; charset=utf-8 70.7309ms
2025-09-29 18:07:14.840 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-29 18:07:14.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-29 18:07:14.847 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 104.2175ms
2025-09-29 18:07:14.848 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-29 18:07:14.850 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 130.4704ms
2025-09-29 18:07:14.868 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 18:07:14.880 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 18:07:14.888 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 18:07:14.893 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:07:14.895 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 146.7313ms
2025-09-29 18:07:14.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - null null
2025-09-29 18:07:14.897 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 18:07:14.901 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:14.903 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 176.7788ms
2025-09-29 18:07:14.904 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 18:07:14.910 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-29 18:07:14.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-29 18:07:14.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-29 18:07:14.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='url_tracking'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-29 18:07:14.932 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:07:14.934 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 20.7997ms
2025-09-29 18:07:14.937 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-29 18:07:14.940 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/77e1ec21-0d24-4156-b4e7-945590ebd431/csv-sample/schema - 200 null application/json; charset=utf-8 43.0586ms
2025-09-29 18:07:16.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:37:16.8498448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:17.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:07:17.835 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:17.836 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.8992ms
2025-09-29 18:07:17.839 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:07:17.841 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:17.841 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:07:17.842 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:07:17.850 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:07:17.852 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:07:17.853 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.1956ms
2025-09-29 18:07:17.854 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:07:17.855 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.5545ms
2025-09-29 18:07:19.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:07:19.700 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:07:19.701 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:07:19.702 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:07:19.708 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:07:19.711 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:07:19.713 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.6873ms
2025-09-29 18:07:19.714 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:07:19.716 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 18.5852ms
2025-09-29 18:07:26.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:37:26.8605096+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:36.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:37:36.8668858+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:46.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:37:46.9005606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:07:56.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:37:56.9212478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:06.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:06.9401322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:16.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:16.9512013+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:26.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:26.9703369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:36.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:36.9868092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:47.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:47.0031124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:08:57.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:38:57.0092941+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:07.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:07.0476818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:17.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:17.0569393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:27.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:27.0628633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:37.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:37.0824615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:47.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:47.0946354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:09:57.109 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:39:57.1071782+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:07.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:40:07.1254037+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:17.142 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:40:17.1407926+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:27.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:40:27.1593191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:37.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:40:37.1643029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:47.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:40:47.1799188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:10:57.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:40:57.1881014+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:07.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:07.2041070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:17.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:17.2106593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:27.247 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:27.2455332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:37.261 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:37.2595876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:47.277 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:47.2755220+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:11:57.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:41:57.2947925+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:07.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:42:07.3034898+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:17.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:42:17.3151919+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:27.397 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:42:27.3217040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:37.403 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:42:37.4014931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:47.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:42:47.4192305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:12:57.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:42:57.4445431+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:07.455 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:43:07.4533356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:17.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:43:17.4676543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:27.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:43:27.4806802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:37.505 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:43:37.5036790+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:47.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:43:47.5152151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:13:50.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:50.546 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:50.547 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.501ms
2025-09-29 18:13:50.549 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:50.551 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:50.552 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:50.553 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:50.560 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:50.562 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:50.563 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.6913ms
2025-09-29 18:13:50.565 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:50.566 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.619ms
2025-09-29 18:13:51.233 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:51.236 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:51.237 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.238 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:51.242 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:51.246 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:51.247 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.1778ms
2025-09-29 18:13:51.248 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.0767ms
2025-09-29 18:13:51.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:51.575 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:51.576 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.577 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:51.580 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:51.583 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:51.585 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 6.543ms
2025-09-29 18:13:51.586 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 14.666ms
2025-09-29 18:13:51.857 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:51.859 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:51.860 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.861 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:51.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:51.867 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:51.869 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 6.3858ms
2025-09-29 18:13:51.870 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:51.871 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 13.8275ms
2025-09-29 18:13:52.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:52.158 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:52.159 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:52.160 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:52.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:52.168 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:52.170 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.565ms
2025-09-29 18:13:52.171 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:52.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.0684ms
2025-09-29 18:13:52.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:52.492 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:52.494 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:52.495 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:52.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:52.506 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:52.508 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 9.9945ms
2025-09-29 18:13:52.510 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:52.511 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 23.4155ms
2025-09-29 18:13:53.050 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:53.053 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:53.054 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:53.054 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:53.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:53.061 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:53.062 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 6.0019ms
2025-09-29 18:13:53.063 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:53.064 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 13.3663ms
2025-09-29 18:13:53.550 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:53.554 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:53.555 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:53.556 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:53.560 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:53.565 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:53.566 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 8.5757ms
2025-09-29 18:13:53.568 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:53.570 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 19.57ms
2025-09-29 18:13:54.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create - null null
2025-09-29 18:13:54.531 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:54.532 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/create - 204 null null 3.4597ms
2025-09-29 18:13:54.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/create - null null
2025-09-29 18:13:54.540 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:54.542 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 18:13:54.543 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:54.598 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:13:54.677 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 132.6072ms
2025-09-29 18:13:54.679 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-29 18:13:54.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/create - 400 null application/problem+json; charset=utf-8 142.4427ms
2025-09-29 18:13:56.291 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:56.294 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:56.295 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.9495ms
2025-09-29 18:13:56.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:13:56.302 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:13:56.302 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:56.303 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:13:56.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:13:56.311 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:13:56.312 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.6491ms
2025-09-29 18:13:56.313 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:13:56.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.4734ms
2025-09-29 18:13:57.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:43:57.5236900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:07.542 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:07.5409628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:11.306 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:14:11.309 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:11.310 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6202ms
2025-09-29 18:14:11.313 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:14:11.315 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:11.316 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.317 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:14:11.323 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:14:11.327 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:14:11.328 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.0796ms
2025-09-29 18:14:11.330 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.331 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.9241ms
2025-09-29 18:14:11.383 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:14:11.387 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:11.389 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9226ms
2025-09-29 18:14:11.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:14:11.404 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:11.406 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.408 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:14:11.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:14:11.419 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:14:11.421 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.8413ms
2025-09-29 18:14:11.423 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.424 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.0899ms
2025-09-29 18:14:11.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 18:14:11.495 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:11.496 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.497 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 18:14:11.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 18:14:11.508 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 18:14:11.510 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.5397ms
2025-09-29 18:14:11.512 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 18:14:11.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.6023ms
2025-09-29 18:14:17.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:17.5565382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:18.534 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:14:18.537 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:18.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 3.4481ms
2025-09-29 18:14:18.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:14:18.547 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:18.548 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:14:18.549 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:14:18.553 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:14:18.557 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:14:18.558 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 7.1424ms
2025-09-29 18:14:18.559 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:14:18.560 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 15.8818ms
2025-09-29 18:14:26.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:14:26.780 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:26.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.1361ms
2025-09-29 18:14:26.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 18:14:26.787 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:26.787 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:14:26.788 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 18:14:26.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 18:14:26.797 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 18:14:26.798 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 8.0022ms
2025-09-29 18:14:26.799 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 18:14:26.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 16.2091ms
2025-09-29 18:14:27.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:27.5603990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:37.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:37.5753832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:47.089 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:14:47.092 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:47.095 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 5.3458ms
2025-09-29 18:14:47.103 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:14:47.106 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:47.106 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:14:47.107 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:14:47.110 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:14:47.111 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 1.8671ms
2025-09-29 18:14:47.112 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:14:47.113 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 9.6466ms
2025-09-29 18:14:47.560 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:14:47.562 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:47.563 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.3787ms
2025-09-29 18:14:47.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:14:47.568 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:14:47.570 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:14:47.572 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:14:47.576 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:14:47.577 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 3.7869ms
2025-09-29 18:14:47.578 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:14:47.579 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 13.5337ms
2025-09-29 18:14:47.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:47.5843487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:14:57.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:44:57.5937409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:07.609 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:07.6074970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:17.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:17.6145376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:27.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:27.6273961+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:37.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:37.6408389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:47.650 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:47.6485995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:15:49.426 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:15:49.430 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:15:49.431 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 4.8237ms
2025-09-29 18:15:49.459 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:15:49.463 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:15:49.464 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:15:49.466 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:15:49.471 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:15:49.473 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 3.7662ms
2025-09-29 18:15:49.475 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:15:49.476 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 17.2448ms
2025-09-29 18:15:49.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:15:49.875 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:15:49.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.4391ms
2025-09-29 18:15:49.879 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:15:49.881 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:15:49.882 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:15:49.883 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:15:49.885 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:15:49.886 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 2.4442ms
2025-09-29 18:15:49.887 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:15:49.888 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 9.788ms
2025-09-29 18:15:57.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:45:57.6612912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:06.756 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 18:16:06.771 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.3885ms
2025-09-29 18:16:07.040 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 18:16:07.282 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 242.0926ms
2025-09-29 18:16:07.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:07.6758480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:17.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:17.6938476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:27.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:27.7101861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:37.721 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:37.7201416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:47.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:47.7460081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:16:57.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:46:57.7566085+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:07.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:47:07.7664632+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:17.790 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:47:17.7877724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:27.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:47:27.7975465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:37.857 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:47:37.8545794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:47.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:47:47.8623738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:17:57.876 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:47:57.8734017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:07.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:48:07.8809747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:17.892 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T12:48:17.8894555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:27.898 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:48:27.8968924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:37.910 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:48:37.9086161+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:47.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:48:47.9148958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:18:57.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:48:57.9241634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:07.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:07.9479902+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:17.959 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:17.9575490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:27.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:27.9632097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:37.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:37.9764715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:47.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:47.9842425+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:19:57.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:49:57.9931365+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:08.003 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:08.0017874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:18.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:18.0112286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:28.020 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:28.0178655+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:38.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:38.0241770+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:48.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:48.0514991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:58.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T12:50:58.0596631+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 18:20:59.614 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:20:59.617 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:20:59.618 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 3.8839ms
2025-09-29 18:20:59.621 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 18:20:59.623 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:20:59.624 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:20:59.625 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:20:59.627 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:20:59.628 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 2.1205ms
2025-09-29 18:20:59.629 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 18:20:59.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 9.8117ms
2025-09-29 18:21:00.095 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:21:00.097 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:21:00.098 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 3.7459ms
2025-09-29 18:21:00.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 18:21:00.103 +05:30 [INF] CORS policy execution successful.
2025-09-29 18:21:00.103 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:21:00.104 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 18:21:00.106 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 18:21:00.108 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 2.2764ms
2025-09-29 18:21:00.109 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 18:21:00.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 9.4259ms
2025-09-29 19:14:28.739 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 19:14:28.812 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 19:14:28.834 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 19:14:29.998 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 19:14:30.755 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 19:14:30.774 +05:30 [INF] ClickLogWorker started
2025-09-29 19:14:31.021 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 19:14:31.051 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__cutoff_0='2025-09-22T13:44:28.9992292Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 19:14:31.059 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 19:14:31.060 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 19:14:31.061 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 19:14:31.062 +05:30 [INF] Hosting environment: Development
2025-09-29 19:14:31.063 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 19:14:31.844 +05:30 [INF] ClickLogWorker stopped
2025-09-29 19:14:32.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 19:14:32.771 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 284.3878ms
2025-09-29 19:14:32.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 19:14:32.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.6773ms
2025-09-29 19:14:32.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 19:14:32.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9585ms
2025-09-29 19:14:33.073 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 19:14:33.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 308.7004ms
2025-09-29 19:14:35.899 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='2025-09-29T13:44:35.7959846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:14:40.853 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 19:14:40.914 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 19:14:40.952 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 19:14:40.959 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-29 19:14:40.963 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:48.3531710Z"
2025-09-29 19:14:40.977 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 19:14:40.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 19:14:41.024 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 19:14:41.028 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 19:14:41.548 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 19:14:41.555 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 19:14:41.626 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:41.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 82.389ms
2025-09-29 19:14:41.636 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 19:14:41.651 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:41.723 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 19:14:41.755 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 19:14:41.812 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 19:14:41.909 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 19:14:42.065 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 19:14:42.166 +05:30 [INF] Received HTTP response headers after 1132.7541ms - 401
2025-09-29 19:14:42.169 +05:30 [INF] End processing HTTP request after 1150.4298ms - 401
2025-09-29 19:14:42.183 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 19:14:42.253 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 19:14:42.270 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 19:14:42.289 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T13:44:40.9816897Z"
2025-09-29 19:14:42.293 +05:30 [INF] TemplateSyncWorker: sweep finished in 1502 ms; processed=2; next run ~"2025-09-29T19:44:40.7913293Z"
2025-09-29 19:14:42.367 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 19:14:42.370 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 19:14:42.386 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:42.399 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 635.7044ms
2025-09-29 19:14:42.401 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 19:14:42.410 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 774.3516ms
2025-09-29 19:14:42.416 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:42.422 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:42.426 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.5842ms
2025-09-29 19:14:42.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:42.449 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:42.503 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.510 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:42.527 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 19:14:42.565 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:42.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:42.587 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 74.2174ms
2025-09-29 19:14:42.590 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.592 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 148.5436ms
2025-09-29 19:14:42.616 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:42.621 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:42.623 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.197ms
2025-09-29 19:14:42.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:42.634 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:42.643 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.646 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:42.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:42.662 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:42.665 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.2796ms
2025-09-29 19:14:42.667 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.6198ms
2025-09-29 19:14:42.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:42.739 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:42.743 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.745 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:42.755 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:42.761 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:42.763 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.9299ms
2025-09-29 19:14:42.765 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:42.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.4609ms
2025-09-29 19:14:45.932 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:44:45.9078815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:14:55.581 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:55.588 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:55.591 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 10.0165ms
2025-09-29 19:14:55.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:55.601 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:55.604 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.611 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:55.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:55.627 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:55.631 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 16.0311ms
2025-09-29 19:14:55.633 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.635 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 39.0976ms
2025-09-29 19:14:55.658 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:55.663 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:55.665 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.4322ms
2025-09-29 19:14:55.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:55.681 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:55.684 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.686 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:55.695 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:55.701 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:55.704 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.765ms
2025-09-29 19:14:55.706 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.709 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 32.5994ms
2025-09-29 19:14:55.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:14:55.763 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:14:55.765 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.767 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:14:55.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:14:55.781 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:14:55.784 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.9993ms
2025-09-29 19:14:55.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:14:55.789 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.0674ms
2025-09-29 19:14:55.943 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:44:55.9398590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:05.958 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T13:45:05.9522829+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:15.978 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:45:15.9751930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:25.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:45:25.9920189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:29.460 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:15:29.466 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:15:29.468 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 8.08ms
2025-09-29 19:15:29.473 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:15:29.477 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:15:29.479 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.481 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:15:29.493 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:15:29.499 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:15:29.502 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.3217ms
2025-09-29 19:15:29.504 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.506 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.13ms
2025-09-29 19:15:29.537 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:15:29.541 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:15:29.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9271ms
2025-09-29 19:15:29.548 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:15:29.552 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:15:29.554 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.556 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:15:29.563 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:15:29.569 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:15:29.571 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.6802ms
2025-09-29 19:15:29.573 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.576 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.6031ms
2025-09-29 19:15:29.616 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:15:29.621 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:15:29.623 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.626 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:15:29.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:15:29.640 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:15:29.643 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.4013ms
2025-09-29 19:15:29.646 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:15:29.649 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.081ms
2025-09-29 19:15:36.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:45:36.0057427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:46.014 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:45:46.0112875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:15:56.027 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:45:56.0247253+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:06.040 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:46:06.0376536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:16.051 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:46:16.0472921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:26.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:46:26.0561051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:36.070 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:46:36.0672011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:46.088 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:46:46.0844079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:16:56.099 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:46:56.0954615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:06.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:47:06.1102980+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:16.123 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:47:16.1195947+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:26.146 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:47:26.1427505+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:36.157 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:47:36.1533904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:46.172 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:47:46.1676941+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:17:56.184 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:47:56.1808089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:06.203 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:48:06.2007201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:16.222 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:48:16.2192866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:26.240 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:48:26.2376504+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:36.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:48:36.2499161+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:46.270 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:48:46.2672676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:18:56.287 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:48:56.2823091+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:06.315 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:49:06.3115543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:16.327 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:49:16.3245660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:26.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:49:26.3444463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:36.459 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:49:36.3582697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:46.480 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:49:46.4685840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:19:56.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:49:56.4835597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:06.497 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:50:06.4941057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:16.505 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:50:16.5022155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:26.513 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:50:26.5095846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:36.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:50:36.5199050+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:46.529 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:50:46.5268616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:20:56.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:50:56.5334437+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:06.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:51:06.5405064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:16.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:51:16.5499591+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:26.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:51:26.5574849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:36.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:51:36.5692174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:46.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:51:46.5786377+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:21:56.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:51:56.6015445+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:06.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:52:06.6181853+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:16.635 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:52:16.6318874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:26.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:52:26.6512981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:36.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:52:36.6568286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:46.675 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:52:46.6729930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:22:56.682 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:52:56.6793822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:06.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:53:06.6945135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:16.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:53:16.7036242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:26.715 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:53:26.7117455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:27.335 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:23:27.340 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:23:27.341 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.3382ms
2025-09-29 19:23:27.347 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:23:27.352 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:23:27.353 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.355 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:23:27.362 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:23:27.373 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:23:27.375 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 18.6883ms
2025-09-29 19:23:27.382 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.1566ms
2025-09-29 19:23:27.464 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:23:27.470 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:23:27.471 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.7482ms
2025-09-29 19:23:27.477 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:23:27.482 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:23:27.484 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.485 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:23:27.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:23:27.497 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:23:27.499 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.9044ms
2025-09-29 19:23:27.501 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.7993ms
2025-09-29 19:23:27.556 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:23:27.561 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:23:27.563 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.566 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:23:27.572 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:23:27.578 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:23:27.580 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.1964ms
2025-09-29 19:23:27.583 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:23:27.584 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 28.3727ms
2025-09-29 19:23:36.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:53:36.7304529+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:46.740 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:53:46.7387424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:23:56.754 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:53:56.7519383+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:06.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:54:06.7701688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:16.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:54:16.7805254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:26.797 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:54:26.7939382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:36.914 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T13:54:36.8134698+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:46.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T13:54:46.9274568+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:24:56.940 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:54:56.9375794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:25:06.946 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T13:55:06.9440323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:41:22.757 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 19:41:22.803 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-29 19:41:22.825 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-29 19:41:23.800 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-29 19:41:24.493 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 19:41:24.522 +05:30 [INF] ClickLogWorker started
2025-09-29 19:41:24.708 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-29 19:41:24.751 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__cutoff_0='2025-09-22T14:11:22.9296477Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-29 19:41:24.754 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-29 19:41:24.755 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-29 19:41:24.756 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 19:41:24.757 +05:30 [INF] Hosting environment: Development
2025-09-29 19:41:24.758 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-29 19:41:25.609 +05:30 [INF] ClickLogWorker stopped
2025-09-29 19:41:26.451 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-29 19:41:26.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 262.7907ms
2025-09-29 19:41:26.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 19:41:26.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.5088ms
2025-09-29 19:41:26.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-29 19:41:26.861 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.7047ms
2025-09-29 19:41:27.060 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-29 19:41:27.435 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 374.8645ms
2025-09-29 19:41:29.635 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='2025-09-29T14:11:29.5379771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:41:33.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:33.882 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 19:41:33.949 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:33.953 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 81.3907ms
2025-09-29 19:41:33.959 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:33.978 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:34.185 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.207 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:34.315 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 19:41:34.396 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:34.409 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:34.435 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 221.1416ms
2025-09-29 19:41:34.437 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.445 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 485.3191ms
2025-09-29 19:41:34.450 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:34.454 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:34.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.6469ms
2025-09-29 19:41:34.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:34.466 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:34.472 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.475 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:34.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:34.494 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:34.497 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 19.3874ms
2025-09-29 19:41:34.499 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 40.3423ms
2025-09-29 19:41:34.559 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:34.563 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:34.569 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.572 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:34.576 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-29 19:41:34.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:34.587 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:34.589 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.9482ms
2025-09-29 19:41:34.591 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:34.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.4576ms
2025-09-29 19:41:34.618 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 19:41:34.642 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 19:41:34.648 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-29 19:41:34.650 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-29T02:49:48.3531710Z"
2025-09-29 19:41:34.662 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-29 19:41:34.669 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-29 19:41:34.700 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 19:41:34.703 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-29 19:41:35.908 +05:30 [INF] Received HTTP response headers after 1199.1357ms - 401
2025-09-29 19:41:35.911 +05:30 [INF] End processing HTTP request after 1212.3773ms - 401
2025-09-29 19:41:35.942 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-29 19:41:36.029 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-29T14:11:34.6661270Z"
2025-09-29 19:41:36.033 +05:30 [INF] TemplateSyncWorker: sweep finished in 1485 ms; processed=2; next run ~"2025-09-29T20:11:34.5475385Z"
2025-09-29 19:41:39.658 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:11:39.6537917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:41:48.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:48.278 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:48.279 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.3463ms
2025-09-29 19:41:48.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:48.288 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:48.290 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.291 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:48.299 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:48.306 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:48.308 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.3251ms
2025-09-29 19:41:48.314 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.320 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.0159ms
2025-09-29 19:41:48.343 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:48.355 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:48.358 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 14.6228ms
2025-09-29 19:41:48.374 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:48.380 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:48.382 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.385 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:48.394 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:48.401 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:48.403 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.3368ms
2025-09-29 19:41:48.406 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.1882ms
2025-09-29 19:41:48.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:41:48.451 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:41:48.453 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.456 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:41:48.464 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:41:48.471 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:41:48.474 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.2418ms
2025-09-29 19:41:48.477 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:41:48.482 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.7323ms
2025-09-29 19:41:49.666 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:11:49.6622320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:41:59.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:11:59.6711161+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:09.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:42:09.601 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:42:09.603 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.8631ms
2025-09-29 19:42:09.608 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:42:09.611 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:42:09.615 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.617 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:42:09.628 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:42:09.633 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:42:09.636 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 16.612ms
2025-09-29 19:42:09.639 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.641 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.2472ms
2025-09-29 19:42:09.702 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:12:09.6944518+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:09.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:42:09.774 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:42:09.776 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9088ms
2025-09-29 19:42:09.804 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:42:09.809 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:42:09.811 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.814 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:42:09.823 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:42:09.829 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:42:09.832 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.3515ms
2025-09-29 19:42:09.834 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 32.4507ms
2025-09-29 19:42:09.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:42:09.915 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:42:09.917 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.919 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:42:09.927 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:42:09.933 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:42:09.935 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.4565ms
2025-09-29 19:42:09.937 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:42:09.939 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.662ms
2025-09-29 19:42:19.711 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:12:19.7079213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:29.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:12:29.7124499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:39.725 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:12:39.7217918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:49.744 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='2025-09-29T14:12:49.7330547+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:42:59.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:12:59.7626083+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:09.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:13:09.7750188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:19.786 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:13:19.7831515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:29.802 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:13:29.7988049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:39.822 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:13:39.8185282+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:49.831 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:13:49.8273413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:43:59.839 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:13:59.8364969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:09.842 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:14:09.8381218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:19.854 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:14:19.8486960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:29.889 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__now_0='2025-09-29T14:14:29.8770170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:39.913 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:14:39.9094208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:49.920 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:14:49.9169023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:44:59.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:14:59.9346322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:45:09.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:15:09.9507857+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:45:19.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:15:19.9619019+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:45:29.985 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:15:29.9818950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:45:40.001 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:15:39.9981975+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:45:50.009 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:15:50.0062828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:00.026 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:16:00.0236051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:10.045 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:16:10.0427129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:20.051 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:16:20.0488659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:30.175 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-29T14:16:30.0693574+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:40.199 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:16:40.1962874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:50.227 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:16:50.2241908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:46:55.496 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:46:55.501 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:46:55.503 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.9036ms
2025-09-29 19:46:55.518 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:46:55.522 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:46:55.524 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.525 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:46:55.532 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:46:55.538 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:46:55.540 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.1975ms
2025-09-29 19:46:55.543 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.545 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.3601ms
2025-09-29 19:46:55.660 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:46:55.664 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:46:55.666 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.6552ms
2025-09-29 19:46:55.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:46:55.684 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:46:55.686 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.688 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:46:55.695 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:46:55.700 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:46:55.703 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.2705ms
2025-09-29 19:46:55.704 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.706 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.5412ms
2025-09-29 19:46:55.788 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:46:55.792 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:46:55.794 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.797 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:46:55.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:46:55.811 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:46:55.813 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.0965ms
2025-09-29 19:46:55.815 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:46:55.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 30.1583ms
2025-09-29 19:47:00.235 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:17:00.2312279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:47:10.255 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:17:10.2520068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:47:22.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:17:22.6152900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:47:32.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:17:32.6258751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:47:42.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:17:42.6441472+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:47:52.671 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:17:52.6679098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:02.689 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:18:02.6858258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:12.699 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:18:12.6949980+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:21.561 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:48:21.566 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:48:21.568 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.4801ms
2025-09-29 19:48:21.574 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:48:21.578 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:48:21.580 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.581 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:48:21.587 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:48:21.593 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:48:21.596 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.8286ms
2025-09-29 19:48:21.599 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.600 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.8453ms
2025-09-29 19:48:21.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:48:21.763 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:48:21.765 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.1647ms
2025-09-29 19:48:21.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:48:21.781 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:48:21.783 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.784 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:48:21.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:48:21.798 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:48:21.801 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.486ms
2025-09-29 19:48:21.807 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.822 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 45.183ms
2025-09-29 19:48:21.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:48:21.905 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:48:21.907 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.909 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:48:21.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:48:21.923 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:48:21.925 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.2297ms
2025-09-29 19:48:21.930 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:48:21.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 41.2869ms
2025-09-29 19:48:22.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:18:22.7130419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:32.730 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:18:32.7281285+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:42.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:18:42.7334191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:48:52.743 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:18:52.7403196+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:02.772 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:19:02.7693760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:12.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:19:12.7796848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:22.796 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:19:22.7938306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:32.802 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:19:32.7991739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:42.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:19:42.8152981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:49:52.252 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:49:52.256 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:49:52.258 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.0061ms
2025-09-29 19:49:52.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:49:52.266 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:49:52.268 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.270 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:49:52.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:49:52.283 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:49:52.285 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.4106ms
2025-09-29 19:49:52.288 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.290 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.4741ms
2025-09-29 19:49:52.375 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:49:52.387 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:49:52.388 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 13.7424ms
2025-09-29 19:49:52.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:49:52.403 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:49:52.405 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.407 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:49:52.412 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:49:52.418 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:49:52.420 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.2613ms
2025-09-29 19:49:52.422 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.424 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.1822ms
2025-09-29 19:49:52.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:49:52.481 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:49:52.484 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.485 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:49:52.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:49:52.495 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:49:52.498 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.5203ms
2025-09-29 19:49:52.500 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:49:52.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.897ms
2025-09-29 19:49:52.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:19:52.8288227+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:02.845 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:20:02.8429970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:12.859 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:20:12.8571593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:22.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:20:22.8650381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:32.881 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:20:32.8780988+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:42.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:20:42.8934831+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:50:52.898 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:20:52.8956676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:02.751 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:51:02.756 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:02.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.621ms
2025-09-29 19:51:02.763 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:51:02.767 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:02.769 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:02.770 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:51:02.776 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:51:02.782 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:51:02.785 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.1322ms
2025-09-29 19:51:02.787 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:02.790 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.7579ms
2025-09-29 19:51:02.815 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:51:02.820 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:02.822 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.1085ms
2025-09-29 19:51:02.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:51:02.836 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:02.838 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:02.839 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:51:02.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:51:02.851 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:51:02.853 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.4048ms
2025-09-29 19:51:02.855 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:02.857 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.5159ms
2025-09-29 19:51:02.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 19:51:02.908 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:02.912 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:02.917 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 19:51:02.918 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:21:02.9149761+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:03.017 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 19:51:03.021 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 19:51:03.023 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 100.9213ms
2025-09-29 19:51:03.026 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 19:51:03.028 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 124.9793ms
2025-09-29 19:51:05.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 19:51:05.175 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:05.176 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 6.2872ms
2025-09-29 19:51:05.181 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 19:51:05.186 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:05.188 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:05.217 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:05.455 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 19:51:05.498 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 19:51:05.504 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:05.522 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 301.6888ms
2025-09-29 19:51:05.524 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:05.525 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 344.044ms
2025-09-29 19:51:11.952 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 19:51:11.956 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:11.958 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.7329ms
2025-09-29 19:51:11.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 157
2025-09-29 19:51:11.986 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:11.988 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:11.990 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:12.120 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 19:51:12.136 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 19:51:12.140 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:12.142 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 149.4622ms
2025-09-29 19:51:12.144 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:12.146 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 165.9475ms
2025-09-29 19:51:12.938 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:21:12.9358414+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:13.156 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 177
2025-09-29 19:51:13.160 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:13.162 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:13.164 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:13.184 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
2025-09-29 19:51:13.198 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object), @__p_6='25', @__p_5='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_6 OFFSET @__p_5
2025-09-29 19:51:13.202 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:13.204 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 35.7358ms
2025-09-29 19:51:13.206 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:13.207 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 51.1196ms
2025-09-29 19:51:14.165 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 179
2025-09-29 19:51:14.169 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:14.171 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:14.173 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:14.180 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
2025-09-29 19:51:14.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object), @__p_6='25', @__p_5='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_6 OFFSET @__p_5
2025-09-29 19:51:14.191 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:14.192 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.9929ms
2025-09-29 19:51:14.195 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:14.197 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 31.8021ms
2025-09-29 19:51:15.195 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 203
2025-09-29 19:51:15.206 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:15.211 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:15.217 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:15.225 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
2025-09-29 19:51:15.232 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object), @__p_6='25', @__p_5='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_6 OFFSET @__p_5
2025-09-29 19:51:15.236 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:15.238 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.6149ms
2025-09-29 19:51:15.241 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:15.243 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 48.2759ms
2025-09-29 19:51:18.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 19:51:18.433 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:18.434 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.4711ms
2025-09-29 19:51:18.439 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 201
2025-09-29 19:51:18.443 +05:30 [INF] CORS policy execution successful.
2025-09-29 19:51:18.445 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:18.446 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 19:51:18.455 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
2025-09-29 19:51:18.462 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:21:04.8510000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__chans_4={ 'META_CLOUD' } (DbType = Object), @__p_6='25', @__p_5='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3) AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_4) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_4, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_6 OFFSET @__p_5
2025-09-29 19:51:18.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 19:51:18.469 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 19.5767ms
2025-09-29 19:51:18.471 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 19:51:18.473 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 34.2376ms
2025-09-29 19:51:22.954 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:21:22.9514567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:32.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:21:32.9588815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:42.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:21:42.9764744+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:51:52.988 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:21:52.9857636+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:02.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:22:02.9937101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:13.011 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:22:13.0077249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:23.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:22:23.0140312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:33.033 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:22:33.0294283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:43.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:22:43.0509392+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:52:53.072 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:22:53.0691293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:03.088 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:23:03.0856581+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:13.107 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:23:13.1044174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:23.122 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:23:23.1200351+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:33.132 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:23:33.1296182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:43.145 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:23:43.1431706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:53:53.164 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:23:53.1618966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:03.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:03.1695595+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:13.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:13.1763811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:23.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:23.1903783+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:33.207 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:33.2057574+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:43.217 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:43.2155828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:54:53.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:24:53.2386364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:03.248 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:25:03.2458393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:13.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:25:13.2624785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:23.274 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:25:23.2708324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:33.300 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:25:33.2981668+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:43.318 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:25:43.3161825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:55:53.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:25:53.3281370+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:03.337 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:26:03.3351098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:13.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:26:13.3506369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:23.368 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:26:23.3651918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:33.475 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T14:26:33.3773036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:43.489 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:26:43.4864759+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:56:53.503 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:26:53.5006340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:03.531 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:27:03.5288212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:13.548 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:27:13.5465135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:23.552 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:27:23.5491375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:33.560 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:27:33.5581870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:43.576 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:27:43.5730854+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:57:53.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:27:53.5919081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:03.619 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:03.6167079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:13.627 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:13.6247061+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:23.634 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:23.6309319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:33.643 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:33.6403026+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:43.654 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:43.6522257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:58:53.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:28:53.6613333+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:03.676 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:29:03.6737877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:13.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:29:13.6938697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:23.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:29:23.7050053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:33.726 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:29:33.7231452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:43.729 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:29:43.7258732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 19:59:53.742 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:29:53.7395764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:03.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:30:03.7501213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:13.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:30:13.7632692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:23.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:30:23.7755159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:33.792 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:30:33.7897190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:43.799 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:30:43.7964568+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:00:53.810 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:30:53.8074946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:03.829 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T14:31:03.8235990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:13.858 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:31:13.8554990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:23.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:31:23.8681861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:33.969 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T14:31:33.8749229+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:43.980 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:31:43.9776591+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:01:53.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:31:53.9927668+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:04.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:32:04.0026226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:14.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:32:14.0128400+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:24.024 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:32:24.0213275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:34.042 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:32:34.0397821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:44.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:32:44.0526409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:02:54.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:32:54.0584755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:04.067 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:33:04.0644333+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:14.083 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:33:14.0807270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:24.093 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:33:24.0905492+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:34.099 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:33:34.0964180+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:44.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:33:44.1061927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:03:54.122 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:33:54.1197598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:04.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:34:04.1317920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:14.150 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:34:14.1481686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:24.164 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:34:24.1610766+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:34.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:34:34.1817148+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:44.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:34:44.1876674+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:04:54.209 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:34:54.2067367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:04.225 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:35:04.2226309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:14.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:35:14.2308375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:24.241 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:35:24.2384098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:34.261 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:35:34.2582540+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:44.281 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:35:44.2781426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:05:54.301 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:35:54.2985474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:04.307 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:36:04.3053672+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:14.321 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:36:14.3189176+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:24.337 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:36:24.3342419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:34.448 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T14:36:34.3454966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:44.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:36:44.4574911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:06:54.474 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:36:54.4716199+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:04.485 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:37:04.4824243+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:14.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:37:14.5042490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:24.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:37:24.5155725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:34.535 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:37:34.5309877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:44.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:37:44.5510833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:07:54.569 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:37:54.5660572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:04.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:04.5913973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:14.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:14.6005748+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:24.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:24.6114815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:34.634 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:34.6309693+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:44.648 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:44.6460751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:08:54.659 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:38:54.6568408+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:04.676 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:39:04.6735369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:14.682 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:39:14.6788526+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:24.698 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:39:24.6953015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:34.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:39:34.7071473+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:44.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:39:44.7155148+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:09:54.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:39:54.7344083+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:04.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:40:04.7540565+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:14.768 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:40:14.7661126+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:24.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:40:24.7743649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:34.793 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:40:34.7903397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:44.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:40:44.7910424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:10:54.803 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:40:54.8013450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:04.826 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:41:04.8236243+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:14.843 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:41:14.8408206+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:24.853 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:41:24.8504159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:34.973 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:41:34.8781752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:44.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:41:44.9786762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:11:54.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:41:54.9896892+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:05.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:42:05.0058810+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:15.018 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:42:15.0159107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:25.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:42:25.0310405+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:35.048 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:42:35.0454831+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:45.069 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:42:45.0658293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:12:55.077 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:42:55.0745910+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:05.089 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-29T14:43:05.0790525+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:15.103 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:43:15.0987455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:25.125 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:43:25.1227935+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:35.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:43:35.1389261+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:45.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:43:45.1580039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:13:55.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:43:55.1686237+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:05.180 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:05.1772088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:15.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:15.1932661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:25.218 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:25.2158921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:35.228 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:35.2255884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:45.239 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:45.2366269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:55.258 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:44:55.2556593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:14:56.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:14:56.655 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:14:56.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 9.8406ms
2025-09-29 20:14:56.667 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 198
2025-09-29 20:14:56.673 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:14:56.682 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 02:44:42 PM', Current time (UTC): '29-09-2025 02:44:56 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 20:14:56.750 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 02:44:42 PM', Current time (UTC): '29-09-2025 02:44:56 PM'.
2025-09-29 20:14:56.753 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-29 20:14:56.761 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-29 20:14:56.763 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 401 0 null 95.5057ms
2025-09-29 20:15:05.272 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:45:05.2704369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:12.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 20:15:12.491 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.492 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.6837ms
2025-09-29 20:15:12.497 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 20:15:12.504 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.505 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 20:15:12.511 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 20:15:12.531 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 20:15:12.574 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 20:15:12.664 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 20:15:12.808 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 20:15:12.823 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 20:15:12.839 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 20:15:12.841 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 20:15:12.844 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:15:12.848 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 335.5027ms
2025-09-29 20:15:12.850 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 20:15:12.852 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 354.6383ms
2025-09-29 20:15:12.858 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:15:12.861 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.862 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.4172ms
2025-09-29 20:15:12.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:15:12.875 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.878 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:12.879 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:15:12.885 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:15:12.890 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:15:12.892 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.0194ms
2025-09-29 20:15:12.894 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:12.895 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.3344ms
2025-09-29 20:15:12.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:15:12.922 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.1899ms
2025-09-29 20:15:12.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:15:12.940 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:12.942 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:12.944 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:15:12.953 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:15:12.959 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:15:12.961 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.5388ms
2025-09-29 20:15:12.963 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:12.964 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 32.6059ms
2025-09-29 20:15:13.040 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:15:13.048 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:13.051 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:13.053 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:15:13.064 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:15:13.070 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:15:13.074 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.3469ms
2025-09-29 20:15:13.077 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:15:13.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.8924ms
2025-09-29 20:15:15.283 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:45:15.2810363+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:17.188 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:15:17.192 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:17.194 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.5175ms
2025-09-29 20:15:17.198 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 20:15:17.201 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:17.203 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:15:17.204 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:15:17.214 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 20:15:17.220 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 20:15:17.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:15:17.225 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.5444ms
2025-09-29 20:15:17.227 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:15:17.228 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 30.5464ms
2025-09-29 20:15:21.184 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 157
2025-09-29 20:15:21.188 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:21.191 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:15:21.193 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:15:21.209 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 20:15:21.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:15:21.220 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:15:21.222 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 20.7052ms
2025-09-29 20:15:21.226 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:15:21.228 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 43.8134ms
2025-09-29 20:15:25.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:45:25.2905361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:35.312 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:45:35.3093101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:45.319 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:45:45.3168751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:55.332 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:45:55.3292947+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:15:58.137 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/xlsx - null null
2025-09-29 20:15:58.141 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:58.142 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/xlsx - 204 null null 5.2817ms
2025-09-29 20:15:58.147 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/xlsx - application/json 134
2025-09-29 20:15:58.152 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:58.154 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportXlsxStub (xbytechat.api)'
2025-09-29 20:15:58.158 +05:30 [INF] Route matched with {action = "ExportXlsxStub", controller = "MessageLogsReport"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportXlsxStub() on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:15:58.162 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 20:15:58.177 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportXlsxStub (xbytechat.api) in 17.0498ms
2025-09-29 20:15:58.180 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportXlsxStub (xbytechat.api)'
2025-09-29 20:15:58.181 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/xlsx - 501 null application/problem+json; charset=utf-8 33.9178ms
2025-09-29 20:15:59.791 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - null null
2025-09-29 20:15:59.796 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:59.798 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - 204 null null 6.4383ms
2025-09-29 20:15:59.801 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - application/json 134
2025-09-29 20:15:59.803 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:15:59.805 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-29 20:15:59.810 +05:30 [INF] Route matched with {action = "ExportCsv", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportCsv(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:15:59.824 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 20:15:59.838 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'META_CLOUD' } (DbType = Object), @__p_5='200', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:15:59.863 +05:30 [INF] Executing FileContentResult, sending file with download name 'MessageLogs-20250929144559.csv' ...
2025-09-29 20:15:59.874 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api) in 60.3244ms
2025-09-29 20:15:59.877 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-29 20:15:59.879 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - 200 5614 text/csv 77.7518ms
2025-09-29 20:16:05.349 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:46:05.3463410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:16:15.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:46:15.3569035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:16:25.372 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:46:25.3698671+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:16:35.504 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:46:35.3844634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:16:45.509 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:46:45.5062895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:16:55.512 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:46:55.5096276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:05.526 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:47:05.5234059+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:15.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:47:15.5335561+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:25.542 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:47:25.5398725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:35.552 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:47:35.5494463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:45.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:47:45.5587886+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:17:55.634 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[@__now_0='2025-09-29T14:47:55.5886131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:05.650 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:48:05.6490524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:15.662 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:48:15.6593658+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:25.679 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:48:25.6762880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:27.139 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:18:27.144 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:18:27.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.8068ms
2025-09-29 20:18:27.150 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 154
2025-09-29 20:18:27.155 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:18:27.157 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:18:27.159 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:18:27.170 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 20:18:27.176 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:18:27.181 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:18:27.183 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 22.1023ms
2025-09-29 20:18:27.185 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:18:27.186 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 35.9064ms
2025-09-29 20:18:35.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:48:35.6927033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:45.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:48:45.7031234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:18:55.717 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:48:55.7140625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:05.739 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:49:05.7361259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:15.754 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:49:15.7513462+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:25.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:49:25.7623530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:35.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:49:35.7706161+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:45.788 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:49:45.7854446+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:19:55.800 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:49:55.7971750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:02.932 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:20:02.938 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:20:02.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 6.971ms
2025-09-29 20:20:02.943 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 178
2025-09-29 20:20:02.946 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:20:02.949 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:20:02.950 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:20:02.957 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 20:20:02.966 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:20:02.971 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:20:02.975 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 22.0727ms
2025-09-29 20:20:02.978 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:20:02.979 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 35.7235ms
2025-09-29 20:20:03.718 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 179
2025-09-29 20:20:03.726 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:20:03.728 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:20:03.729 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:20:03.738 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
2025-09-29 20:20:03.745 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:45:16.9140000Z' (DbType = DateTime), @__chans_3={ 'PARTNER' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END IS NOT NULL AND (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) = ANY (@__chans_3) OR (upper(CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END) IS NULL AND array_position(@__chans_3, NULL) IS NOT NULL))
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:20:03.749 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:20:03.751 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 19.3697ms
2025-09-29 20:20:03.754 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:20:03.755 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 37.1897ms
2025-09-29 20:20:05.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:50:05.8123240+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:15.824 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:50:15.8219187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:25.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:50:25.8381855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:35.840 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:50:35.8373395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:45.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:50:45.8498304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:20:55.865 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:50:55.8627485+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:05.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:51:05.8715705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:15.884 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:51:15.8815941+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:25.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:51:25.8932847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:35.999 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:51:35.9032817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:46.001 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:51:45.9991613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:21:56.007 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:51:56.0049999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:06.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:06.0173955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:16.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:16.0307441+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:26.043 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:26.0403019+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:36.050 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:36.0475828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:46.068 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:46.0656971+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:22:56.078 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:52:56.0751263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:06.094 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:53:06.0919466+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:16.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:53:16.1066884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:26.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:53:26.1156091+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:36.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:53:36.1311023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:46.143 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:53:46.1410544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:23:56.163 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:53:56.1608448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:06.181 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:54:06.1780674+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:16.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:54:16.1937692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:26.204 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:54:26.2014633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:36.211 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:54:36.2089991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:46.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:54:46.2299420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:24:56.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:54:56.2398225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:06.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:55:06.2470181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:16.297 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:55:16.2941733+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:26.312 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:55:26.3098153+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:36.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:55:36.3202490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:46.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:55:46.3281158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:25:56.341 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:55:56.3385779+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:06.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:56:06.3456657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:16.366 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:56:16.3637548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:26.376 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:56:26.3726806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:36.497 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T14:56:36.3912122+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:46.509 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:56:46.5062291+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:26:56.512 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:56:56.5112177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:06.518 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:57:06.5165796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:16.524 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:57:16.5215298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:26.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:57:26.5395797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:36.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:57:36.5477502+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:46.563 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:57:46.5611846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:27:56.651 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__now_0='2025-09-29T14:57:56.5942245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:06.687 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:06.6847517+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:09.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:28:09.865 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:09.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.5044ms
2025-09-29 20:28:09.870 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 20:28:09.872 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:09.873 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:09.875 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:28:09.884 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 20:28:09.888 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 20:28:09.891 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:28:09.892 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 15.7113ms
2025-09-29 20:28:09.894 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:09.895 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 25.8897ms
2025-09-29 20:28:13.302 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 155
2025-09-29 20:28:13.307 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:13.309 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:13.310 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:28:13.318 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 20:28:13.335 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 20:28:13.340 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:28:13.343 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 29.4565ms
2025-09-29 20:28:13.345 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:13.347 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 45.0747ms
2025-09-29 20:28:14.641 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 175
2025-09-29 20:28:14.647 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:14.649 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:14.651 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:28:14.665 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:28:14.680 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:28:14.684 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:28:14.686 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 32.2221ms
2025-09-29 20:28:14.689 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:14.690 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 48.87ms
2025-09-29 20:28:16.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:16.6938256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:16.875 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:28:16.880 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:16.881 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.8245ms
2025-09-29 20:28:16.887 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 177
2025-09-29 20:28:16.891 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:28:16.893 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:16.895 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:28:16.913 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:28:16.920 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T14:58:09.5940000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:28:16.924 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:28:16.926 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.1792ms
2025-09-29 20:28:16.928 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:28:16.929 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 42.0101ms
2025-09-29 20:28:26.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:26.7031677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:36.717 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:36.7143921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:46.722 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:46.7192728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:28:56.726 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:58:56.7236897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:06.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:59:06.7398044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:16.750 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T14:59:16.7471945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:26.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:59:26.7631996+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:36.779 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:59:36.7770301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:46.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:59:46.7964018+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:29:56.834 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T14:59:56.8124935+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:06.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:00:06.8382558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:16.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:00:16.8464940+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:26.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:00:26.8510821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:36.866 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:00:36.8624649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:46.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:00:46.8719016+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:30:56.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:00:56.8802137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:06.893 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:01:06.8912506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:16.906 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:01:16.9039326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:26.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:01:26.9261758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:37.071 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:01:36.9733516+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:47.080 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:01:47.0787083+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:31:57.113 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:01:57.1113663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:07.154 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:02:07.1525531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:17.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:02:17.1837920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:27.207 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:02:27.1947621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:37.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:02:37.2080222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:47.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:02:47.2141557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:32:57.246 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:02:57.2436168+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:07.256 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:03:07.2542070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:17.271 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:03:17.2694566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:27.280 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:03:27.2778964+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:37.326 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:03:37.3236998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:47.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:03:47.3320487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:33:57.344 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:03:57.3421009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:07.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:04:07.3546905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:17.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:04:17.3782871+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:27.394 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:04:27.3898817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:37.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:04:37.3996364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:47.414 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:04:47.4115147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:34:57.431 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:04:57.4288799+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:07.443 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:05:07.4387309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:17.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:05:17.4545820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:27.477 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:05:27.4733262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:37.489 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:05:37.4871284+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:47.498 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:05:47.4965814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:35:57.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:05:57.5087732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:07.548 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:06:07.5439615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:17.568 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:06:17.5657969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:27.579 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:06:27.5765965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:37.684 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:06:37.5843076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:47.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:06:47.6931705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:36:57.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:06:57.6945167+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:07.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:07:07.7054159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:17.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:07:17.7207620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:27.741 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:07:27.7379521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:37.781 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:07:37.7606866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:47.799 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:07:47.7960742+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:37:57.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:07:57.8113385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:07.826 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:08:07.8234955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:17.839 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:08:17.8365286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:23.846 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:38:23.850 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:23.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.0495ms
2025-09-29 20:38:23.856 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:38:23.860 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:23.861 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:23.863 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:38:23.871 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:38:23.875 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:38:23.877 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.9624ms
2025-09-29 20:38:23.879 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:23.881 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.4547ms
2025-09-29 20:38:23.955 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:38:23.960 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:23.961 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.0635ms
2025-09-29 20:38:23.988 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:38:23.994 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:23.996 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:23.997 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:38:24.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:38:24.010 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:38:24.012 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.6619ms
2025-09-29 20:38:24.014 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:24.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.8485ms
2025-09-29 20:38:24.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:38:24.077 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:24.079 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:24.080 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:38:24.088 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:38:24.095 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:38:24.098 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.7415ms
2025-09-29 20:38:24.100 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:38:24.103 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 29.0589ms
2025-09-29 20:38:24.329 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:38:24.333 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:24.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.8046ms
2025-09-29 20:38:24.339 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 20:38:24.344 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:24.346 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:24.348 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:38:24.358 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 20:38:24.365 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 20:38:24.369 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:38:24.371 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 21.2499ms
2025-09-29 20:38:24.374 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:24.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 36.6255ms
2025-09-29 20:38:27.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:08:27.8447081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:27.865 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 153
2025-09-29 20:38:27.886 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:27.889 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:27.892 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:38:27.903 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:38:27.909 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:38:27.912 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:38:27.914 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 20.4682ms
2025-09-29 20:38:27.916 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:27.917 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 52.4434ms
2025-09-29 20:38:28.844 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-29 20:38:28.849 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:28.850 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:28.852 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:38:28.858 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:38:28.865 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:38:28.868 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:38:28.870 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.4523ms
2025-09-29 20:38:28.872 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:28.874 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 29.6952ms
2025-09-29 20:38:30.229 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 20:38:30.233 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:30.235 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.2171ms
2025-09-29 20:38:30.239 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 156
2025-09-29 20:38:30.242 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:30.243 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:30.245 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:38:30.257 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:38:30.265 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:38:30.268 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:38:30.270 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 22.357ms
2025-09-29 20:38:30.272 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:30.273 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 34.4866ms
2025-09-29 20:38:32.011 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-29 20:38:32.017 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:32.019 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:32.022 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 20:38:32.031 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 20:38:32.042 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T15:08:24.0450000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 20:38:32.064 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:38:32.066 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 38.7311ms
2025-09-29 20:38:32.068 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 20:38:32.071 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 59.2173ms
2025-09-29 20:38:37.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:08:37.8540343+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:46.416 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/5858c0c2-ba19-4c2b-9210-9970dc70005b - null null
2025-09-29 20:38:46.422 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:46.424 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/5858c0c2-ba19-4c2b-9210-9970dc70005b - 204 null null 7.8335ms
2025-09-29 20:38:46.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/5858c0c2-ba19-4c2b-9210-9970dc70005b - null null
2025-09-29 20:38:46.437 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:38:46.439 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:38:46.448 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:38:46.719 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__initialCampaignSendLogId_0='5858c0c2-ba19-4c2b-9210-9970dc70005b'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:38:46.723 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:38:46.729 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 277.08ms
2025-09-29 20:38:46.731 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:38:46.733 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/5858c0c2-ba19-4c2b-9210-9970dc70005b - 200 null application/json; charset=utf-8 302.7765ms
2025-09-29 20:38:47.873 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:08:47.8659043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:38:57.890 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:08:57.8881306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:07.897 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:09:07.8941577+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:10.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:39:11.006 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:39:11.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 38.9048ms
2025-09-29 20:39:11.014 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:39:11.021 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:39:11.022 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:39:11.030 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:39:11.093 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:39:11.099 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:39:11.105 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 72.4788ms
2025-09-29 20:39:11.107 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:39:11.109 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 94.256ms
2025-09-29 20:39:16.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:39:16.784 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:39:16.785 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 8.0554ms
2025-09-29 20:39:16.790 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:39:16.794 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:39:16.796 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:39:16.798 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:39:16.816 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:39:16.821 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:39:16.823 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 22.6438ms
2025-09-29 20:39:16.826 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:39:16.830 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 39.554ms
2025-09-29 20:39:17.918 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:09:17.9159863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:27.935 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:09:27.9325018+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:37.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:09:37.9415900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:47.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:09:47.9699998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:39:57.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:09:57.9837969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:08.027 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:08.0245109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:18.051 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:18.0488660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:28.070 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:28.0678610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:38.083 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:38.0803802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:48.097 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:48.0948625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:40:58.128 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:10:58.1256427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:08.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:11:08.1329257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:18.149 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:11:18.1467911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:28.175 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:11:28.1722120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:38.284 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:11:38.1822225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:48.290 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:11:48.2881556+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:41:58.298 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:11:58.2962943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:08.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:12:08.3102836+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:18.339 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:12:18.3360833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:28.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:12:28.3449174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:38.373 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:12:38.3707020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:48.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:12:48.3831170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:42:58.395 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:12:58.3924357+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:08.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:13:08.4047874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:18.428 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:13:18.4255464+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:28.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:13:28.4340736+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:38.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:13:38.4660171+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:48.482 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:13:48.4798467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:43:58.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:13:58.4839705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:08.501 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:14:08.4989033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:18.512 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:14:18.5090718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:28.524 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:14:28.5195316+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:38.534 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:14:38.5311492+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:48.540 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:14:48.5377097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:44:58.567 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:14:58.5641040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:08.577 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:15:08.5747332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:18.607 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:15:18.5855424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:28.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:15:28.6244957+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:38.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:15:38.6348382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:48.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:15:48.6482166+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:45:58.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:15:58.6538476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:08.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:16:08.6699145+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:18.704 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:16:18.7014512+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:28.712 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:16:28.7096066+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:38.827 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:16:38.7253889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:48.853 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:16:48.8351546+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:46:58.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:16:58.8675026+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:08.891 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:17:08.8889784+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:18.903 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:17:18.8987936+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:28.918 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:17:28.9149764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:38.948 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:17:38.9446636+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:48.978 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:17:48.9756563+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:47:59.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:17:59.0041869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:09.025 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:18:09.0229131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:19.047 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:18:19.0441075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:29.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:18:29.0531838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:39.068 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:18:39.0655965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:49.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:18:49.0839222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:48:59.122 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__now_0='2025-09-29T15:18:59.0987731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:09.134 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:19:09.1322707+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:19.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:19:19.1396022+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:29.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:19:29.1454350+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:39.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:19:39.1852280+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:49.213 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:19:49.2101848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:49:59.226 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:19:59.2236254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:09.234 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:20:09.2309857+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:19.272 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:20:19.2695515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:29.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:20:29.2809990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:39.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:20:39.2918604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:49.310 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:20:49.3077822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:50:59.326 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:20:59.3241585+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:09.328 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:21:09.3253831+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:19.356 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:21:19.3335823+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:29.368 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:21:29.3656242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:39.475 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:21:39.3782023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:49.483 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:21:49.4801748+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:51:59.483 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:21:59.4808618+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:09.501 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:22:09.4970711+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:19.499 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:22:19.4964279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:29.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:22:29.5319409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:39.542 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:22:39.5396147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:49.583 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:22:49.5803118+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:52:59.627 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:22:59.6244654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:09.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:23:09.6363303+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:19.645 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:23:19.6423364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:29.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:23:29.6452627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:39.669 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:23:39.6662321+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:49.689 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:23:49.6866357+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:53:59.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:23:59.6938041+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:03.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:03.592 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:03.593 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 6.1679ms
2025-09-29 20:54:03.597 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:03.603 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:03.604 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:03.609 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:03.653 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-29 20:54:03.669 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:54:03.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:54:03.677 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 64.5474ms
2025-09-29 20:54:03.679 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:03.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 83.2706ms
2025-09-29 20:54:04.533 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:04.538 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:04.539 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 6.25ms
2025-09-29 20:54:04.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:04.548 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:04.553 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:04.558 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:04.581 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:54:04.601 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:54:04.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:04.609 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 47.7098ms
2025-09-29 20:54:04.611 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:04.612 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 68.323ms
2025-09-29 20:54:09.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:24:09.7071272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:13.053 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:54:13.057 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.059 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.0767ms
2025-09-29 20:54:13.063 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:54:13.065 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.067 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.068 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:54:13.077 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 20:54:13.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:54:13.086 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:54:13.087 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 17.2934ms
2025-09-29 20:54:13.089 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.094 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.3912ms
2025-09-29 20:54:13.172 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:54:13.179 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.181 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 8.7974ms
2025-09-29 20:54:13.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:54:13.193 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.195 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.196 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:54:13.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:54:13.206 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:54:13.208 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.7763ms
2025-09-29 20:54:13.210 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.948ms
2025-09-29 20:54:13.258 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:54:13.261 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:13.270 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.273 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.275 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.275 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 14.88ms
2025-09-29 20:54:13.277 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:54:13.282 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:13.288 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:54:13.300 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.302 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:54:13.304 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:13.306 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 21.5073ms
2025-09-29 20:54:13.308 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:13.309 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:54:13.313 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 54.7707ms
2025-09-29 20:54:13.320 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:54:13.331 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:54:13.333 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 21.9572ms
2025-09-29 20:54:13.335 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:13.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 54.2999ms
2025-09-29 20:54:13.762 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:13.766 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.767 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 4.6901ms
2025-09-29 20:54:13.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:13.774 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:13.775 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:13.777 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:13.781 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:54:13.788 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:54:13.791 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:13.792 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 13.712ms
2025-09-29 20:54:13.794 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:13.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 24.4026ms
2025-09-29 20:54:19.722 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:24:19.7191145+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:22.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:22.019 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:22.022 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 11.1321ms
2025-09-29 20:54:22.030 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:22.033 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:22.035 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:22.037 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:54:22.060 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:54:22.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:22.065 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 25.8666ms
2025-09-29 20:54:22.067 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:22.068 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 38.5187ms
2025-09-29 20:54:25.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:25.169 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:25.171 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 7.3764ms
2025-09-29 20:54:25.181 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:25.185 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:25.187 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:25.189 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:25.195 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:54:25.200 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:54:25.202 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.1326ms
2025-09-29 20:54:25.204 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:25.206 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 24.8479ms
2025-09-29 20:54:25.626 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:25.629 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:25.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 4.373ms
2025-09-29 20:54:25.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:25.637 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:25.639 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:25.641 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:25.646 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:54:25.655 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:54:25.658 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:25.660 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 16.5921ms
2025-09-29 20:54:25.662 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:25.663 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 28.6628ms
2025-09-29 20:54:27.938 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:27.954 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:27.955 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 17.3316ms
2025-09-29 20:54:27.959 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:27.963 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:27.966 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:27.967 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:54:27.973 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:54:27.978 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:27.980 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 10.6628ms
2025-09-29 20:54:27.982 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:27.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 25.0326ms
2025-09-29 20:54:29.741 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:24:29.7380482+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:39.749 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:24:39.7473326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:43.556 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:43.560 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:43.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 5.4712ms
2025-09-29 20:54:43.577 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:54:43.581 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:43.584 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:43.586 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:43.591 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:54:43.596 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:54:43.598 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.2951ms
2025-09-29 20:54:43.600 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:43.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 24.7086ms
2025-09-29 20:54:44.025 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:44.029 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:44.030 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 4.3782ms
2025-09-29 20:54:44.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:44.038 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:44.039 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:44.040 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:44.046 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:54:44.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:54:44.056 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:44.058 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 15.2972ms
2025-09-29 20:54:44.060 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:44.061 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 26.4525ms
2025-09-29 20:54:47.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:47.478 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:47.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.8345ms
2025-09-29 20:54:47.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:47.489 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:47.490 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:47.492 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:54:47.501 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:54:47.506 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:47.508 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.1393ms
2025-09-29 20:54:47.511 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:47.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 27.4607ms
2025-09-29 20:54:49.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:24:49.7609359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:54:54.005 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877/summary - null null
2025-09-29 20:54:54.013 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:54.015 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877/summary - 204 null null 9.9163ms
2025-09-29 20:54:54.021 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877/summary - null null
2025-09-29 20:54:54.026 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:54.027 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:54.029 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:54.036 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:54:54.043 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:54:54.045 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 13.7769ms
2025-09-29 20:54:54.047 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:54:54.048 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877/summary - 200 null application/json; charset=utf-8 27.4423ms
2025-09-29 20:54:54.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:54.399 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:54.400 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877?page=1&pageSize=10&status=&search= - 204 null null 4.7284ms
2025-09-29 20:54:54.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:54:54.408 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:54.410 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:54.411 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:54:54.417 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:54:54.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='dc831142-b960-4e42-8a36-2764242df877', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:54:54.429 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:54.430 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 16.7766ms
2025-09-29 20:54:54.433 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:54:54.434 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/dc831142-b960-4e42-8a36-2764242df877?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 29.4426ms
2025-09-29 20:54:56.967 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:56.971 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:56.973 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.0154ms
2025-09-29 20:54:56.986 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:54:56.990 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:54:56.992 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:56.993 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:54:57.000 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:54:57.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:54:57.007 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 11.4347ms
2025-09-29 20:54:57.009 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:54:57.011 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 24.9855ms
2025-09-29 20:54:59.798 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:24:59.7958216+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:09.812 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:25:09.8085323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:12.186 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:12.192 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.194 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.4162ms
2025-09-29 20:55:12.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:12.204 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.205 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.207 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:12.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:12.220 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:12.222 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.8729ms
2025-09-29 20:55:12.225 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.227 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.7034ms
2025-09-29 20:55:12.336 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:12.340 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.341 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.4498ms
2025-09-29 20:55:12.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:12.355 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.356 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.358 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:12.365 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:12.370 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:12.372 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.032ms
2025-09-29 20:55:12.374 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.6232ms
2025-09-29 20:55:12.418 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:55:12.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:12.422 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.425 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.427 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 8.9068ms
2025-09-29 20:55:12.429 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.433 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:55:12.434 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:12.438 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:12.445 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:55:12.445 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:12.448 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:55:12.452 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:12.459 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:55:12.461 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 19.5463ms
2025-09-29 20:55:12.464 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:55:12.466 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:12.468 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.5651ms
2025-09-29 20:55:12.470 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 51.4269ms
2025-09-29 20:55:12.473 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:55:12.481 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 48.2589ms
2025-09-29 20:55:15.105 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:55:15.109 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:15.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 5.1307ms
2025-09-29 20:55:15.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:55:15.134 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:15.136 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:15.137 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:15.146 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:55:15.151 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:55:15.153 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 14.1601ms
2025-09-29 20:55:15.155 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:15.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 27.4938ms
2025-09-29 20:55:15.579 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:15.583 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:15.584 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 5.3494ms
2025-09-29 20:55:15.589 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:15.593 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:15.595 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:15.597 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:15.604 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:55:15.613 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:55:15.616 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:55:15.618 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 18.3458ms
2025-09-29 20:55:15.620 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:15.622 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 32.8324ms
2025-09-29 20:55:19.821 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:25:19.8193615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:28.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:28.029 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.031 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.8861ms
2025-09-29 20:55:28.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:28.038 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.039 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.041 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:28.047 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:28.052 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:28.054 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.5114ms
2025-09-29 20:55:28.057 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.6648ms
2025-09-29 20:55:28.099 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:28.104 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.105 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.1055ms
2025-09-29 20:55:28.111 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:28.114 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.116 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.118 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:28.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:28.127 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:28.129 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.943ms
2025-09-29 20:55:28.131 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.2604ms
2025-09-29 20:55:28.166 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:55:28.166 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 20:55:28.169 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.173 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.174 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 7.4722ms
2025-09-29 20:55:28.175 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.179 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:55:28.181 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 20:55:28.184 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 20:55:28.189 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:28.194 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 20:55:28.195 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:28.197 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.2708ms
2025-09-29 20:55:28.203 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 20:55:28.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:55:28.206 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 39.8845ms
2025-09-29 20:55:28.209 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:55:28.215 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 14.8071ms
2025-09-29 20:55:28.217 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:28.218 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 38.9979ms
2025-09-29 20:55:28.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:28.675 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 4.816ms
2025-09-29 20:55:28.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:28.684 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:28.685 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:28.686 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:28.692 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:55:28.699 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:55:28.702 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:55:28.704 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 15.2817ms
2025-09-29 20:55:28.705 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:28.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 26.6005ms
2025-09-29 20:55:29.826 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:25:29.8239553+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:39.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:25:39.8381004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:46.284 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:55:46.290 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:46.292 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 7.1228ms
2025-09-29 20:55:46.297 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:55:46.302 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:46.304 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:55:46.306 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:55:46.313 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:55:46.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:55:46.322 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.7986ms
2025-09-29 20:55:46.324 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:55:46.325 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 28.3256ms
2025-09-29 20:55:49.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:25:49.8474372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:55:54.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - null null
2025-09-29 20:55:54.728 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:54.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - 204 null null 9.0352ms
2025-09-29 20:55:54.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - null null
2025-09-29 20:55:54.762 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:54.763 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:54.765 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:54.772 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:55:54.781 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:55:54.784 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 15.9949ms
2025-09-29 20:55:54.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:55:54.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb/summary - 200 null application/json; charset=utf-8 29.5053ms
2025-09-29 20:55:55.179 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:55.183 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:55.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - 204 null null 5.2707ms
2025-09-29 20:55:55.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:55:55.210 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:55.212 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:55.213 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:55:55.219 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:55:55.229 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:55:55.234 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:55:55.246 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 30.5058ms
2025-09-29 20:55:55.249 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:55:55.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 44.3255ms
2025-09-29 20:55:58.153 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/e0b0caa7-55bd-4dc3-937b-2cfd53458712 - null null
2025-09-29 20:55:58.162 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:58.163 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/e0b0caa7-55bd-4dc3-937b-2cfd53458712 - 204 null null 10.1872ms
2025-09-29 20:55:58.169 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/e0b0caa7-55bd-4dc3-937b-2cfd53458712 - null null
2025-09-29 20:55:58.172 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:55:58.175 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:55:58.177 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:55:58.205 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__initialCampaignSendLogId_0='e0b0caa7-55bd-4dc3-937b-2cfd53458712'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:55:58.235 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @__8__locals1_sessionStart_2='2025-09-29T11:31:32.7309710Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 20:55:58.264 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__sentLog_Id_0='e0b0caa7-55bd-4dc3-937b-2cfd53458712', @__sessionStart_1='2025-09-29T11:31:32.7309710Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:31:32.7309710Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:55:58.269 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:55:58.276 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 96.0436ms
2025-09-29 20:55:58.278 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:55:58.280 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/e0b0caa7-55bd-4dc3-937b-2cfd53458712 - 200 null application/json; charset=utf-8 110.7703ms
2025-09-29 20:55:59.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:25:59.8650901+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:00.905 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:00.932 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:00.933 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 28.2467ms
2025-09-29 20:56:00.941 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:00.945 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:00.946 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:00.948 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:56:00.954 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:56:00.960 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:00.962 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 10.806ms
2025-09-29 20:56:00.964 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:00.965 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 24.1283ms
2025-09-29 20:56:04.045 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:56:04.050 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:04.051 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 6.0864ms
2025-09-29 20:56:04.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 20:56:04.062 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:04.063 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:04.065 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:04.071 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:56:04.076 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:56:04.078 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.1958ms
2025-09-29 20:56:04.080 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:04.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 24.4589ms
2025-09-29 20:56:04.513 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:04.517 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:04.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 4.7472ms
2025-09-29 20:56:04.522 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:04.526 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:04.528 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:04.529 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:04.539 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:56:04.555 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:56:04.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:04.573 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 41.3533ms
2025-09-29 20:56:04.575 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:04.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 56.0183ms
2025-09-29 20:56:06.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:06.924 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:06.929 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 12.998ms
2025-09-29 20:56:06.957 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:06.972 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:06.975 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:06.978 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:56:06.986 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:56:06.991 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:06.992 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 11.3494ms
2025-09-29 20:56:06.994 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:06.996 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 38.776ms
2025-09-29 20:56:09.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:26:09.8823374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:10.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 20:56:10.867 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:10.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 204 null null 5.1689ms
2025-09-29 20:56:10.878 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 20:56:10.882 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:10.883 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:10.884 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:10.889 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:56:10.895 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:56:10.897 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.4508ms
2025-09-29 20:56:10.899 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:10.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 200 null application/json; charset=utf-8 23.4134ms
2025-09-29 20:56:11.334 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:11.337 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:11.338 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 204 null null 4.6163ms
2025-09-29 20:56:11.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:11.346 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:11.348 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:11.350 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:11.356 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:56:11.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:56:11.366 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:11.368 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 16.3283ms
2025-09-29 20:56:11.370 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:11.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 28.8874ms
2025-09-29 20:56:17.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:17.687 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:17.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 12.2198ms
2025-09-29 20:56:17.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:17.703 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:17.705 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:17.707 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:56:17.715 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:56:17.720 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:17.723 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 13.1927ms
2025-09-29 20:56:17.726 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:17.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 28.8662ms
2025-09-29 20:56:19.900 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:26:19.8971889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:23.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 20:56:23.130 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:23.132 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 204 null null 21.9482ms
2025-09-29 20:56:23.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - null null
2025-09-29 20:56:23.146 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:23.147 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:23.149 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:23.156 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:56:23.161 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:56:23.163 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.9744ms
2025-09-29 20:56:23.165 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:23.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a/summary - 200 null application/json; charset=utf-8 24.7338ms
2025-09-29 20:56:23.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:23.557 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:23.558 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 204 null null 8.2062ms
2025-09-29 20:56:23.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:23.578 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:23.580 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:23.582 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:23.607 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:56:23.617 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:56:23.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:23.627 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 42.1028ms
2025-09-29 20:56:23.629 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:23.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 64.6028ms
2025-09-29 20:56:26.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:26.681 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:26.682 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.0137ms
2025-09-29 20:56:26.687 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:26.690 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:26.691 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:26.692 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:56:26.699 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:56:26.704 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:26.706 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 11.641ms
2025-09-29 20:56:26.708 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:26.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 23.1579ms
2025-09-29 20:56:29.914 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:26:29.9122643+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:30.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/summary - null null
2025-09-29 20:56:30.526 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:30.527 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/summary - 204 null null 6.1358ms
2025-09-29 20:56:30.543 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/summary - null null
2025-09-29 20:56:30.547 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:30.549 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:30.551 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:30.557 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:56:30.562 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:56:30.564 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.9609ms
2025-09-29 20:56:30.566 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:30.568 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/summary - 200 null application/json; charset=utf-8 25.4769ms
2025-09-29 20:56:30.981 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:30.985 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:30.986 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee?page=1&pageSize=10&status=&search= - 204 null null 4.7035ms
2025-09-29 20:56:30.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:30.993 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:30.995 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:30.997 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:31.002 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:56:31.010 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:56:31.013 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:31.015 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 16.0613ms
2025-09-29 20:56:31.017 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:31.018 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 27.8688ms
2025-09-29 20:56:34.053 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:34.057 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:34.059 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 6.5996ms
2025-09-29 20:56:34.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 20:56:34.074 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:34.076 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:34.077 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 20:56:34.103 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 20:56:34.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:34.111 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 30.3112ms
2025-09-29 20:56:34.113 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 20:56:34.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 45.8082ms
2025-09-29 20:56:37.955 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - null null
2025-09-29 20:56:37.965 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:37.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - 204 null null 11.145ms
2025-09-29 20:56:37.980 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - null null
2025-09-29 20:56:37.985 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:37.990 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:37.992 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:37.999 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 20:56:38.004 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 20:56:38.006 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 10.7533ms
2025-09-29 20:56:38.009 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 20:56:38.011 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d/summary - 200 null application/json; charset=utf-8 31.1849ms
2025-09-29 20:56:38.427 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:38.431 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:38.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - 204 null null 4.8648ms
2025-09-29 20:56:38.436 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - null null
2025-09-29 20:56:38.441 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:38.442 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:38.444 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 20:56:38.450 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 20:56:38.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 20:56:38.461 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 20:56:38.463 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 16.6607ms
2025-09-29 20:56:38.465 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 20:56:38.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/016cd5d0-63e6-43f0-a6c1-05bd4694421d?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 30.6358ms
2025-09-29 20:56:40.021 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:26:39.9221511+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:40.889 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 20:56:40.895 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:40.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 204 null null 7.1355ms
2025-09-29 20:56:40.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 20:56:40.904 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:40.906 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:40.908 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:56:40.920 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__initialCampaignSendLogId_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:56:40.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 20:56:40.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:56:40.939 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:56:40.941 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 29.8509ms
2025-09-29 20:56:40.943 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:40.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 200 null application/json; charset=utf-8 44.777ms
2025-09-29 20:56:43.373 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 20:56:43.386 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:43.393 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 204 null null 19.4511ms
2025-09-29 20:56:43.399 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 20:56:43.419 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:43.422 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:43.424 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:56:43.431 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__initialCampaignSendLogId_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:56:43.439 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 20:56:43.445 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:56:43.449 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:56:43.450 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 23.2852ms
2025-09-29 20:56:43.452 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:43.454 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 200 null application/json; charset=utf-8 54.9875ms
2025-09-29 20:56:45.801 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/a1b20ecc-24f7-4e60-8231-e8317bb491ea - null null
2025-09-29 20:56:45.806 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:45.807 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/a1b20ecc-24f7-4e60-8231-e8317bb491ea - 204 null null 5.6838ms
2025-09-29 20:56:45.812 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/a1b20ecc-24f7-4e60-8231-e8317bb491ea - null null
2025-09-29 20:56:45.816 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:45.818 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:45.820 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:56:45.828 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__initialCampaignSendLogId_0='a1b20ecc-24f7-4e60-8231-e8317bb491ea'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:56:45.842 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sentLog_MessageLogId_Value_0='51a140c6-cdd7-4152-8957-ac098be65d03', @__sentLog_BusinessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."RecipientNumber"
FROM "MessageLogs" AS m
WHERE m."Id" = @__sentLog_MessageLogId_Value_0 AND m."BusinessId" = @__sentLog_BusinessId_1
LIMIT 1
2025-09-29 20:56:45.847 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='a1b20ecc-24f7-4e60-8231-e8317bb491ea', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:56:45.850 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:56:45.853 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 30.1681ms
2025-09-29 20:56:45.855 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:45.857 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/a1b20ecc-24f7-4e60-8231-e8317bb491ea - 200 null application/json; charset=utf-8 44.8821ms
2025-09-29 20:56:48.574 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/1a73b234-e441-4846-9fe2-fa71c14fcd9a - null null
2025-09-29 20:56:48.578 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:48.581 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/1a73b234-e441-4846-9fe2-fa71c14fcd9a - 204 null null 6.9887ms
2025-09-29 20:56:48.586 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/1a73b234-e441-4846-9fe2-fa71c14fcd9a - null null
2025-09-29 20:56:48.589 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:48.591 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:48.592 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:56:48.599 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__initialCampaignSendLogId_0='1a73b234-e441-4846-9fe2-fa71c14fcd9a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:56:48.607 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:24:29.0396550Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 20:56:48.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='1a73b234-e441-4846-9fe2-fa71c14fcd9a', @__sessionStart_1='2025-09-29T11:24:29.0396550Z' (DbType = DateTime), @__sessionEnd_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:56:48.617 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:56:48.620 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 24.631ms
2025-09-29 20:56:48.622 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:48.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/1a73b234-e441-4846-9fe2-fa71c14fcd9a - 200 null application/json; charset=utf-8 37.8677ms
2025-09-29 20:56:50.055 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:26:50.0498165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:56:51.087 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/010a218a-0158-4d47-8b87-439b60c04a30 - null null
2025-09-29 20:56:51.094 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:51.095 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/010a218a-0158-4d47-8b87-439b60c04a30 - 204 null null 7.3993ms
2025-09-29 20:56:51.099 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/010a218a-0158-4d47-8b87-439b60c04a30 - null null
2025-09-29 20:56:51.105 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:56:51.107 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:51.110 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:56:51.122 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__initialCampaignSendLogId_0='010a218a-0158-4d47-8b87-439b60c04a30'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:56:51.131 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_MessageLogId_Value_0='82513547-4af7-4cea-a33a-9f008946ada8', @__sentLog_BusinessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."RecipientNumber"
FROM "MessageLogs" AS m
WHERE m."Id" = @__sentLog_MessageLogId_Value_0 AND m."BusinessId" = @__sentLog_BusinessId_1
LIMIT 1
2025-09-29 20:56:51.139 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='010a218a-0158-4d47-8b87-439b60c04a30', @__sessionStart_1='2025-09-29T11:24:29.0396550Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:24:29.0396550Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:56:51.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:56:51.144 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 30.5267ms
2025-09-29 20:56:51.146 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:56:51.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/010a218a-0158-4d47-8b87-439b60c04a30 - 200 null application/json; charset=utf-8 48.4485ms
2025-09-29 20:57:00.074 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:27:00.0718095+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:57:10.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:27:10.0941624+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:57:20.109 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:27:20.1057278+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:57:30.118 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:27:30.1157420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:57:40.128 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:27:40.1257396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:57:50.137 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:27:50.1348980+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:00.147 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:28:00.1436552+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:10.162 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:28:10.1593592+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:20.175 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:28:20.1725443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:30.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:28:30.1841557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:34.537 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 20:58:34.550 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:58:34.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 204 null null 13.9991ms
2025-09-29 20:58:34.558 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 20:58:34.561 +05:30 [INF] CORS policy execution successful.
2025-09-29 20:58:34.562 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:58:34.564 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 20:58:34.572 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__initialCampaignSendLogId_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 20:58:34.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 20:58:34.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sentLog_Id_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 20:58:34.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 20:58:34.589 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 22.0529ms
2025-09-29 20:58:34.591 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 20:58:34.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 200 null application/json; charset=utf-8 34.8627ms
2025-09-29 20:58:40.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:28:40.1992087+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:58:50.232 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:28:50.2300755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:00.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:29:00.2439826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:10.259 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:29:10.2561037+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:20.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:29:20.2630075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:30.268 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:29:30.2653937+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:40.280 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:29:40.2776442+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 20:59:50.297 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:29:50.2950097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:00.319 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:00.3164417+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:10.346 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:10.3248713+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:20.352 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:20.3487747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:30.371 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:30.3679406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:40.395 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:40.3921825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:00:50.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:30:50.4067021+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:00.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:31:00.4138269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:10.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:31:10.4230537+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:20.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:31:20.4405808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:30.442 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:31:30.4402460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:40.566 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:31:40.4578888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:01:43.536 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:01:43.546 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:43.548 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 204 null null 12.0214ms
2025-09-29 21:01:43.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:01:43.560 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:43.562 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:43.564 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 21:01:43.576 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__initialCampaignSendLogId_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 21:01:43.582 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 21:01:43.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 21:01:43.601 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 21:01:43.603 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 36.6515ms
2025-09-29 21:01:43.605 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:43.607 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 200 null application/json; charset=utf-8 49.7402ms
2025-09-29 21:01:46.051 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 21:01:46.054 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:46.055 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 204 null null 4.6675ms
2025-09-29 21:01:46.060 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - null null
2025-09-29 21:01:46.063 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:46.065 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:46.067 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 21:01:46.073 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__initialCampaignSendLogId_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 21:01:46.080 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 21:01:46.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sentLog_Id_0='b1aa4587-2982-4e87-acb1-50b8840b1c7e', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 21:01:46.090 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 21:01:46.091 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 22.3364ms
2025-09-29 21:01:46.093 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:46.096 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/b1aa4587-2982-4e87-acb1-50b8840b1c7e - 200 null application/json; charset=utf-8 36.2225ms
2025-09-29 21:01:48.580 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:01:48.585 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:48.586 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 204 null null 5.8918ms
2025-09-29 21:01:48.592 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:01:48.598 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:01:48.600 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:48.601 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 21:01:48.609 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__initialCampaignSendLogId_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 21:01:48.616 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 21:01:48.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sentLog_Id_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 21:01:48.625 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 21:01:48.628 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 24.0756ms
2025-09-29 21:01:48.631 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:01:48.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 200 null application/json; charset=utf-8 41.0325ms
2025-09-29 21:01:50.577 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:31:50.5748971+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:00.587 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:32:00.5844718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:10.595 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:32:10.5924031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:20.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:32:20.5998544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:30.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:32:30.6032616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:40.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:32:40.6162003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:02:50.645 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:32:50.6421674+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:00.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:33:00.6539279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:10.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:33:10.6660106+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:20.679 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:33:20.6773789+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:30.698 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:33:30.6955914+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:40.708 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:33:40.7061868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:03:50.722 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:33:50.7193616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:00.725 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:34:00.7231813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:10.754 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:34:10.7518459+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:20.768 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:34:20.7654211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:30.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:34:30.7752619+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:40.796 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='2025-09-29T15:34:40.7863566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:04:50.848 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:34:50.8456544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:00.861 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:35:00.8586848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:10.877 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:35:10.8750265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:20.893 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:35:20.8906589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:30.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:35:30.9049566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:40.917 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:35:40.9147215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:05:50.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:35:50.9252631+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:00.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:36:00.9268440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:10.939 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:36:10.9376107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:20.962 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:36:20.9604436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:30.970 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:36:30.9676842+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:41.082 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T15:36:40.9719053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:06:51.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:36:51.0897677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:01.097 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:37:01.0941974+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:11.122 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:37:11.1192616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:21.135 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:37:21.1325734+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:31.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:37:31.1467132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:41.158 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:37:41.1554669+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:07:51.177 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:37:51.1741146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:01.181 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:38:01.1789292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:11.200 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:38:11.1976961+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:21.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:38:21.2122579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:31.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:38:31.2237455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:41.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:38:41.2382600+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:08:51.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:38:51.2477711+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:01.263 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:01.2605336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:11.295 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:11.2913753+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:21.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:21.3064229+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:31.319 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:31.3157616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:41.342 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:41.3385386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:09:51.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:39:51.3601686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:01.386 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:40:01.3832587+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:11.397 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:40:11.3941267+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:21.416 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:40:21.4136540+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:31.433 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:40:31.4307473+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:41.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:40:41.4435292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:10:51.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:40:51.4629032+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:01.476 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:41:01.4730933+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:11.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:41:11.4879223+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:21.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:41:21.5013605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:31.529 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:41:31.5264731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:41.623 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:41:41.5276217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:11:51.638 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:41:51.6364058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:01.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:42:01.6419251+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:11.655 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:42:11.6534233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:21.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:42:21.6669895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:31.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:42:31.6749792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:41.689 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:42:41.6870703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:12:51.697 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:42:51.6943230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:01.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:43:01.7040066+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:11.718 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:43:11.7159322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:21.743 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:43:21.7402507+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:31.772 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:43:31.7488214+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:41.775 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:43:41.7736253+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:13:51.782 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T15:43:51.7773540+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:01.798 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:44:01.7953444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:11.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:44:11.8154579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:21.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:44:21.8285027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:31.838 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:44:31.8355934+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:41.862 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:44:41.8599701+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:14:51.875 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:44:51.8723110+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:01.883 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:45:01.8803844+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:11.894 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:45:11.8923738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:21.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:45:21.9056658+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:31.928 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:45:31.9258814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:41.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:45:41.9304638+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:15:51.949 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:45:51.9469720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:01.967 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:46:01.9645019+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:11.990 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:46:11.9872420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:21.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:46:21.9904285+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:31.994 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:46:31.9922047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:42.115 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:46:42.0115287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:16:52.126 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:46:52.1240868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:02.132 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:47:02.1295193+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:12.140 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:47:12.1375944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:22.149 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:47:22.1468846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:32.164 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:47:32.1620580+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:42.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:47:42.2042033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:17:52.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:47:52.2208450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:02.229 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:48:02.2266787+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:12.260 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:48:12.2578322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:22.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:48:22.2875605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:32.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:48:32.3063675+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:42.318 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:48:42.3155494+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:18:52.328 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:48:52.3254151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:02.352 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:49:02.3469212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:12.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:49:12.3585958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:22.373 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:49:22.3708359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:32.376 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:49:32.3736247+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:42.394 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:49:42.3917767+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:19:52.412 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:49:52.4090089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:02.426 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:50:02.4233836+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:12.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:50:12.4473327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:22.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:50:22.4635237+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:32.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:50:32.4734752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:42.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:50:42.4874832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:20:52.503 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:50:52.5002289+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:02.528 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:51:02.5253113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:12.540 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:51:12.5363602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:22.573 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:51:22.5707985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:32.585 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:51:32.5828149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:42.691 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:51:42.5939379+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:21:52.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:51:52.6994415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:02.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:52:02.6991501+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:12.710 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:52:12.7076582+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:22.725 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:52:22.7216465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:32.740 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:52:32.7371174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:42.753 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:52:42.7504079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:22:52.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:52:52.7629130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:02.776 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:53:02.7738476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:12.782 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:53:12.7796225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:22.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:53:22.7969337+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:32.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:53:32.8155543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:42.821 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:53:42.8193137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:23:52.828 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:53:52.8262580+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:02.846 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:54:02.8431476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:12.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:54:12.8550526+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:22.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:54:22.8728346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:32.892 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:54:32.8897906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:42.912 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:54:42.9092712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:24:52.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:54:52.9238958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:02.939 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:55:02.9358809+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:12.950 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:55:12.9483769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:22.959 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:55:22.9569427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:32.968 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:55:32.9656841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:42.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:55:42.9927998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:25:53.002 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:55:53.0000513+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:03.017 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:56:03.0144718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:13.023 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:56:13.0208870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:23.046 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:56:23.0418661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:33.054 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:56:33.0511577+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:43.172 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T15:56:43.0737387+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:26:53.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:56:53.1788342+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:03.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:57:03.1860142+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:13.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:57:13.1925272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:23.203 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:57:23.2001063+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:33.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:57:33.2177764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:43.237 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:57:43.2344029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:27:53.239 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:57:53.2371020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:03.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:58:03.2477799+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:13.259 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:58:13.2563984+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:23.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:58:23.2615705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:33.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:58:33.2753197+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:43.300 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:58:43.2976440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:28:53.312 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:58:53.3099607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:03.327 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:59:03.3245753+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:13.336 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:59:13.3328770+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:23.350 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:59:23.3478332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:33.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T15:59:33.3581170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:43.368 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:59:43.3660471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:29:53.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T15:59:53.3778292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:03.398 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:00:03.3952926+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:13.401 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:00:13.3989578+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:23.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:00:23.4112717+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:33.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:00:33.4232986+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:43.441 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:00:43.4383909+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:30:53.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:00:53.4543635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:03.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:01:03.4663889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:13.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:01:13.4859677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:23.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:01:23.4959660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:33.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:01:33.5026302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:43.627 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:01:43.5249620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:31:53.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:01:53.6346218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:03.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:02:03.6493441+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:13.676 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:02:13.6733123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:23.694 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:02:23.6920435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:33.700 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:02:33.6980703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:43.704 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:02:43.7025361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:32:53.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:02:53.7109411+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:03.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:03:03.7302930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:13.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:03:13.7387078+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:23.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:03:23.7500248+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:33.761 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:03:33.7587376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:43.772 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:03:43.7695845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:33:53.793 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:03:53.7902045+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:03.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:04:03.7936809+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:13.814 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:04:13.8115089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:23.818 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:04:23.8161823+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:33.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:04:33.8307492+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:43.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:04:43.8372743+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:34:53.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:04:53.8485448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:03.861 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:05:03.8589435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:13.875 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:05:13.8726797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:23.894 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:05:23.8919233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:33.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:05:33.8970491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:43.907 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:05:43.9050277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:35:53.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:05:53.9144183+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:03.933 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:06:03.9307329+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:13.963 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:06:13.9604659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:23.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:06:23.9704812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:33.985 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:06:33.9829641+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:44.095 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T16:06:43.9867994+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:36:54.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:06:54.1119390+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:04.122 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:07:04.1188366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:14.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:07:14.1314363+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:24.151 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:07:24.1489320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:34.155 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:07:34.1526530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:44.165 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:07:44.1627706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:37:54.183 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:07:54.1807396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:38:04.193 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:08:04.1902634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:38:14.200 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:08:14.1979894+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:38:24.214 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:08:24.2113188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:38:34.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:08:34.2308884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:38:44.243 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:08:44.2405144+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:55:39.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:25:39.1494855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:55:46.500 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:55:46.504 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:55:46.505 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 204 null null 5.4818ms
2025-09-29 21:55:46.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - null null
2025-09-29 21:55:46.516 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:55:46.519 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:25:46 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 21:55:46.531 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:25:46 PM'.
2025-09-29 21:55:46.536 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:55:46.539 +05:30 [INF] Route matched with {action = "GetJourney", controller = "Tracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJourney(System.Guid) on controller xbytechat.api.Features.Tracking.Controllers.TrackingController (xbytechat.api).
2025-09-29 21:55:46.556 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__initialCampaignSendLogId_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId", c0."Id", c0."AudienceId", c0."BusinessId", c0."CTAFlowConfigId", c0."CampaignId", c0."CampaignType", c0."CreatedAt", c0."CreatedBy", c0."CtaId", c0."DeletedAt", c0."DeletedBy", c0."DocumentUrl", c0."FollowUpTemplateId", c0."ImageCaption", c0."ImageUrl", c0."IsDeleted", c0."MessageBody", c0."MessageTemplate", c0."Name", c0."PhoneNumberId", c0."Provider", c0."ScheduledAt", c0."SourceCampaignId", c0."Status", c0."TemplateId", c0."TemplateParameters", c0."TemplateSchemaSnapshot", c0."UpdatedAt", c0."VideoUrl", c1."Id", c1."AssignedAgentId", c1."BusinessId", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags"
FROM "CampaignSendLogs" AS c
INNER JOIN "Campaigns" AS c0 ON c."CampaignId" = c0."Id"
LEFT JOIN "Contacts" AS c1 ON c."ContactId" = c1."Id"
WHERE c."Id" = @__initialCampaignSendLogId_0
LIMIT 1
2025-09-29 21:55:46.565 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__contactId_0='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @__8__locals1_campaignId_1='016cd5d0-63e6-43f0-a6c1-05bd4694421d', @__8__locals1_sessionStart_2='2025-09-29T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."CreatedAt"
FROM "CampaignSendLogs" AS c
WHERE c."ContactId" = @__contactId_0 AND c."CampaignId" = @__8__locals1_campaignId_1 AND c."CreatedAt" > @__8__locals1_sessionStart_2
ORDER BY c."CreatedAt"
LIMIT 1
2025-09-29 21:55:46.571 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sentLog_Id_0='561f3396-bac6-4cfe-a2c2-aa4020e9c681', @__sessionStart_1='2025-09-29T11:28:31.2966910Z' (DbType = DateTime), @__sessionEnd_2='2025-09-30T11:28:31.2966910Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ButtonIndex", c."ButtonTitle", c."CampaignId", c."CampaignSendLogId", c."ClickType", c."ClickedAt", c."ContactId", c."Destination", c."Ip", c."RunId", c."UserAgent"
FROM "CampaignClickLogs" AS c
WHERE c."CampaignSendLogId" = @__sentLog_Id_0 AND c."ClickedAt" >= @__sessionStart_1 AND c."ClickedAt" < @__sessionEnd_2
ORDER BY c."ClickedAt"
2025-09-29 21:55:46.574 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.Tracking.DTOs.JourneyResponseDto'.
2025-09-29 21:55:46.577 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api) in 32.6207ms
2025-09-29 21:55:46.580 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingController.GetJourney (xbytechat.api)'
2025-09-29 21:55:46.582 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/journeys/561f3396-bac6-4cfe-a2c2-aa4020e9c681 - 200 null application/json; charset=utf-8 71.8704ms
2025-09-29 21:55:49.172 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:25:49.1699273+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:55:50.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 21:55:50.175 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:55:50.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 7.2747ms
2025-09-29 21:55:50.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 21:55:50.187 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:55:50.189 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:25:50 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 21:55:50.193 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:25:50 PM'.
2025-09-29 21:55:50.195 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 21:55:50.197 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 21:55:50.431 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 231.5039ms
2025-09-29 21:55:50.434 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 21:55:50.460 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Business context missing.
   at xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetBusinessIdOrThrow() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Controllers\CampaignController.cs:line 282
   at xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll(String type) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Controllers\CampaignController.cs:line 44
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-29 21:55:50.504 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 500 null application/json; charset=utf-8 321.6628ms
2025-09-29 21:55:59.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:25:59.1879000+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:09.194 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:26:09.1916648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:19.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:26:19.1993954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:29.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:26:29.2149200+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:39.240 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:26:39.2376747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:49.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:26:49.2479531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:56:59.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:26:59.2602263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:09.279 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:27:09.2776135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:15.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 21:57:15.880 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:57:15.881 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 204 null null 5.3294ms
2025-09-29 21:57:15.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - null null
2025-09-29 21:57:15.893 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:57:15.896 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:27:15 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 21:57:15.899 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:27:15 PM'.
2025-09-29 21:57:15.901 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 21:57:15.902 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 21:57:15.913 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 21:57:15.937 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 31.5664ms
2025-09-29 21:57:15.940 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 21:57:15.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId/summary - 400 null application/problem+json; charset=utf-8 53.2714ms
2025-09-29 21:57:16.338 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 21:57:16.342 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:57:16.343 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 204 null null 5.7099ms
2025-09-29 21:57:16.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - null null
2025-09-29 21:57:16.368 +05:30 [INF] CORS policy execution successful.
2025-09-29 21:57:16.370 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:27:16 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-29 21:57:16.374 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '29-09-2025 03:45:12 PM', Current time (UTC): '29-09-2025 04:27:16 PM'.
2025-09-29 21:57:16.375 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 21:57:16.377 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 21:57:16.380 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 21:57:16.382 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 3.0276ms
2025-09-29 21:57:16.384 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 21:57:16.386 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/:campaignId?page=1&pageSize=10&status=&search= - 400 null application/problem+json; charset=utf-8 21.6264ms
2025-09-29 21:57:19.290 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:27:19.2860117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:29.300 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:27:29.2967590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:39.318 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:27:39.3153281+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:49.345 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:27:49.3427463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:57:59.359 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:27:59.3566222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:09.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:28:09.3806206+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:19.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:28:19.3978054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:29.506 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:28:29.4132303+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:39.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:28:39.5046991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:49.519 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:28:49.5155925+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:58:59.531 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:28:59.5280589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:09.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:29:09.5446424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:19.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:29:19.5560453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:29.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:29:29.5704012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:39.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:29:39.5742493+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:49.590 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:29:49.5873453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 21:59:59.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:29:59.6034718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:09.617 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:30:09.6143472+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:19.634 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:30:19.6312823+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:29.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:30:29.6407256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:39.671 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:30:39.6528691+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:49.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:30:49.6751489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:00:59.699 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:30:59.6955792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:09.736 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:31:09.7334741+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:19.745 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:31:19.7428494+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:29.755 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:31:29.7520794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:39.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:31:39.7625358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:49.779 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:31:49.7767653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:01:59.790 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:31:59.7881563+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:09.807 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:32:09.8037943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:19.818 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:32:19.8152428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:29.833 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:32:29.8296383+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:39.845 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:32:39.8432167+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:49.855 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:32:49.8520111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:02:59.864 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:32:59.8610025+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:03:09.901 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:33:09.8983622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:03:19.920 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:33:19.9173155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:03:30.055 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-29T16:33:29.9291905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:03:40.077 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:33:40.0737270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:03:50.102 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:33:50.0994642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:00.144 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:00.1416762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:10.157 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:10.1541049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:20.165 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:20.1625640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:30.184 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:30.1806322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:40.203 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:40.1998416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:04:50.225 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:34:50.2221927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:00.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:35:00.2385197+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:10.246 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:35:10.2431356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:20.280 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:35:20.2573409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:30.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:35:30.2918946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:40.307 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:35:40.3031989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:05:50.325 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:35:50.3228897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:00.345 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:36:00.3424490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:10.359 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:36:10.3559859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:20.382 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:36:20.3787373+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:30.396 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:36:30.3921580+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:40.417 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:36:40.4138317+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:06:50.439 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:36:50.4366160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:00.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:37:00.4578235+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:10.474 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:37:10.4718706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:20.495 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:37:20.4921328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:30.515 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:37:30.5121809+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:40.527 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:37:40.5237173+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:07:50.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:37:50.5509975+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:00.571 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:38:00.5687259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:10.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:38:10.5836768+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:20.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:38:20.6253158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:30.774 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T16:38:30.6458914+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:40.808 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:38:40.8061749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:08:50.819 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:38:50.8141005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:00.830 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:00.8278345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:10.852 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:10.8488241+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:20.868 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:20.8648924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:30.880 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:30.8774278+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:40.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:40.8888510+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:09:50.927 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:39:50.9242731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:00.940 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:00.9372091+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:10.960 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:10.9566355+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:20.972 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:20.9692903+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:30.982 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:30.9788275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:41.005 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:41.0022875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:10:51.038 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:40:51.0354436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:01.074 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:41:01.0536205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:11.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:41:11.0892119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:21.100 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:41:21.0978477+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:31.114 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:41:31.1105707+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:41.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:41:41.1333870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:11:51.146 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:41:51.1430973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:01.167 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:01.1643905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:08.165 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-29 22:12:08.170 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.0786ms
2025-09-29 22:12:08.179 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-29 22:12:08.183 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.184 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 22:12:08.186 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-29 22:12:08.195 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-29 22:12:08.215 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-29 22:12:08.225 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-29 22:12:08.248 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-29 22:12:08.254 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-29 22:12:08.257 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-29 22:12:08.259 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-29 22:12:08.262 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 22:12:08.264 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 75.1649ms
2025-09-29 22:12:08.266 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-29 22:12:08.268 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 89.3695ms
2025-09-29 22:12:08.277 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 22:12:08.286 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.288 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 10.2539ms
2025-09-29 22:12:08.303 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 22:12:08.307 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.312 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.315 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 22:12:08.323 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-29 22:12:08.333 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 22:12:08.337 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 22:12:08.339 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 20.2766ms
2025-09-29 22:12:08.342 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 41.2203ms
2025-09-29 22:12:08.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 22:12:08.381 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.383 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.0937ms
2025-09-29 22:12:08.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 22:12:08.396 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.398 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.400 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 22:12:08.408 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 22:12:08.414 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 22:12:08.417 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.8597ms
2025-09-29 22:12:08.420 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.5818ms
2025-09-29 22:12:08.537 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-29 22:12:08.544 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:08.547 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.550 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-29 22:12:08.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-29 22:12:08.565 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 22:12:08.569 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.7834ms
2025-09-29 22:12:08.571 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-29 22:12:08.574 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.2754ms
2025-09-29 22:12:11.188 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:11.1849850+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:14.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:14.279 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:14.293 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 20.9087ms
2025-09-29 22:12:14.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:14.325 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:14.327 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:14.329 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 22:12:14.346 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 22:12:14.350 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:12:14.353 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 20.9548ms
2025-09-29 22:12:14.357 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:14.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 37.8864ms
2025-09-29 22:12:20.633 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:20.643 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:20.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 12.6003ms
2025-09-29 22:12:20.657 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:20.662 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:20.665 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:20.667 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 22:12:20.675 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 22:12:20.682 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:12:20.685 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 14.6836ms
2025-09-29 22:12:20.687 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:20.689 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 31.9071ms
2025-09-29 22:12:21.227 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:21.2036571+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:29.804 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:29.810 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:29.812 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 7.8442ms
2025-09-29 22:12:29.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-29 22:12:29.824 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:12:29.826 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:29.828 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-29 22:12:29.835 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-29 22:12:29.842 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:12:29.844 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 12.7675ms
2025-09-29 22:12:29.847 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-29 22:12:29.849 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 30.3045ms
2025-09-29 22:12:31.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:31.2444051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:41.266 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:41.2630032+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:12:51.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:42:51.2752064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:01.289 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:43:01.2864528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:05.930 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 22:13:05.941 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:13:05.944 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 204 null null 14.5677ms
2025-09-29 22:13:05.951 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - null null
2025-09-29 22:13:05.955 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:13:05.957 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 22:13:05.959 +05:30 [INF] Route matched with {action = "GetCampaignSummary", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCampaignSummary(System.Guid) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 22:13:05.971 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int AS "TotalRecipients", count(*) FILTER (WHERE t."SendStatus" <> 'Failed' OR t."SendStatus" IS NULL)::int AS "SentCount", count(*) FILTER (WHERE t."SendStatus" = 'Failed')::int AS "FailedCount", count(*) FILTER (WHERE t."IsClicked")::int AS "ClickedCount", count(*) FILTER (WHERE t."DeliveredAt" IS NOT NULL)::int AS "DeliveredCount", count(*) FILTER (WHERE t."ReadAt" IS NOT NULL)::int AS "ReadCount", max(t."SentAt") AS "LastSentAt"
FROM (
    SELECT c."DeliveredAt", c."IsClicked", c."ReadAt", c."SendStatus", c."SentAt", 1 AS "Key"
    FROM "CampaignSendLogs" AS c
    WHERE c."CampaignId" = @__campaignId_0
) AS t
GROUP BY t."Key"
LIMIT 1
2025-09-29 22:13:05.975 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignTracking.DTOs.CampaignLogSummaryDto'.
2025-09-29 22:13:05.977 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api) in 13.7586ms
2025-09-29 22:13:05.980 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetCampaignSummary (xbytechat.api)'
2025-09-29 22:13:05.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431/summary - 200 null application/json; charset=utf-8 30.642ms
2025-09-29 22:13:06.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 22:13:06.391 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:13:06.393 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 204 null null 7.0759ms
2025-09-29 22:13:06.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - null null
2025-09-29 22:13:06.402 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:13:06.403 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 22:13:06.405 +05:30 [INF] Route matched with {action = "GetLogsByCampaign", controller = "CampaignSendLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLogsByCampaign(System.Guid, System.String, System.String, Int32, Int32) on controller xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController (xbytechat.api).
2025-09-29 22:13:06.417 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CampaignSendLogs" AS c
LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
WHERE c."CampaignId" = @__campaignId_0
2025-09-29 22:13:06.425 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CampaignId", t."ContactId", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE 'N/A'
END AS "ContactName", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."PhoneNumber"
    ELSE '-'
END AS "ContactPhone", t."RecipientNumber", t."RecipientId", t."MessageBody", t."TemplateId", t."SendStatus", t."ErrorMessage", t."CreatedAt", t."SentAt", t."DeliveredAt", t."ReadAt", t."SourceChannel", t."IsClicked", t."ClickedAt", t."ClickType"
FROM (
    SELECT c."Id", c."CampaignId", c."ClickType", c."ClickedAt", c."ContactId", c."CreatedAt", c."DeliveredAt", c."ErrorMessage", c."IsClicked", c."MessageBody", c."ReadAt", c."RecipientId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", m."RecipientNumber"
    FROM "CampaignSendLogs" AS c
    LEFT JOIN "MessageLogs" AS m ON c."MessageLogId" = m."Id"
    WHERE c."CampaignId" = @__campaignId_0
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN "Contacts" AS c0 ON t."ContactId" = c0."Id"
ORDER BY t."CreatedAt" DESC
2025-09-29 22:13:06.430 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.CRM.Dtos.PagedResult`1[[xbytechat.api.Features.CampaignTracking.DTOs.CampaignSendLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:13:06.432 +05:30 [INF] Executed action xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api) in 24.2747ms
2025-09-29 22:13:06.434 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignTracking.Controllers.CampaignSendLogController.GetLogsByCampaign (xbytechat.api)'
2025-09-29 22:13:06.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign-logs/campaign/77e1ec21-0d24-4156-b4e7-945590ebd431?page=1&pageSize=10&status=&search= - 200 null application/json; charset=utf-8 37.6594ms
2025-09-29 22:13:11.325 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:43:11.3203557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:21.340 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:43:21.3378646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:31.534 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='2025-09-29T16:43:31.3491324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:41.548 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:43:41.5454406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:13:51.570 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:43:51.5669502+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:01.579 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:44:01.5757789+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:11.597 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:44:11.5947942+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:21.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:44:21.6049687+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:31.643 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:44:31.6406749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:41.657 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:44:41.6540374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:14:51.679 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:44:51.6753418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:01.723 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:45:01.7208115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:11.732 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:45:11.7291188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:21.781 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__now_0='2025-09-29T16:45:21.7636254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:27.891 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:15:27.898 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:27.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 8.7975ms
2025-09-29 22:15:27.905 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 22:15:27.909 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:27.912 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:27.914 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:15:27.949 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:27.6560000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:15:27.957 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:27.6560000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:15:27.961 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:15:27.964 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 45.6883ms
2025-09-29 22:15:27.967 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:27.969 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 63.4078ms
2025-09-29 22:15:31.807 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:45:31.8035216+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:36.907 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:15:36.914 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:36.916 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 9.2056ms
2025-09-29 22:15:36.921 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 22:15:36.928 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:36.941 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:36.944 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:15:36.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:15:36.962 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:15:36.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:15:36.970 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 23.746ms
2025-09-29 22:15:36.973 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:36.976 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 54.3357ms
2025-09-29 22:15:41.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:45:41.8168729+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:15:45.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:15:45.723 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:45.724 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 6.5423ms
2025-09-29 22:15:45.730 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 156
2025-09-29 22:15:45.737 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:45.739 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:45.742 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:15:45.767 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:15:45.778 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:15:45.783 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:15:45.787 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 38.3145ms
2025-09-29 22:15:45.791 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:45.794 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 63.5159ms
2025-09-29 22:15:46.915 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 167
2025-09-29 22:15:46.920 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:15:46.922 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:46.923 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:15:46.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:15:46.962 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-08-30T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T16:45:36.6890000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:15:46.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:15:46.968 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 41.334ms
2025-09-29 22:15:46.971 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:15:46.973 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 57.2423ms
2025-09-29 22:15:51.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:45:51.8384908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:01.864 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:01.8607377+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:11.873 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:11.8706068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:21.890 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:21.8864858+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:31.904 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:31.9010158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:41.947 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:41.9448579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:16:51.964 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:46:51.9608026+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:01.997 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:01.9743567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:12.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:12.0057090+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:22.031 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:22.0283448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:32.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:32.0487313+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:42.060 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:42.0569937+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:17:52.069 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:47:52.0660998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:02.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-29T16:48:02.0783487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:12.097 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:48:12.0941867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:22.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:48:22.1113385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:32.284 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T16:48:32.1600774+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:42.307 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:48:42.3045114+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:18:52.328 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:48:52.3260724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:02.346 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:49:02.3425646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:12.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:49:12.3771133+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:22.401 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:49:22.3989181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:32.421 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:49:32.4181847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:42.462 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:49:42.4412149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:19:52.481 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:49:52.4776857+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:02.510 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:50:02.4885618+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:12.525 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:50:12.5209697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:22.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:50:22.5507259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:32.565 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:50:32.5620681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:42.580 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:50:42.5764977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:20:52.598 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:50:52.5950095+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:02.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:51:02.6167633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:12.629 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:51:12.6269219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:22.659 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:51:22.6370366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:32.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:51:32.7081778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:42.739 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:51:42.7170490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:21:52.763 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:51:52.7604818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:02.799 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:52:02.7961846+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:12.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:52:12.8178486+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:22.843 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:52:22.8402055+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:32.871 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:52:32.8683223+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:42.902 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:52:42.8784850+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:22:52.918 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:52:52.9144588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:02.958 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:53:02.9359075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:12.976 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:53:12.9728144+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:23.011 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:53:23.0065081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:33.152 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T16:53:33.0277358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:43.172 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:53:43.1686071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:23:53.189 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:53:53.1861127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:03.211 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:03.2085232+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:13.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:13.2204760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:23.262 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:23.2403501+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:33.292 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:33.2693597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:43.312 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:43.3094938+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:24:53.342 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:54:53.3209661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:03.351 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:03.3478414+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:13.389 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:13.3843354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:23.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:23.4045283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:33.441 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:33.4380784+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:43.477 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:43.4644228+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:25:53.494 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:55:53.4915467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:03.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:56:03.5023733+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:13.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:56:13.5224351+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:23.551 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:56:23.5486390+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:33.574 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:56:33.5708053+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:43.590 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:56:43.5866035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:26:53.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:56:53.5955149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:03.616 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:03.6113861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:13.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:13.6305244+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:23.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:23.6487606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:33.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:33.6687805+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:43.687 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:43.6847079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:27:53.720 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:57:53.7166001+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:03.732 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:58:03.7288478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:13.760 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:58:13.7563277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:23.778 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:58:23.7748211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:33.927 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-29T16:58:33.7979301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:43.938 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:58:43.9348552+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:28:53.959 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:58:53.9558146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:03.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:59:03.9918804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:14.011 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:59:14.0076007+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:24.026 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:59:24.0227880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:34.050 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:59:34.0465518+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:44.076 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T16:59:44.0727223+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:29:54.124 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T16:59:54.1211500+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:04.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:00:04.1308622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:14.157 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:00:14.1532124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:24.167 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:00:24.1629017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:34.179 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:00:34.1756468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:44.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:00:44.1986234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:30:54.234 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:00:54.2307732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:04.244 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:04.2409646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:14.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:14.2533544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:24.272 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:24.2690434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:34.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:34.2818548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:44.314 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:44.3109807+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:31:54.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:01:54.3522559+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:04.370 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:04.3663276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:14.381 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:14.3781433+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:24.415 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:24.4121677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:34.449 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:34.4464962+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:44.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:44.4583128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:32:54.474 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:02:54.4708745+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:04.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:03:04.4878136+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:14.507 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:03:14.5039454+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:24.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:03:24.5330015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:34.691 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T17:03:34.5426353+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:44.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:03:44.7307957+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:33:54.746 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:03:54.7419656+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:04.777 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:04.7740303+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:14.785 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:14.7827231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:24.795 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:24.7928160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:34.807 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:34.8038172+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:44.829 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:44.8256549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:34:54.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:04:54.8381567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:04.881 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:05:04.8786900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:14.891 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:05:14.8883847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:24.920 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='2025-09-29T17:05:24.8979542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:34.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:05:34.9478188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:44.970 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:05:44.9672152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:35:54.982 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:05:54.9789820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:05.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:05.0098434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:15.041 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:15.0191052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:25.061 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:25.0580132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:35.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:35.0787286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:45.100 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:45.0970599+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:36:55.118 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:06:55.1152431+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:05.135 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:07:05.1318521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:15.159 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:07:15.1560238+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:25.167 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:07:25.1645739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:35.184 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:07:35.1812148+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:45.207 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:07:45.2036529+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:37:55.216 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:07:55.2129958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:05.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:08:05.2455844+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:15.268 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:08:15.2647669+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:25.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:08:25.2817781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:35.412 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T17:08:35.2912569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:45.436 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:08:45.4309003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:38:55.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:08:55.4505189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:05.466 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:09:05.4634358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:15.487 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:09:15.4840388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:25.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:09:25.5032535+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:35.528 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-29T17:09:35.5190688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:45.551 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:09:45.5450944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:39:55.578 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:09:55.5758676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:05.601 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:05.5988614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:15.610 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:15.6064271+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:25.639 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:25.6360710+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:35.663 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:35.6605570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:45.693 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:45.6784955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:40:55.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:10:55.7196799+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:05.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:11:05.7301748+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:15.756 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:11:15.7527951+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:25.802 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:11:25.7990309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:35.828 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:11:35.8250078+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:45.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:11:45.8535125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:41:55.871 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:11:55.8690404+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:05.889 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:05.8863781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:15.910 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:15.9072702+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:25.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:25.9228294+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:35.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:35.9491213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:45.968 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:45.9654690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:42:55.982 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:12:55.9797384+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:06.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:13:05.9988528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:16.037 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:13:16.0347332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:26.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:13:26.0554875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:36.192 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T17:13:36.0657619+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:46.204 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:13:46.2012810+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:43:56.221 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:13:56.2183530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:06.241 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:14:06.2376386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:16.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:14:16.2530194+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:26.263 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:44:26.267 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:14:26.2627230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:26.270 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:44:26.275 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 12.1745ms
2025-09-29 22:44:26.281 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 167
2025-09-29 22:44:26.284 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:44:26.287 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:44:26.289 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:44:26.306 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-29T17:14:26.0110000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:14:26.0110000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:44:26.314 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-29T17:14:26.0110000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:14:26.0110000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:44:26.318 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:44:26.320 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 26.3698ms
2025-09-29 22:44:26.322 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:44:26.324 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 43.5096ms
2025-09-29 22:44:36.286 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:14:36.2832796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:46.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:14:46.2906558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:44:56.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:14:56.3058429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:06.332 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:15:06.3295434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:16.353 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:15:16.3499457+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:26.370 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:15:26.3667602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:36.413 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:15:36.3916234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:46.426 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:15:46.4230445+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:45:56.449 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:15:56.4452732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:06.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:06.4973917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:16.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:16.5327841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:26.557 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:26.5543037+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:36.576 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:36.5728808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:46.591 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:46.5876560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:46:56.625 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:16:56.6221217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:06.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:06.6306058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:16.647 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:16.6450128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:26.661 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:26.6585056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:36.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:36.6716042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:46.691 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:46.6888017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:47:56.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:17:56.7031430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:06.728 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:18:06.7248945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:16.742 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:18:16.7387605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:26.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:18:26.7541434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:36.922 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-29T17:18:36.7777491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:46.937 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:18:46.9350233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:48:56.956 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:18:56.9525197+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:06.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:06.9616103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:16.976 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:16.9725640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:26.988 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:26.9859884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:37.000 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:36.9980381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:47.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:47.0157488+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:49:57.034 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:19:57.0312180+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:07.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:07.0497780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:17.064 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:17.0613237+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:27.087 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:27.0840380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:37.099 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:37.0959583+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:47.106 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:47.1034525+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:50:57.128 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:20:57.1251336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:51:04.715 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-29 22:51:04.722 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.724 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - 204 null null 9.5032ms
2025-09-29 22:51:04.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-29 22:51:04.749 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - 404 0 null 11.8067ms
2025-09-29 22:51:04.769 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/sender-ids, Response status code: 404
2025-09-29 22:51:04.785 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-29 22:51:04.793 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.795 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 9.4536ms
2025-09-29 22:51:04.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:51:04.813 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-29 22:51:04.818 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.825 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.826 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 26.6297ms
2025-09-29 22:51:04.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 14.9284ms
2025-09-29 22:51:04.840 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 22:51:04.845 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-29 22:51:04.849 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:04.854 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:04.857 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:04.871 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:51:04.880 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:51:04.885 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:04.889 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 28.4817ms
2025-09-29 22:51:04.892 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:04.894 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 54.2121ms
2025-09-29 22:51:07.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:21:07.1330966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:51:08.455 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-29 22:51:08.462 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:08.464 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:08.467 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:08.481 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:08.493 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:08.501 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:08.505 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 34.7893ms
2025-09-29 22:51:08.509 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:08.511 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 55.2931ms
2025-09-29 22:51:09.404 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 156
2025-09-29 22:51:09.410 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:09.412 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:09.414 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:09.424 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:09.438 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:09.442 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:09.445 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 27.0988ms
2025-09-29 22:51:09.448 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:09.451 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 46.6789ms
2025-09-29 22:51:13.397 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:51:13.406 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:13.408 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 11.6412ms
2025-09-29 22:51:13.414 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-29 22:51:13.418 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:13.420 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:13.422 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:13.451 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:13.466 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:13.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:13.475 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 49.3521ms
2025-09-29 22:51:13.477 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:13.480 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 65.5663ms
2025-09-29 22:51:14.720 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 153
2025-09-29 22:51:14.725 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:14.727 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:14.730 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:14.740 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:14.752 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:14.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:14.761 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 26.7492ms
2025-09-29 22:51:14.763 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:14.766 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 46.4415ms
2025-09-29 22:51:16.003 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 178
2025-09-29 22:51:16.008 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:16.010 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:16.013 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:16.022 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:16.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:16.037 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:16.039 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 21.7515ms
2025-09-29 22:51:16.042 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:16.045 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 42.0971ms
2025-09-29 22:51:16.811 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 181
2025-09-29 22:51:16.817 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:16.819 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:16.821 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:16.832 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:16.842 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:16.847 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:16.850 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 25.5665ms
2025-09-29 22:51:16.853 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:16.855 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 44.1024ms
2025-09-29 22:51:17.153 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-29T17:21:17.1491072+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:51:18.128 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 177
2025-09-29 22:51:18.134 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:18.136 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:18.138 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:18.147 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-29 22:51:18.157 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:04.5230000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-29 22:51:18.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:18.164 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 22.7014ms
2025-09-29 22:51:18.167 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:18.169 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 40.8869ms
2025-09-29 22:51:27.161 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:21:27.1580328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:51:37.168 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:21:37.1658317+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-29 22:51:41.637 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-29 22:51:41.643 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:41.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 8.1594ms
2025-09-29 22:51:41.652 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-29 22:51:41.658 +05:30 [INF] CORS policy execution successful.
2025-09-29 22:51:41.660 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:41.663 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-29 22:51:41.670 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:41.4170000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-29 22:51:41.681 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-22T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T17:21:41.4170000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-29 22:51:41.705 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 22:51:41.709 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 42.3596ms
2025-09-29 22:51:41.712 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-29 22:51:41.715 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 62.1ms
2025-09-29 22:51:47.188 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-29T17:21:47.1848187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
