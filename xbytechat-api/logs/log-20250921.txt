2025-09-21 07:24:07.672 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-21 07:24:07.779 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-21 07:24:07.815 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-21 07:24:10.223 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 07:24:11.595 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-21 07:24:11.627 +05:30 [INF] ClickLogWorker started
2025-09-21 07:24:12.150 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-21 07:24:12.152 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-21 07:24:12.156 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-21 07:24:12.157 +05:30 [INF] Hosting environment: Development
2025-09-21 07:24:12.159 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-21 07:24:12.746 +05:30 [INF] ClickLogWorker stopped
2025-09-21 07:24:12.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-21 07:24:13.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 397.248ms
2025-09-21 07:24:13.244 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-21 07:24:13.257 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.074ms
2025-09-21 07:24:13.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-21 07:24:13.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.5194ms
2025-09-21 07:24:13.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-21 07:24:14.386 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 537.9835ms
2025-09-21 07:24:19.946 +05:30 [ERR] An error occurred using the connection to database 'postgresql-databasedwoc84csosgocwocw4csokgs' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-21 07:24:19.946 +05:30 [ERR] An error occurred using the connection to database 'postgresql-databasedwoc84csosgocwocw4csokgs' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-21 07:24:20.044 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:24:20.044 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:24:20.464 +05:30 [ERR] ❌ Failed to clean up old webhook logs.
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.Webhooks.Services.FailedWebhookLogCleanupService.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\FailedWebhookLogCleanupService.cs:line 34
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:24:20.382 +05:30 [ERR] BackgroundService failed
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at xbytechat.api.Features.Webhooks.Services.MaintenanceService.IsAutoCleanupEnabledAsync() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\MaintenanceService.cs:line 17
   at xbytechat.api.Features.Webhooks.BackgroundWorkers.WebhookAutoCleanupWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\BackgroundWorkers\WebhookAutoCleanupWorker.cs:line 23
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:29:20.601 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-21 07:29:20.614 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-21 07:29:20.726 +05:30 [INF] CORS policy execution successful.
2025-09-21 07:29:20.734 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 132.8257ms
2025-09-21 07:29:20.742 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-09-21 07:29:20.763 +05:30 [INF] CORS policy execution successful.
2025-09-21 07:29:20.853 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-21 07:29:20.890 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-21 07:29:21.060 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-09-21 07:29:29.784 +05:30 [ERR] An error occurred using the connection to database 'postgresql-databasedwoc84csosgocwocw4csokgs' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-21 07:29:29.793 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:29:29.975 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 9073.814ms
2025-09-21 07:29:29.983 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-21 07:29:30.226 +05:30 [ERR] ❌ An unhandled exception occurred
Npgsql.PostgresException (0x80004005): 3D000: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at xbytechat.api.AuthModule.Services.AuthService.LoginAsync(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Services\AuthService.cs:line 714
   at xbytechat.api.AuthModule.Controllers.AuthController.Login(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Controllers\AuthController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_15>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 467
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "postgresql-databasedwoc84csosgocwocw4csokgs" does not exist
    File: postinit.c
    Line: 1032
    Routine: InitPostgres
2025-09-21 07:29:30.315 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 500 null application/json; charset=utf-8 9572.514ms
2025-09-21 07:33:12.088 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-21 07:33:12.105 +05:30 [INF] CORS policy execution successful.
2025-09-21 07:33:12.108 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 19.7571ms
2025-09-21 07:33:12.126 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-09-21 07:33:12.132 +05:30 [INF] CORS policy execution successful.
2025-09-21 07:33:12.135 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-21 07:33:12.137 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-21 07:33:12.147 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-09-21 07:33:25.386 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-21 07:33:25.473 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-21 07:33:25.497 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-21 07:33:27.182 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 07:33:28.295 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-21 07:33:28.327 +05:30 [INF] ClickLogWorker started
2025-09-21 07:33:28.587 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-21 07:33:28.589 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-21 07:33:28.592 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-21 07:33:28.593 +05:30 [INF] Hosting environment: Development
2025-09-21 07:33:28.595 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-21 07:33:29.406 +05:30 [INF] ClickLogWorker stopped
2025-09-21 07:33:29.468 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-21 07:33:29.713 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 253.9771ms
2025-09-21 07:33:29.738 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-21 07:33:29.755 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 16.2534ms
2025-09-21 07:33:29.873 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-21 07:33:29.928 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.7517ms
2025-09-21 07:33:30.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-21 07:33:30.564 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 381.631ms
2025-09-21 07:33:37.324 +05:30 [INF] Executed DbCommand (250ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-21 07:33:37.324 +05:30 [INF] Executed DbCommand (228ms) [Parameters=[@__cutoff_0='2025-09-14T02:03:25.7026650Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-21 07:33:39.767 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/debug/_dbping - null null
2025-09-21 07:33:39.776 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-21 07:33:39.925 +05:30 [INF] Executing endpoint 'HTTP: GET /api/debug/_dbping'
2025-09-21 07:33:40.200 +05:30 [INF] Setting HTTP status code 200.
2025-09-21 07:33:40.214 +05:30 [INF] Writing value of type '<>f__AnonymousType180`2' as Json.
2025-09-21 07:33:40.225 +05:30 [INF] Executed endpoint 'HTTP: GET /api/debug/_dbping'
2025-09-21 07:33:40.230 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/debug/_dbping - 200 null application/json; charset=utf-8 462.7473ms
2025-09-21 07:33:55.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/debug/db - null null
2025-09-21 07:33:55.024 +05:30 [INF] Executing endpoint 'HTTP: GET /api/debug/db'
2025-09-21 07:33:55.155 +05:30 [INF] Setting HTTP status code 200.
2025-09-21 07:33:55.163 +05:30 [INF] Writing value of type 'String' as Json.
2025-09-21 07:33:55.166 +05:30 [INF] Executed endpoint 'HTTP: GET /api/debug/db'
2025-09-21 07:33:55.173 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/debug/db - 200 null application/json; charset=utf-8 169.3716ms
2025-09-21 08:11:09.455 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null null
2025-09-21 08:11:09.457 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null null
2025-09-21 08:11:09.464 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:09.464 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:09.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 204 null null 10.1406ms
2025-09-21 08:11:09.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 204 null null 16.8877ms
2025-09-21 08:11:09.480 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null 0
2025-09-21 08:11:09.477 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null 0
2025-09-21 08:11:09.488 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:09.491 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:09.565 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-21 08:11:09.565 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-21 08:11:09.609 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-09-21 08:11:09.609 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-09-21 08:11:09.615 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-21 08:11:09.615 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-21 08:11:09.619 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-21 08:11:09.619 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-21 08:11:09.621 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 401 0 null 144.1959ms
2025-09-21 08:11:09.622 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 401 0 null 144.8554ms
2025-09-21 08:11:19.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null null
2025-09-21 08:11:19.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null null
2025-09-21 08:11:19.681 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:19.684 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:19.685 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 204 null null 7.5687ms
2025-09-21 08:11:19.686 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 204 null null 7.7334ms
2025-09-21 08:11:19.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null 0
2025-09-21 08:11:19.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - null 0
2025-09-21 08:11:19.694 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:19.696 +05:30 [INF] CORS policy execution successful.
2025-09-21 08:11:19.697 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-21 08:11:19.697 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-21 08:11:19.700 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-09-21 08:11:19.702 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'Mqp29gYhbjgj24npRd5MYXUEfSN6RPDJzFpaIAzVgxU'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-09-21 08:11:19.704 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-21 08:11:19.704 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-21 08:11:19.705 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-21 08:11:19.706 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-21 08:11:19.707 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 401 0 null 18.3146ms
2025-09-21 08:11:19.708 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/hubs/inbox/negotiate?access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MjhhYmQ2Zi03MzQ2LTQ0YTAtYmFiYS1iNDEwZjkwOGM1ZmEiLCJpZCI6IjUyOGFiZDZmLTczNDYtNDRhMC1iYWJhLWI0MTBmOTA4YzVmYSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTI4YWJkNmYtNzM0Ni00NGEwLWJhYmEtYjQxMGY5MDhjNWZhIiwiZW1haWwiOiJtaWNyb3NvZnRAZ21haWwuY29tIiwibmFtZSI6Ik1pY3Jvc29mdCBJbmMuIiwic3RhdHVzIjoiUHJvZmlsZVBlbmRpbmciLCJCdXNpbmVzc0lkIjoiMDNjY2JjNjItOTVkYi00YjI1LWEzYmUtOTlmNjQzZDk5YzAwIiwiYnVzaW5lc3NJZCI6IjAzY2NiYzYyLTk1ZGItNGIyNS1hM2JlLTk5ZjY0M2Q5OWMwMCIsImNvbXBhbnlOYW1lIjoiTWljcm9zb2Z0IEluYy4iLCJyb2xlIjoiYnVzaW5lc3MiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJidXNpbmVzcyIsInBsYW5faWQiOiI1ZjlmNWRlMS1hMGIyLTQ4YmEtYjAzZC03N2IyNzM0NTYxM2YiLCJwZXJtaXNzaW9ucyI6ImNhbXBhaWduLnZpZXcsbWVzc2FnaW5nLmluYm94LnZpZXcsbWVzc2FnaW5nLnJlcG9ydC52aWV3LG1lc3NhZ2luZy5zZW5kLG1lc3NhZ2luZy5zZW5kLnRlbXBsYXRlLG1lc3NhZ2luZy5zZW5kLnRleHQsbWVzc2FnaW5nLnN0YXR1cy52aWV3IiwiZmVhdHVyZXMiOiJDYW1wYWlnbnMsTWVzc2FnaW5nIiwiaGFzQWxsQWNjZXNzIjoiZmFsc2UiLCJleHAiOjE3NTg0MjYwNjgsImlzcyI6InhieXRlY2hhdC1hcGkiLCJhdWQiOiJ4Ynl0ZWNoYXQtY2xpZW50In0.ojuJ1aoKIsur0qNA40dEuGPhBLei0Qx3EFrGgL8_9gk&negotiateVersion=1 - 401 0 null 18.9818ms
2025-09-21 11:18:07.779 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 11:20:42.929 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 11:20:43.551 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:20:43.566 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 11:20:43.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:20:43.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:20:43.807 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 11:20:43.816 +05:30 [INF] Applying migration '20250920065708_DbInt'.
2025-09-21 11:20:43.954 +05:30 [ERR] Failed executing DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppPhoneNumbers" DROP CONSTRAINT "FK_WhatsAppPhoneNumbers_WhatsAppSettings_WhatsAppSettingEntity~";
2025-09-21 11:25:05.516 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 11:25:06.112 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:25:06.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:25:06.485 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-09-21 11:25:06.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 11:25:06.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 11:25:06.602 +05:30 [INF] Applying migration '20250918092503_NewDatbase'.
2025-09-21 11:25:06.790 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "PerformedByUserId" uuid NOT NULL,
    "PerformedByUserName" text,
    "RoleAtTime" text,
    "ActionType" text NOT NULL,
    "Description" text,
    "IPAddress" text,
    "UserAgent" text,
    "Location" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.795 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutomationFlows" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" text NOT NULL,
    "TriggerKeyword" text NOT NULL,
    "NodesJson" text NOT NULL,
    "EdgesJson" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AutomationFlows" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.800 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutoReplyFlows" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" text NOT NULL,
    "NodesJson" text NOT NULL,
    "EdgesJson" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "TriggerKeyword" text,
    "IsActive" boolean NOT NULL,
    "IndustryTag" text,
    "UseCase" text,
    "IsDefaultTemplate" boolean NOT NULL,
    "Keyword" text,
    CONSTRAINT "PK_AutoReplyFlows" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.804 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutoReplyLogs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "TriggerKeyword" text NOT NULL,
    "TriggerType" text NOT NULL,
    "ReplyContent" text NOT NULL,
    "FlowName" text,
    "MessageLogId" uuid,
    "TriggeredAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AutoReplyLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.806 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignClickDailyAgg" (
    "Id" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "Day" date NOT NULL,
    "ButtonIndex" integer NOT NULL,
    "Clicks" bigint NOT NULL,
    CONSTRAINT "PK_CampaignClickDailyAgg" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.809 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignClickLogs" (
    "Id" uuid NOT NULL,
    "RunId" uuid,
    "CampaignSendLogId" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "ContactId" uuid,
    "ButtonIndex" integer NOT NULL,
    "ButtonTitle" character varying(120) NOT NULL,
    "ClickType" character varying(16) NOT NULL,
    "Destination" character varying(2048) NOT NULL,
    "Ip" character varying(64) NOT NULL,
    "UserAgent" character varying(512) NOT NULL,
    "ClickedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CampaignClickLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.813 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CatalogClickLogs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "ProductId" uuid,
    "UserId" text,
    "UserName" text,
    "UserPhone" text,
    "BotId" text,
    "CategoryBrowsed" text,
    "ProductBrowsed" text,
    "CTAJourney" text,
    "TemplateId" text NOT NULL,
    "RefMessageId" text NOT NULL,
    "ButtonText" text NOT NULL,
    "ClickedAt" timestamp with time zone,
    "CampaignSendLogId" uuid,
    "ContactId" uuid,
    "FollowUpSent" boolean NOT NULL,
    "LastInteractionType" text,
    "MessageLogId" uuid,
    "PlanSnapshot" text,
    "CtaId" uuid,
    "CampaignId" uuid,
    "Source" text NOT NULL,
    CONSTRAINT "PK_CatalogClickLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.817 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ChatSessionStates" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "Mode" text NOT NULL,
    "LastUpdatedAt" timestamp with time zone NOT NULL,
    "UpdatedBy" text,
    CONSTRAINT "PK_ChatSessionStates" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ContactReads" (
    "Id" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "LastReadAt" timestamp with time zone NOT NULL,
    "BusinessId" uuid NOT NULL,
    CONSTRAINT "PK_ContactReads" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.824 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CTADefinitions" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Title" text NOT NULL,
    "ButtonText" text NOT NULL,
    "ButtonType" text NOT NULL,
    "TargetUrl" text NOT NULL,
    "Description" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_CTADefinitions" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.828 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CTAFlowConfigs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "FlowName" character varying(100) NOT NULL,
    "IsActive" boolean NOT NULL,
    "IsPublished" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" text,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_CTAFlowConfigs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.835 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FailedWebhookLogs" (
    "Id" uuid NOT NULL,
    "ErrorMessage" text,
    "SourceModule" text,
    "FailureType" text,
    "RawJson" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_FailedWebhookLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.840 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FeatureAccess" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "FeatureName" character varying(50) NOT NULL,
    "Description" character varying(200) NOT NULL,
    "IsEnabled" boolean NOT NULL,
    "Notes" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "Group" character varying(50) NOT NULL,
    "Plan" text,
    CONSTRAINT "PK_FeatureAccess" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.846 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FeatureMaster" (
    "Id" uuid NOT NULL,
    "FeatureCode" character varying(100) NOT NULL,
    "DisplayName" character varying(100) NOT NULL,
    "Description" character varying(250) NOT NULL,
    "Group" character varying(50) NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_FeatureMaster" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.851 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FlowExecutionLogs" (
    "Id" uuid NOT NULL,
    "RunId" uuid,
    "BusinessId" uuid NOT NULL,
    "StepId" uuid NOT NULL,
    "StepName" text NOT NULL,
    "FlowId" uuid,
    "CampaignSendLogId" uuid,
    "TrackingLogId" uuid,
    "ContactPhone" text,
    "TriggeredByButton" text,
    "TemplateName" text,
    "TemplateType" text,
    "Success" boolean NOT NULL,
    "ErrorMessage" text,
    "RawResponse" text,
    "ExecutedAt" timestamp with time zone NOT NULL,
    "MessageLogId" uuid,
    "ButtonIndex" smallint,
    "RequestId" uuid,
    CONSTRAINT "PK_FlowExecutionLogs" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.855 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Notes" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid,
    "ContactId" uuid,
    "Title" text NOT NULL,
    "Content" text NOT NULL,
    "Source" text NOT NULL,
    "CreatedBy" text NOT NULL,
    "IsPinned" boolean NOT NULL,
    "IsInternal" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "EditedAt" timestamp with time zone,
    CONSTRAINT "PK_Notes" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.859 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Permissions" (
    "Id" uuid NOT NULL,
    "Code" text NOT NULL,
    "Name" text NOT NULL,
    "Group" text,
    "Description" text,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Permissions" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.890 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PlanFeatureMatrix" (
    "Id" uuid NOT NULL,
    "PlanName" character varying(20) NOT NULL,
    "FeatureName" character varying(50) NOT NULL,
    "IsEnabled" boolean NOT NULL,
    CONSTRAINT "PK_PlanFeatureMatrix" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.895 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Plans" (
    "Id" uuid NOT NULL,
    "Code" text NOT NULL,
    "Name" text NOT NULL,
    "Description" text,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Plans" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.899 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Price" numeric NOT NULL,
    "Currency" text NOT NULL,
    "ImageUrl" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "TotalClicks" integer NOT NULL,
    "LastClickedAt" timestamp with time zone,
    "MostClickedCTA" text,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.904 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "QuickReplies" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "OwnerUserId" uuid,
    "Title" character varying(120) NOT NULL,
    "Body" text NOT NULL,
    "TagsCsv" character varying(240),
    "Language" character varying(8),
    "Scope" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (NOW()),
    "CreatedBy" text,
    "UpdatedBy" text,
    CONSTRAINT "PK_QuickReplies" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.909 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reminders" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "Title" text NOT NULL,
    "Description" text,
    "DueAt" timestamp with time zone NOT NULL,
    "Status" text NOT NULL,
    "ReminderType" text,
    "Priority" integer,
    "IsRecurring" boolean NOT NULL,
    "RecurrencePattern" text,
    "SendWhatsappNotification" boolean NOT NULL,
    "LinkedCampaign" text,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    "LastCTAType" text,
    "LastClickedAt" timestamp with time zone,
    "FollowUpSent" boolean NOT NULL,
    CONSTRAINT "PK_Reminders" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.914 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Roles" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Description" text,
    "IsSystemDefined" boolean NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Roles" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.919 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tags" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" text NOT NULL,
    "ColorHex" text,
    "Category" text,
    "Notes" text,
    "IsSystemTag" boolean NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastUsedAt" timestamp with time zone,
    CONSTRAINT "PK_Tags" PRIMARY KEY ("Id")
);
2025-09-21 11:25:06.924 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserFeatureAccess" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "FeatureName" character varying(50) NOT NULL,
    "IsEnabled" boolean NOT NULL,
    "Notes" text,
    "ModifiedByUserId" uuid,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_UserFeatureAccess" PRIMARY KEY ("Id")
);
2025-09-21 11:25:09.839 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WebhookSettings" (
    "Id" uuid NOT NULL,
    "AutoCleanupEnabled" boolean NOT NULL,
    "LastCleanupAt" timestamp with time zone,
    CONSTRAINT "PK_WebhookSettings" PRIMARY KEY ("Id")
);
2025-09-21 11:25:09.843 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WhatsAppTemplates" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Provider" character varying(40) NOT NULL,
    "ExternalId" character varying(120),
    "Name" character varying(160) NOT NULL,
    "Language" character varying(16) NOT NULL,
    "Status" character varying(32) NOT NULL,
    "Category" character varying(40),
    "Body" text NOT NULL,
    "HasImageHeader" boolean NOT NULL,
    "PlaceholderCount" integer NOT NULL,
    "ButtonsJson" text NOT NULL,
    "RawJson" text NOT NULL,
    "LastSyncedAt" timestamp with time zone NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "IsActive" boolean NOT NULL,
    CONSTRAINT "PK_WhatsAppTemplates" PRIMARY KEY ("Id")
);
2025-09-21 11:25:09.849 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutoReplyFlowEdges" (
    "Id" uuid NOT NULL,
    "FlowId" uuid NOT NULL,
    "SourceNodeId" text NOT NULL,
    "TargetNodeId" text NOT NULL,
    "SourceHandle" text,
    "TargetHandle" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AutoReplyFlowEdges" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AutoReplyFlowEdges_AutoReplyFlows_FlowId" FOREIGN KEY ("FlowId") REFERENCES "AutoReplyFlows" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:09.854 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutoReplyFlowNodes" (
    "Id" uuid NOT NULL,
    "FlowId" uuid NOT NULL,
    "NodeType" text NOT NULL,
    "Label" text NOT NULL,
    "NodeName" text,
    "ConfigJson" text NOT NULL,
    "Position_X" double precision NOT NULL,
    "Position_Y" double precision NOT NULL,
    "Order" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AutoReplyFlowNodes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AutoReplyFlowNodes_AutoReplyFlows_FlowId" FOREIGN KEY ("FlowId") REFERENCES "AutoReplyFlows" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:09.859 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AutoReplyRules" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "TriggerKeyword" text NOT NULL,
    "ReplyMessage" text NOT NULL,
    "MediaUrl" text,
    "Priority" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "FlowName" text,
    "FlowId" uuid,
    "IndustryTag" text,
    "SourceChannel" text,
    CONSTRAINT "PK_AutoReplyRules" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AutoReplyRules_AutoReplyFlows_FlowId" FOREIGN KEY ("FlowId") REFERENCES "AutoReplyFlows" ("Id")
);
2025-09-21 11:25:09.864 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CTAFlowSteps" (
    "Id" uuid NOT NULL,
    "CTAFlowConfigId" uuid NOT NULL,
    "TriggerButtonText" text NOT NULL,
    "TriggerButtonType" text NOT NULL,
    "TemplateToSend" text NOT NULL,
    "StepOrder" integer NOT NULL,
    "RequiredTag" text,
    "RequiredSource" text,
    "PositionX" real,
    "PositionY" real,
    "TemplateType" text,
    CONSTRAINT "PK_CTAFlowSteps" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CTAFlowSteps_CTAFlowConfigs_CTAFlowConfigId" FOREIGN KEY ("CTAFlowConfigId") REFERENCES "CTAFlowConfigs" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:09.869 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Businesses" (
    "Id" uuid NOT NULL,
    "CompanyName" text,
    "BusinessName" text NOT NULL,
    "BusinessEmail" text NOT NULL,
    "RepresentativeName" text,
    "CreatedByPartnerId" uuid,
    "Phone" text,
    "CompanyPhone" text,
    "Website" text,
    "Address" text,
    "Industry" text,
    "LogoUrl" text,
    "Status" integer NOT NULL,
    "Tags" text,
    "Source" text,
    "Notes" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" text,
    "IsApproved" boolean NOT NULL,
    "ApprovedBy" text,
    "ApprovedAt" timestamp with time zone,
    "LastLoginAt" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedAt" timestamp with time zone,
    "DeletedBy" text,
    "PlanId" uuid,
    CONSTRAINT "PK_Businesses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Businesses_Plans_PlanId" FOREIGN KEY ("PlanId") REFERENCES "Plans" ("Id")
);
2025-09-21 11:25:12.578 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PlanPermissions" (
    "Id" uuid NOT NULL,
    "PlanId" uuid NOT NULL,
    "PermissionId" uuid NOT NULL,
    "IsActive" boolean NOT NULL,
    "AssignedAt" timestamp with time zone NOT NULL,
    "AssignedBy" text,
    CONSTRAINT "PK_PlanPermissions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PlanPermissions_Permissions_PermissionId" FOREIGN KEY ("PermissionId") REFERENCES "Permissions" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PlanPermissions_Plans_PlanId" FOREIGN KEY ("PlanId") REFERENCES "Plans" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:12.583 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RolePermissions" (
    "Id" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    "PermissionId" uuid NOT NULL,
    "AssignedAt" timestamp with time zone NOT NULL,
    "AssignedBy" text,
    "IsActive" boolean NOT NULL,
    "IsRevoked" boolean NOT NULL,
    CONSTRAINT "PK_RolePermissions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RolePermissions_Permissions_PermissionId" FOREIGN KEY ("PermissionId") REFERENCES "Permissions" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_RolePermissions_Roles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Roles" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:12.587 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FlowButtonLinks" (
    "Id" uuid NOT NULL,
    "ButtonText" text NOT NULL,
    "NextStepId" uuid,
    "ButtonType" text NOT NULL,
    "ButtonSubType" text NOT NULL,
    "ButtonValue" text NOT NULL,
    "CTAFlowStepId" uuid NOT NULL,
    "ButtonIndex" smallint NOT NULL,
    CONSTRAINT "PK_FlowButtonLinks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_FlowButtonLinks_CTAFlowSteps_CTAFlowStepId" FOREIGN KEY ("CTAFlowStepId") REFERENCES "CTAFlowSteps" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:12.592 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BusinessPlanInfos" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Plan" integer NOT NULL,
    "TotalMonthlyQuota" integer NOT NULL,
    "RemainingMessages" integer NOT NULL,
    "QuotaResetDate" timestamp with time zone NOT NULL,
    "WalletBalance" numeric NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BusinessPlanInfos" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BusinessPlanInfos_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:12.598 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Campaigns" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "CampaignId" uuid,
    "SourceCampaignId" uuid,
    "Name" text NOT NULL,
    "MessageTemplate" text NOT NULL,
    "TemplateId" text,
    "MessageBody" text,
    "FollowUpTemplateId" text,
    "CampaignType" text,
    "CtaId" uuid,
    "CTAFlowConfigId" uuid,
    "ScheduledAt" timestamp with time zone,
    "Status" text NOT NULL,
    "CreatedBy" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "DeletedAt" timestamp with time zone,
    "DeletedBy" text,
    "ImageUrl" text,
    "ImageCaption" text,
    "TemplateParameters" text,
    CONSTRAINT "PK_Campaigns" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Campaigns_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Campaigns_CTADefinitions_CtaId" FOREIGN KEY ("CtaId") REFERENCES "CTADefinitions" ("Id"),
    CONSTRAINT "FK_Campaigns_CTAFlowConfigs_CTAFlowConfigId" FOREIGN KEY ("CTAFlowConfigId") REFERENCES "CTAFlowConfigs" ("Id"),
    CONSTRAINT "FK_Campaigns_Campaigns_SourceCampaignId" FOREIGN KEY ("SourceCampaignId") REFERENCES "Campaigns" ("Id")
);
2025-09-21 11:25:15.147 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Contacts" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" character varying(100) NOT NULL,
    "PhoneNumber" character varying(20) NOT NULL,
    "Email" character varying(100),
    "LeadSource" character varying(50),
    "Tags" character varying(200),
    "LastContactedAt" timestamp with time zone,
    "NextFollowUpAt" timestamp with time zone,
    "Notes" character varying(500),
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastCTAInteraction" timestamp with time zone,
    "LastCTAType" text,
    "LastClickedProductId" uuid,
    "IsAutomationPaused" boolean NOT NULL,
    "AssignedAgentId" uuid,
    "IsFavorite" boolean NOT NULL,
    "IsArchived" boolean NOT NULL,
    "Group" text,
    "IsActive" boolean NOT NULL,
    CONSTRAINT "PK_Contacts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Contacts_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:15.154 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid,
    "Name" text NOT NULL,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "RoleId" uuid,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "DeletedAt" timestamp with time zone,
    "RefreshToken" text,
    "RefreshTokenExpiry" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Users_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id"),
    CONSTRAINT "FK_Users_Roles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Roles" ("Id") ON DELETE RESTRICT
);
2025-09-21 11:25:15.162 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WhatsAppSettings" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Provider" character varying(50) NOT NULL,
    "ApiUrl" character varying(500) NOT NULL,
    "ApiKey" character varying(1000) NOT NULL,
    "WhatsAppBusinessNumber" character varying(20),
    "PhoneNumberId" text,
    "WabaId" text,
    "SenderDisplayName" character varying(100),
    "WebhookSecret" character varying(200),
    "WebhookVerifyToken" character varying(200),
    "WebhookCallbackUrl" character varying(1000),
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "Provider_ci" text GENERATED ALWAYS AS (lower("Provider")) STORED,
    CONSTRAINT "PK_WhatsAppSettings" PRIMARY KEY ("Id"),
    CONSTRAINT "AK_WhatsAppSettings_BusinessId_Provider" UNIQUE ("BusinessId", "Provider"),
    CONSTRAINT "FK_WhatsAppSettings_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:15.168 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignButtons" (
    "Id" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "Title" text NOT NULL,
    "Type" text NOT NULL,
    "Value" text NOT NULL,
    "Position" integer NOT NULL,
    "IsFromTemplate" boolean NOT NULL,
    CONSTRAINT "PK_CampaignButtons" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CampaignButtons_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:17.893 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignFlowOverrides" (
    "Id" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "TemplateName" character varying(100) NOT NULL,
    "ButtonText" character varying(50) NOT NULL,
    "OverrideNextTemplate" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" text,
    CONSTRAINT "PK_CampaignFlowOverrides" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CampaignFlowOverrides_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:17.899 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignRecipients" (
    "Id" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "Status" text NOT NULL,
    "SentAt" timestamp with time zone,
    "BotId" text,
    "MessagePreview" text,
    "ClickedCTA" text,
    "CategoryBrowsed" text,
    "ProductBrowsed" text,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "IsAutoTagged" boolean NOT NULL,
    "BusinessId" uuid NOT NULL,
    CONSTRAINT "PK_CampaignRecipients" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CampaignRecipients_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CampaignRecipients_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CampaignRecipients_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:17.904 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ContactTags" (
    "Id" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "TagId" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "AssignedAt" timestamp with time zone NOT NULL,
    "AssignedBy" text,
    CONSTRAINT "PK_ContactTags" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ContactTags_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ContactTags_Tags_TagId" FOREIGN KEY ("TagId") REFERENCES "Tags" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:17.910 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "LeadTimelines" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ContactId" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "EventType" text NOT NULL,
    "Description" text NOT NULL,
    "Data" text,
    "ReferenceId" uuid,
    "IsSystemGenerated" boolean NOT NULL,
    "CreatedBy" text NOT NULL,
    "Source" text,
    "Category" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CTAType" text,
    "CTASourceType" text,
    "CTASourceId" uuid,
    CONSTRAINT "PK_LeadTimelines" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_LeadTimelines_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_LeadTimelines_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:17.916 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MessageLogs" (
    "Id" uuid NOT NULL,
    "MessageId" text,
    "RunId" uuid,
    "BusinessId" uuid NOT NULL,
    "RecipientNumber" text NOT NULL,
    "MessageContent" text NOT NULL,
    "MediaUrl" text,
    "Status" text NOT NULL,
    "ErrorMessage" text,
    "RawResponse" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "SentAt" timestamp with time zone,
    "ContactId" uuid,
    "CampaignId" uuid,
    "CTAFlowConfigId" uuid,
    "CTAFlowStepId" uuid,
    "FlowVersion" integer,
    "ButtonBundleJson" text,
    "IsIncoming" boolean NOT NULL,
    "RenderedBody" text,
    "RefMessageId" uuid,
    "Source" text,
    "MessageTime" timestamp with time zone GENERATED ALWAYS AS (COALESCE("SentAt", "CreatedAt")) STORED,
    CONSTRAINT "PK_MessageLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_MessageLogs_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_MessageLogs_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_MessageLogs_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id")
);
2025-09-21 11:25:20.270 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MessageStatusLogs" (
    "Id" uuid NOT NULL,
    "RecipientNumber" text NOT NULL,
    "CustomerProfileName" text,
    "MessageId" text,
    "Status" text NOT NULL,
    "MessageType" text NOT NULL,
    "TemplateName" text,
    "TemplateCategory" text,
    "Channel" text NOT NULL,
    "IsSessionOpen" boolean NOT NULL,
    "MetaTimestamp" bigint,
    "SentAt" timestamp with time zone,
    "DeliveredAt" timestamp with time zone,
    "ReadAt" timestamp with time zone,
    "ErrorMessage" text,
    "ErrorCode" integer,
    "RawPayload" text,
    "CampaignId" uuid,
    "BusinessId" uuid,
    "UserId" uuid,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_MessageStatusLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_MessageStatusLogs_Businesses_BusinessId" FOREIGN KEY ("BusinessId") REFERENCES "Businesses" ("Id"),
    CONSTRAINT "FK_MessageStatusLogs_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id"),
    CONSTRAINT "FK_MessageStatusLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-09-21 11:25:20.276 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserPermissions" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "PermissionId" uuid NOT NULL,
    "IsGranted" boolean NOT NULL,
    "AssignedAt" timestamp with time zone NOT NULL,
    "AssignedBy" text,
    "IsRevoked" boolean NOT NULL,
    CONSTRAINT "PK_UserPermissions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserPermissions_Permissions_PermissionId" FOREIGN KEY ("PermissionId") REFERENCES "Permissions" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserPermissions_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:20.282 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "WhatsAppPhoneNumbers" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Provider" character varying(50) NOT NULL,
    "PhoneNumberId" text NOT NULL,
    "WhatsAppBusinessNumber" text NOT NULL,
    "SenderDisplayName" text,
    "IsActive" boolean NOT NULL,
    "IsDefault" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_WhatsAppPhoneNumbers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_WhatsAppPhoneNumbers_WhatsAppSettings_BusinessId_Provider" FOREIGN KEY ("BusinessId", "Provider") REFERENCES "WhatsAppSettings" ("BusinessId", "Provider") ON DELETE CASCADE
);
2025-09-21 11:25:20.288 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignSendLogs" (
    "Id" uuid NOT NULL,
    "RunId" uuid,
    "MessageId" text,
    "CampaignId" uuid NOT NULL,
    "ContactId" uuid NOT NULL,
    "RecipientId" uuid NOT NULL,
    "MessageBody" text NOT NULL,
    "TemplateId" text,
    "SendStatus" text,
    "ErrorMessage" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" text,
    "SentAt" timestamp with time zone,
    "DeliveredAt" timestamp with time zone,
    "ReadAt" timestamp with time zone,
    "IpAddress" text,
    "DeviceInfo" text,
    "MacAddress" text,
    "SourceChannel" text,
    "DeviceType" text,
    "Browser" text,
    "Country" text,
    "City" text,
    "IsClicked" boolean NOT NULL,
    "ClickedAt" timestamp with time zone,
    "ClickType" text,
    "RetryCount" integer NOT NULL,
    "LastRetryAt" timestamp with time zone,
    "LastRetryStatus" text,
    "AllowRetry" boolean NOT NULL,
    "MessageLogId" uuid,
    "BusinessId" uuid NOT NULL,
    "CTAFlowConfigId" uuid,
    "CTAFlowStepId" uuid,
    "ButtonBundleJson" text,
    "UserId" uuid,
    CONSTRAINT "PK_CampaignSendLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CampaignSendLogs_CampaignRecipients_RecipientId" FOREIGN KEY ("RecipientId") REFERENCES "CampaignRecipients" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CampaignSendLogs_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CampaignSendLogs_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CampaignSendLogs_MessageLogs_MessageLogId" FOREIGN KEY ("MessageLogId") REFERENCES "MessageLogs" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CampaignSendLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-09-21 11:25:22.428 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TrackingLogs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "ContactId" uuid,
    "ContactPhone" text,
    "SourceType" text NOT NULL,
    "SourceId" uuid,
    "CampaignId" uuid,
    "CampaignSendLogId" uuid,
    "ButtonText" text,
    "CTAType" text,
    "MessageId" text,
    "TemplateId" text,
    "MessageLogId" uuid,
    "ClickedVia" text,
    "Referrer" text,
    "ClickedAt" timestamp with time zone NOT NULL,
    "IPAddress" text,
    "DeviceType" text,
    "Browser" text,
    "Country" text,
    "City" text,
    "FollowUpSent" boolean NOT NULL,
    "LastInteractionType" text,
    "SessionId" uuid,
    "ThreadId" uuid,
    "StepId" uuid,
    CONSTRAINT "PK_TrackingLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_TrackingLogs_CampaignSendLogs_CampaignSendLogId" FOREIGN KEY ("CampaignSendLogId") REFERENCES "CampaignSendLogs" ("Id"),
    CONSTRAINT "FK_TrackingLogs_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id"),
    CONSTRAINT "FK_TrackingLogs_Contacts_ContactId" FOREIGN KEY ("ContactId") REFERENCES "Contacts" ("Id"),
    CONSTRAINT "FK_TrackingLogs_MessageLogs_MessageLogId" FOREIGN KEY ("MessageLogId") REFERENCES "MessageLogs" ("Id")
);
2025-09-21 11:25:22.434 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('0485154c-dde5-4732-a7aa-a379c77a5b27', 'messaging.send.template', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.send.template', 'Messaging', TRUE, 'messaging.send.template');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('0dedac5b-81c8-44c3-8cfe-76c58e29c6db', 'automation_trigger_test', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to to trigger manual test', 'Automation', TRUE, 'automation_trigger_test');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('205b87c7-b008-4e51-9fea-798c2dc4f9c2', 'admin.whatsappsettings.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for admin.whatsappsettings.view', 'Admin', TRUE, 'admin.whatsappsettings.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('29461562-ef9c-48c0-a606-482ff57b8f95', 'messaging.send', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.send', 'Messaging', TRUE, 'messaging.send');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000000', 'dashboard.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for dashboard.view', NULL, TRUE, 'dashboard.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000001', 'campaign.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for campaign.view', NULL, TRUE, 'campaign.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000002', 'campaign.create', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for campaign.create', NULL, TRUE, 'campaign.create');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000003', 'campaign.delete', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for campaign.delete', NULL, TRUE, 'campaign.delete');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000004', 'product.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for product.view', NULL, TRUE, 'product.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000005', 'product.create', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for product.create', NULL, TRUE, 'product.create');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000006', 'product.delete', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for product.delete', NULL, TRUE, 'product.delete');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000007', 'contacts.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for contacts.view', NULL, TRUE, 'contacts.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000008', 'tags.edit', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for tags.edit', NULL, TRUE, 'tags.edit');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000009', 'admin.business.approve', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for admin.business.approve', NULL, TRUE, 'admin.business.approve');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000010', 'admin.logs.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for admin.logs.view', NULL, TRUE, 'admin.logs.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000011', 'admin.plans.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to view plan manager', 'Admin', TRUE, 'admin.plans.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000012', 'admin.plans.create', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to create new plans', 'Admin', TRUE, 'admin.plans.create');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000013', 'admin.plans.update', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to update existing plans', 'Admin', TRUE, 'admin.plans.update');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('30000000-0000-0000-0000-000000000014', 'admin.plans.delete', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to delete plans', 'Admin', TRUE, 'admin.plans.delete');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('636b17f2-1c54-4e26-a8cd-dbf561dcb522', 'automation.View.Template.Flow_analytics', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to View Flow AnaLytics', 'Automation', TRUE, 'automation.View.Template.Flow_analytics');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('6e4d3a86-7cf9-4ac2-b8a7-ed10c9f0173d', 'settings.whatsapp.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for users to view & manage WhatsApp Settings', 'Settings', TRUE, 'Settings - WhatsApp View');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('74828fc0-e358-4cfc-b924-13719a0d9f50', 'inbox.menu', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to View Menu', 'Inbox', TRUE, 'inbox.menu');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('74c8034f-d9cb-4a17-8578-a9f765bd845c', 'messaging.report.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.report.view', 'Messaging', TRUE, 'messaging.report.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('7d7cbceb-4ce7-4835-85cd-59562487298d', 'automation.View.TemplatePlusFreetext.Flow', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to View Template + Freetext Flow', 'Automation', TRUE, 'automation.View.TemplatePlusFreetext.Flow');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('821480c6-1464-415e-bba8-066fcb4e7e63', 'automation.menu', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to view automation menu', 'Automation', TRUE, 'automation.menu');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('918a61d0-5ab6-46af-a3d3-41e37b7710f9', 'automation.Create.Template.Flow', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to Create Template Flow', 'Automation', TRUE, 'automation.Create.Template.Flow');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('93c5d5a7-f8dd-460a-8c7b-e3788440ba3a', 'automation.Create.TemplatePlusFreetext.Flow', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to Create Template + Freetext Flow', 'Automation', TRUE, 'automation.Create.TemplatePlusFreetext.Flow');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('974af1f9-3caa-4857-a1a7-48462c389332', 'messaging.send.text', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.send.text', 'Messaging', TRUE, 'messaging.send.text');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('98572fe7-d142-475a-b990-f248641809e2', 'settings.profile.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to Complete Profile', 'Settings', TRUE, 'Complete Profile');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('9ae90cfe-3fea-4307-b024-3083c2728148', 'automation.View.Template.Flow', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to View Template Flow', 'Automation', TRUE, 'automation.View.Template.Flow');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('ad36cdb7-5221-448b-a6a6-c35c9f88d021', 'inbox.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to Inbox View', 'Inbox', TRUE, 'inbox.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('adfa8490-9705-4a36-a86e-d5bff7ddc220', 'automation.View.TemplatePlusFreeText.Flow_analytics', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission to View Templat Plus free text Flow AnaLytics', 'Automation', TRUE, 'automation.View.TemplatePlusFreeText.Flow_analytics');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('bbc5202a-eac9-40bb-aa78-176c677dbf5b', 'messaging.whatsappsettings.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for admin.whatsappsettings.view', 'Messaging', TRUE, 'messaging.whatsappsettings.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('c819f1bd-422d-4609-916c-cc185fe44ab0', 'messaging.status.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.status.view', 'Messaging', TRUE, 'messaging.status.view');
INSERT INTO "Permissions" ("Id", "Code", "CreatedAt", "Description", "Group", "IsActive", "Name")
VALUES ('eecd0fac-223c-4dba-9fa1-2a6e973d61d1', 'messaging.inbox.view', TIMESTAMPTZ '2025-09-13T00:00:00Z', 'Permission for messaging.inbox.view', 'Messaging', TRUE, 'messaging.inbox.view');
2025-09-21 11:25:27.589 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Plans" ("Id", "Code", "CreatedAt", "Description", "IsActive", "Name")
VALUES ('5f9f5de1-a0b2-48ba-b03d-77b27345613f', 'basic', TIMESTAMPTZ '2025-01-01T00:00:00Z', 'Default free plan', TRUE, 'Basic');
2025-09-21 11:25:27.590 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("Id", "CreatedAt", "Description", "IsActive", "IsSystemDefined", "Name")
VALUES ('00000000-0000-0000-0000-000000000001', TIMESTAMPTZ '2025-09-18T09:25:03.080316Z', 'Super Admin', TRUE, FALSE, 'admin');
INSERT INTO "Roles" ("Id", "CreatedAt", "Description", "IsActive", "IsSystemDefined", "Name")
VALUES ('00000000-0000-0000-0000-000000000002', TIMESTAMPTZ '2025-09-18T09:25:03.080316Z', 'Business Partner', TRUE, FALSE, 'partner');
INSERT INTO "Roles" ("Id", "CreatedAt", "Description", "IsActive", "IsSystemDefined", "Name")
VALUES ('00000000-0000-0000-0000-000000000003', TIMESTAMPTZ '2025-09-18T09:25:03.080316Z', 'Reseller Partner', TRUE, FALSE, 'reseller');
INSERT INTO "Roles" ("Id", "CreatedAt", "Description", "IsActive", "IsSystemDefined", "Name")
VALUES ('00000000-0000-0000-0000-000000000004', TIMESTAMPTZ '2025-09-18T09:25:03.080317Z', 'Business Owner', TRUE, FALSE, 'business');
INSERT INTO "Roles" ("Id", "CreatedAt", "Description", "IsActive", "IsSystemDefined", "Name")
VALUES ('00000000-0000-0000-0000-000000000005', TIMESTAMPTZ '2025-09-18T09:25:03.080317Z', 'Staff', TRUE, FALSE, 'staff');
2025-09-21 11:25:27.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "BusinessId", "CreatedAt", "DeletedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiry", "RoleId", "Status")
VALUES ('62858aa2-3a54-4fd5-8696-c343d9af7634', NULL, TIMESTAMPTZ '2025-09-18T09:25:03.080347Z', NULL, 'admin@xbytechat.com', FALSE, 'Super Admin', 'JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk=', NULL, NULL, '00000000-0000-0000-0000-000000000001', 'active');
2025-09-21 11:25:27.612 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AutoReplyFlowEdges_FlowId" ON "AutoReplyFlowEdges" ("FlowId");
2025-09-21 11:25:27.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AutoReplyFlowNodes_FlowId" ON "AutoReplyFlowNodes" ("FlowId");
2025-09-21 11:25:27.616 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AutoReplyRules_FlowId" ON "AutoReplyRules" ("FlowId");
2025-09-21 11:25:27.618 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Businesses_PlanId" ON "Businesses" ("PlanId");
2025-09-21 11:25:27.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_BusinessPlanInfos_BusinessId" ON "BusinessPlanInfos" ("BusinessId");
2025-09-21 11:25:27.622 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignButtons_CampaignId" ON "CampaignButtons" ("CampaignId");
2025-09-21 11:25:27.624 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_CampaignClickDailyAgg_CampaignId_Day_ButtonIndex" ON "CampaignClickDailyAgg" ("CampaignId", "Day", "ButtonIndex");
2025-09-21 11:25:27.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignClickLogs_CampaignId_ButtonIndex" ON "CampaignClickLogs" ("CampaignId", "ButtonIndex");
2025-09-21 11:25:27.627 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignClickLogs_CampaignId_ClickType_ClickedAt" ON "CampaignClickLogs" ("CampaignId", "ClickType", "ClickedAt");
2025-09-21 11:25:28.373 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignClickLogs_CampaignId_ContactId" ON "CampaignClickLogs" ("CampaignId", "ContactId");
2025-09-21 11:25:28.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignFlowOverrides_CampaignId" ON "CampaignFlowOverrides" ("CampaignId");
2025-09-21 11:25:28.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignRecipients_BusinessId" ON "CampaignRecipients" ("BusinessId");
2025-09-21 11:25:28.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignRecipients_CampaignId" ON "CampaignRecipients" ("CampaignId");
2025-09-21 11:25:28.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignRecipients_ContactId" ON "CampaignRecipients" ("ContactId");
2025-09-21 11:25:28.382 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Campaigns_BusinessId" ON "Campaigns" ("BusinessId");
2025-09-21 11:25:28.384 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Campaigns_CTAFlowConfigId" ON "Campaigns" ("CTAFlowConfigId");
2025-09-21 11:25:28.385 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Campaigns_CtaId" ON "Campaigns" ("CtaId");
2025-09-21 11:25:28.387 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Campaigns_SourceCampaignId" ON "Campaigns" ("SourceCampaignId");
2025-09-21 11:25:28.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_Business_MessageId" ON "CampaignSendLogs" ("BusinessId", "MessageId");
2025-09-21 11:25:28.390 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_CampaignId" ON "CampaignSendLogs" ("CampaignId");
2025-09-21 11:25:28.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_ContactId" ON "CampaignSendLogs" ("ContactId");
2025-09-21 11:25:28.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_MessageId" ON "CampaignSendLogs" ("MessageId");
2025-09-21 11:25:28.394 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_MessageLogId" ON "CampaignSendLogs" ("MessageLogId");
2025-09-21 11:25:28.395 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_RecipientId" ON "CampaignSendLogs" ("RecipientId");
2025-09-21 11:25:28.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_RunId" ON "CampaignSendLogs" ("RunId");
2025-09-21 11:25:28.399 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignSendLogs_UserId" ON "CampaignSendLogs" ("UserId");
2025-09-21 11:25:28.401 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ContactReads_ContactId_UserId" ON "ContactReads" ("ContactId", "UserId");
2025-09-21 11:25:28.402 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX ux_contactreads_biz_user_contact ON "ContactReads" ("BusinessId", "UserId", "ContactId");
2025-09-21 11:25:28.404 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Contacts_BusinessId_PhoneNumber" ON "Contacts" ("BusinessId", "PhoneNumber");
2025-09-21 11:25:28.406 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactTags_ContactId" ON "ContactTags" ("ContactId");
2025-09-21 11:25:28.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ContactTags_TagId" ON "ContactTags" ("TagId");
2025-09-21 11:25:29.330 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CTAFlowSteps_CTAFlowConfigId" ON "CTAFlowSteps" ("CTAFlowConfigId");
2025-09-21 11:25:29.332 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_FeatureAccess_BusinessId_FeatureName" ON "FeatureAccess" ("BusinessId", "FeatureName");
2025-09-21 11:25:29.334 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_FlowButtonLinks_CTAFlowStepId" ON "FlowButtonLinks" ("CTAFlowStepId");
2025-09-21 11:25:29.336 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_LeadTimelines_BusinessId" ON "LeadTimelines" ("BusinessId");
2025-09-21 11:25:29.338 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_LeadTimelines_ContactId" ON "LeadTimelines" ("ContactId");
2025-09-21 11:25:29.340 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_Business_MessageId" ON "MessageLogs" ("BusinessId", "MessageId");
2025-09-21 11:25:29.342 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_Business_Recipient" ON "MessageLogs" ("BusinessId", "RecipientNumber");
2025-09-21 11:25:29.343 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_CampaignId" ON "MessageLogs" ("CampaignId");
2025-09-21 11:25:29.345 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_ContactId" ON "MessageLogs" ("ContactId");
2025-09-21 11:25:29.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_MessageId" ON "MessageLogs" ("MessageId");
2025-09-21 11:25:29.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageLogs_RunId" ON "MessageLogs" ("RunId");
2025-09-21 11:25:29.350 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_msglogs_biz_in_contact_msgtime ON "MessageLogs" ("BusinessId", "IsIncoming", "ContactId", "MessageTime");
2025-09-21 11:25:29.351 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageStatusLogs_BusinessId" ON "MessageStatusLogs" ("BusinessId");
2025-09-21 11:25:29.353 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageStatusLogs_CampaignId" ON "MessageStatusLogs" ("CampaignId");
2025-09-21 11:25:29.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MessageStatusLogs_UserId" ON "MessageStatusLogs" ("UserId");
2025-09-21 11:25:29.356 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PlanPermissions_PermissionId" ON "PlanPermissions" ("PermissionId");
2025-09-21 11:25:29.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PlanPermissions_PlanId" ON "PlanPermissions" ("PlanId");
2025-09-21 11:25:29.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_QuickReplies_BusinessId_OwnerUserId_IsActive" ON "QuickReplies" ("BusinessId", "OwnerUserId", "IsActive");
2025-09-21 11:25:29.361 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_QuickReplies_BusinessId_Scope_IsActive" ON "QuickReplies" ("BusinessId", "Scope", "IsActive");
2025-09-21 11:25:29.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_QuickReplies_BusinessId_Scope_IsDeleted_IsActive" ON "QuickReplies" ("BusinessId", "Scope", "IsDeleted", "IsActive");
2025-09-21 11:25:29.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_QuickReplies_OwnerUserId_IsDeleted_IsActive" ON "QuickReplies" ("OwnerUserId", "IsDeleted", "IsActive");
2025-09-21 11:25:30.545 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_QuickReplies_UpdatedAt" ON "QuickReplies" ("UpdatedAt");
2025-09-21 11:25:30.547 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RolePermissions_PermissionId" ON "RolePermissions" ("PermissionId");
2025-09-21 11:25:30.549 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RolePermissions_RoleId" ON "RolePermissions" ("RoleId");
2025-09-21 11:25:30.551 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TrackingLogs_CampaignId" ON "TrackingLogs" ("CampaignId");
2025-09-21 11:25:30.552 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TrackingLogs_CampaignSendLogId" ON "TrackingLogs" ("CampaignSendLogId");
2025-09-21 11:25:30.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TrackingLogs_ContactId" ON "TrackingLogs" ("ContactId");
2025-09-21 11:25:30.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_TrackingLogs_MessageLogId" ON "TrackingLogs" ("MessageLogId");
2025-09-21 11:25:30.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserPermissions_PermissionId" ON "UserPermissions" ("PermissionId");
2025-09-21 11:25:30.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserPermissions_UserId" ON "UserPermissions" ("UserId");
2025-09-21 11:25:30.561 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_BusinessId" ON "Users" ("BusinessId");
2025-09-21 11:25:30.563 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_RoleId" ON "Users" ("RoleId");
2025-09-21 11:25:30.564 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UX_WhatsappPhoneNumbers_Bus_Prov_PhoneId" ON "WhatsAppPhoneNumbers" ("BusinessId", "Provider", "PhoneNumberId");
2025-09-21 11:25:30.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_Business_Provider_IsActive" ON "WhatsAppSettings" ("BusinessId", "Provider", "IsActive");
2025-09-21 11:25:30.567 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_BusinessId" ON "WhatsAppSettings" ("BusinessId");
2025-09-21 11:25:30.569 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_WhatsAppSettings_BusinessId_Provider_ci" ON "WhatsAppSettings" ("BusinessId", "Provider_ci");
2025-09-21 11:25:30.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_Provider_BusinessNumber" ON "WhatsAppSettings" ("Provider", "WhatsAppBusinessNumber");
2025-09-21 11:25:30.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_Provider_CallbackUrl" ON "WhatsAppSettings" ("Provider", "WebhookCallbackUrl");
2025-09-21 11:25:30.573 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_Provider_PhoneNumberId" ON "WhatsAppSettings" ("Provider", "PhoneNumberId");
2025-09-21 11:25:30.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppSettings_Provider_WabaId" ON "WhatsAppSettings" ("Provider", "WabaId");
2025-09-21 11:25:30.576 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppTemplates_BusinessId_Name" ON "WhatsAppTemplates" ("BusinessId", "Name");
2025-09-21 11:25:30.578 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_WhatsAppTemplates_BusinessId_Name_Language_Provider" ON "WhatsAppTemplates" ("BusinessId", "Name", "Language", "Provider");
2025-09-21 11:25:30.580 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppTemplates_BusinessId_Provider" ON "WhatsAppTemplates" ("BusinessId", "Provider");
2025-09-21 11:25:31.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250918092503_NewDatbase', '8.0.18');
2025-09-21 11:25:31.704 +05:30 [INF] Applying migration '20250918113440_addWhatsAppsettingsIndex'.
2025-09-21 11:25:31.797 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppPhoneNumbers" ADD "WhatsAppSettingEntityId" uuid;
2025-09-21 11:25:31.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352028Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 11:25:31.798 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352029Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 11:25:31.798 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352029Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 11:25:31.798 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352029Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 11:25:31.798 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352029Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 11:25:31.799 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:34:39.352047Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 11:25:31.801 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_WhatsAppSettings_BusinessId_Provider" ON "WhatsAppSettings" ("BusinessId", "Provider");
2025-09-21 11:25:31.803 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_WhatsAppPhoneNumbers_WhatsAppSettingEntityId" ON "WhatsAppPhoneNumbers" ("WhatsAppSettingEntityId");
2025-09-21 11:25:31.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppPhoneNumbers" ADD CONSTRAINT "FK_WhatsAppPhoneNumbers_WhatsAppSettings_WhatsAppSettingEntity~" FOREIGN KEY ("WhatsAppSettingEntityId") REFERENCES "WhatsAppSettings" ("Id");
2025-09-21 11:25:31.806 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250918113440_addWhatsAppsettingsIndex', '8.0.18');
2025-09-21 11:25:31.806 +05:30 [INF] Applying migration '20250918115939_addWhatsAppsettingsupdateIndex'.
2025-09-21 11:25:31.890 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831893Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 11:25:31.891 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831894Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 11:25:31.891 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831894Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 11:25:31.891 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831894Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 11:25:31.891 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831894Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 11:25:32.652 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-18T11:59:38.831933Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 11:25:32.652 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250918115939_addWhatsAppsettingsupdateIndex', '8.0.18');
2025-09-21 11:25:32.671 +05:30 [INF] Applying migration '20250920065708_DbInt'.
2025-09-21 11:25:32.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppPhoneNumbers" DROP CONSTRAINT "FK_WhatsAppPhoneNumbers_WhatsAppSettings_WhatsAppSettingEntity~";
2025-09-21 11:25:32.709 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_WhatsAppSettings_BusinessId";
2025-09-21 11:25:32.709 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_WhatsAppSettings_BusinessId_Provider_ci";
2025-09-21 11:25:32.709 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_WhatsAppPhoneNumbers_WhatsAppSettingEntityId";
2025-09-21 11:25:32.710 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppSettings" DROP COLUMN "Provider_ci";
2025-09-21 11:25:32.710 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "WhatsAppPhoneNumbers" DROP COLUMN "WhatsAppSettingEntityId";
2025-09-21 11:25:32.710 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_WhatsAppSettings_BusinessId_Provider" RENAME TO "UX_WhatsAppSettings_BusinessId_Provider";
2025-09-21 11:25:32.710 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Campaigns" ADD "PhoneNumberId" text;
2025-09-21 11:25:32.710 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Campaigns" ADD "Provider" text;
2025-09-21 11:25:32.711 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884322Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 11:25:32.711 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884323Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 11:25:32.711 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884323Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 11:25:32.711 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884323Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 11:25:32.711 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884323Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 11:25:32.712 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T06:57:06.884352Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 11:25:32.712 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250920065708_DbInt', '8.0.18');
2025-09-21 11:25:32.713 +05:30 [INF] Applying migration '20250920081949_InitAmazonLeadsConeDb'.
2025-09-21 11:25:32.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051864Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 11:25:32.747 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051865Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 11:25:33.994 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051865Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 11:25:33.994 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051865Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 11:25:33.995 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051865Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 11:25:33.995 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-20T08:19:48.051899Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 11:25:33.995 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250920081949_InitAmazonLeadsConeDb', '8.0.18');
2025-09-21 11:25:33.996 +05:30 [INF] Applying migration '20250921054809_20250921_CampaignsV2'.
2025-09-21 11:25:34.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Campaigns" ADD "TemplateSchemaSnapshot" jsonb;
2025-09-21 11:25:34.065 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD "AudienceMemberId" uuid;
2025-09-21 11:25:34.065 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD "IdempotencyKey" text;
2025-09-21 11:25:34.065 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD "MaterializedAt" timestamp with time zone;
2025-09-21 11:25:34.065 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD "ResolvedButtonUrlsJson" jsonb;
2025-09-21 11:25:34.066 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD "ResolvedParametersJson" jsonb;
2025-09-21 11:25:34.073 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CampaignVariableMaps" (
    "Id" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "Component" character varying(64) NOT NULL,
    "Index" integer NOT NULL,
    "SourceType" character varying(32) NOT NULL,
    "SourceKey" character varying(128),
    "StaticValue" text,
    "Expression" text,
    "DefaultValue" text,
    "IsRequired" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedByUserId" uuid,
    "BusinessId" uuid NOT NULL,
    CONSTRAINT "PK_CampaignVariableMaps" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CampaignVariableMaps_Campaigns_CampaignId" FOREIGN KEY ("CampaignId") REFERENCES "Campaigns" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:34.078 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CsvBatches" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "FileName" character varying(256),
    "HeadersJson" jsonb,
    "Checksum" character varying(128),
    "RowCount" integer NOT NULL,
    "SkippedCount" integer NOT NULL,
    "Status" character varying(32) NOT NULL,
    "ErrorMessage" text,
    "CreatedByUserId" uuid,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CsvBatches" PRIMARY KEY ("Id")
);
2025-09-21 11:25:34.081 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Audiences" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" character varying(160) NOT NULL,
    "CsvBatchId" uuid,
    "IsDeleted" boolean NOT NULL,
    "CreatedByUserId" uuid,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Audiences" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Audiences_CsvBatches_CsvBatchId" FOREIGN KEY ("CsvBatchId") REFERENCES "CsvBatches" ("Id") ON DELETE SET NULL
);
2025-09-21 11:25:35.409 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CsvRows" (
    "Id" uuid NOT NULL,
    "BatchId" uuid NOT NULL,
    "RowIndex" integer NOT NULL,
    "PhoneRaw" character varying(64),
    "PhoneE164" character varying(32),
    "DataJson" jsonb NOT NULL,
    "ValidationError" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CsvRows" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CsvRows_CsvBatches_BatchId" FOREIGN KEY ("BatchId") REFERENCES "CsvBatches" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:35.414 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AudienceMembers" (
    "Id" uuid NOT NULL,
    "AudienceId" uuid NOT NULL,
    "ContactId" uuid,
    "PhoneRaw" character varying(64),
    "PhoneE164" character varying(32),
    "Name" character varying(160),
    "AttributesJson" jsonb,
    "IsTransientContact" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "PromotedAt" timestamp with time zone,
    "CreatedByUserId" uuid,
    CONSTRAINT "PK_AudienceMembers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AudienceMembers_Audiences_AudienceId" FOREIGN KEY ("AudienceId") REFERENCES "Audiences" ("Id") ON DELETE CASCADE
);
2025-09-21 11:25:35.415 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289853Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 11:25:35.415 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289853Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 11:25:35.415 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289853Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 11:25:35.415 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289853Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 11:25:35.416 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289853Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 11:25:35.416 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T05:48:08.289873Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 11:25:35.418 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CampaignRecipients_AudienceMemberId" ON "CampaignRecipients" ("AudienceMemberId");
2025-09-21 11:25:35.420 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_campaignrecipients_idempotency ON "CampaignRecipients" ("IdempotencyKey");
2025-09-21 11:25:35.421 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_audmember_contact ON "AudienceMembers" ("ContactId");
2025-09-21 11:25:35.423 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX ux_audmember_audience_phone ON "AudienceMembers" ("AudienceId", "PhoneE164");
2025-09-21 11:25:35.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_audiences_biz_deleted ON "Audiences" ("BusinessId", "IsDeleted");
2025-09-21 11:25:35.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Audiences_CsvBatchId" ON "Audiences" ("CsvBatchId");
2025-09-21 11:25:35.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX ux_cvm_campaign_component_index ON "CampaignVariableMaps" ("CampaignId", "Component", "Index");
2025-09-21 11:25:37.187 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_csvbatch_biz_created ON "CsvBatches" ("BusinessId", "CreatedAt");
2025-09-21 11:25:37.189 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_csvbatch_checksum ON "CsvBatches" ("Checksum");
2025-09-21 11:25:37.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX ix_csvrow_phone ON "CsvRows" ("PhoneE164");
2025-09-21 11:25:37.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX ux_csvrow_batch_rowidx ON "CsvRows" ("BatchId", "RowIndex");
2025-09-21 11:25:37.193 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CampaignRecipients" ADD CONSTRAINT "FK_CampaignRecipients_AudienceMembers_AudienceMemberId" FOREIGN KEY ("AudienceMemberId") REFERENCES "AudienceMembers" ("Id") ON DELETE SET NULL;
2025-09-21 11:25:37.194 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250921054809_20250921_CampaignsV2', '8.0.18');
2025-09-21 12:38:03.514 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 12:38:25.662 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 12:38:26.495 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 12:38:26.512 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 12:38:26.644 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 12:38:26.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 12:38:26.774 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 12:38:26.784 +05:30 [INF] Applying migration '20250921070805_20250921_BillingStubs_V1'.
2025-09-21 12:38:26.934 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "ConversationCategory" text;
2025-09-21 12:38:26.935 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "ConversationId" text;
2025-09-21 12:38:26.935 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "ConversationStartedAt" timestamp with time zone;
2025-09-21 12:38:26.936 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "IsChargeable" boolean;
2025-09-21 12:38:26.936 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "PriceAmount" numeric;
2025-09-21 12:38:26.936 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "PriceCurrency" text;
2025-09-21 12:38:26.937 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "Provider" text;
2025-09-21 12:38:26.937 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "MessageLogs" ADD "ProviderMessageId" text;
2025-09-21 12:38:26.939 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Dashboard'
WHERE "Id" = '30000000-0000-0000-0000-000000000000';
2025-09-21 12:38:26.939 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Campaign'
WHERE "Id" = '30000000-0000-0000-0000-000000000001';
2025-09-21 12:38:26.939 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Campaign'
WHERE "Id" = '30000000-0000-0000-0000-000000000002';
2025-09-21 12:38:26.940 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Campaign'
WHERE "Id" = '30000000-0000-0000-0000-000000000003';
2025-09-21 12:38:26.940 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Catalog'
WHERE "Id" = '30000000-0000-0000-0000-000000000004';
2025-09-21 12:38:26.940 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Catalog'
WHERE "Id" = '30000000-0000-0000-0000-000000000005';
2025-09-21 12:38:26.941 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Catalog'
WHERE "Id" = '30000000-0000-0000-0000-000000000006';
2025-09-21 12:38:26.941 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'CRM'
WHERE "Id" = '30000000-0000-0000-0000-000000000007';
2025-09-21 12:38:26.941 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Permissions" SET "Group" = 'Admin'
WHERE "Id" = '30000000-0000-0000-0000-000000000009';
2025-09-21 12:38:26.943 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091428Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 12:38:26.943 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091429Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 12:38:26.944 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091429Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 12:38:26.944 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091429Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 12:38:26.944 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091429Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 12:38:26.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T07:08:04.091455Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 12:38:26.946 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250921070805_20250921_BillingStubs_V1', '8.0.18');
2025-09-21 14:21:28.969 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 14:21:58.747 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 14:21:59.686 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 14:21:59.704 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 14:21:59.844 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 14:21:59.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 14:21:59.992 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 14:22:00.002 +05:30 [INF] Applying migration '20250921085131_20250921_OutboundCampaignQueue'.
2025-09-21 14:22:00.192 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OutboundCampaignJobs" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "CampaignId" uuid NOT NULL,
    "Status" character varying(32) NOT NULL,
    "Attempt" integer NOT NULL,
    "MaxAttempts" integer NOT NULL,
    "NextAttemptAt" timestamp with time zone NOT NULL,
    "LastError" character varying(4000),
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_OutboundCampaignJobs" PRIMARY KEY ("Id")
);
2025-09-21 14:22:00.199 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProviderBillingEvents" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "MessageLogId" uuid,
    "Provider" text NOT NULL,
    "EventType" text NOT NULL,
    "ProviderMessageId" text,
    "ConversationId" text,
    "ConversationCategory" text,
    "IsChargeable" boolean,
    "PriceAmount" numeric,
    "PriceCurrency" text,
    "PayloadJson" text NOT NULL,
    "OccurredAt" timestamp with time zone NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_ProviderBillingEvents" PRIMARY KEY ("Id")
);
2025-09-21 14:22:00.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815077Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 14:22:00.201 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815077Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 14:22:00.201 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815077Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 14:22:00.201 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815078Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 14:22:00.202 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815078Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 14:22:00.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T08:51:29.815113Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 14:22:00.206 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OutboundCampaignJobs_CampaignId" ON "OutboundCampaignJobs" ("CampaignId");
2025-09-21 14:22:00.208 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_OutboundCampaignJobs_Status_NextAttemptAt" ON "OutboundCampaignJobs" ("Status", "NextAttemptAt");
2025-09-21 14:22:00.209 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250921085131_20250921_OutboundCampaignQueue', '8.0.18');
2025-09-21 16:42:36.776 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 16:43:02.167 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-21 16:43:02.960 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 16:43:02.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 16:43:03.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 16:43:03.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-21 16:43:03.365 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-21 16:43:03.374 +05:30 [INF] Applying migration '20250921111238_20250921_ChnagesinAuidencetbl'.
2025-09-21 16:43:03.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CsvRows" RENAME COLUMN "DataJson" TO "RowJson";
2025-09-21 16:43:03.558 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Audiences" ADD "Description" character varying(512);
2025-09-21 16:43:03.559 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Audiences" ADD "UpdatedAt" timestamp with time zone;
2025-09-21 16:43:03.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AudienceMembers" ADD "BusinessId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-09-21 16:43:03.561 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AudienceMembers" ADD "Email" character varying(256);
2025-09-21 16:43:03.561 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AudienceMembers" ADD "IsDeleted" boolean NOT NULL DEFAULT FALSE;
2025-09-21 16:43:03.562 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AudienceMembers" ADD "UpdatedAt" timestamp with time zone;
2025-09-21 16:43:03.563 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588544Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000001';
2025-09-21 16:43:03.564 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588544Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000002';
2025-09-21 16:43:03.564 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588544Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000003';
2025-09-21 16:43:03.564 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588544Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000004';
2025-09-21 16:43:03.565 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Roles" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588544Z'
WHERE "Id" = '00000000-0000-0000-0000-000000000005';
2025-09-21 16:43:03.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = TIMESTAMPTZ '2025-09-21T11:12:37.588567Z'
WHERE "Id" = '62858aa2-3a54-4fd5-8696-c343d9af7634';
2025-09-21 16:43:03.567 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250921111238_20250921_ChnagesinAuidencetbl', '8.0.18');
