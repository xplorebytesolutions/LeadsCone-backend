2025-09-30 07:56:24.341 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 07:56:24.414 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 07:56:24.436 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 07:56:26.079 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 07:56:27.625 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 07:56:27.654 +05:30 [INF] ClickLogWorker started
2025-09-30 07:56:28.022 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 07:56:28.033 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 07:56:28.034 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 07:56:28.036 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 07:56:28.037 +05:30 [INF] Hosting environment: Development
2025-09-30 07:56:28.039 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 07:56:28.053 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__cutoff_0='2025-09-23T02:26:24.6285798Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 07:56:29.069 +05:30 [INF] ClickLogWorker stopped
2025-09-30 07:56:29.975 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 07:56:30.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 343.6039ms
2025-09-30 07:56:30.410 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 07:56:30.411 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 07:56:30.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.2092ms
2025-09-30 07:56:30.486 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.2592ms
2025-09-30 07:56:30.693 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 07:56:31.037 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 343.7083ms
2025-09-30 07:56:32.853 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='2025-09-30T02:26:32.6846223+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:56:38.286 +05:30 [INF] Executed DbCommand (580ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 07:56:38.670 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 07:56:38.919 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 07:56:39.203 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-30 07:56:39.217 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-30 07:56:41.708 +05:30 [INF] Received HTTP response headers after 2458.1825ms - 200
2025-09-30 07:56:41.710 +05:30 [INF] End processing HTTP request after 2510.4026ms - 200
2025-09-30 07:56:42.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:26:42.8608052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:56:42.881 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__providerKey_1='pinnacle'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 07:56:43.776 +05:30 [INF] Executed DbCommand (390ms) [Parameters=[@p1='005f7851-ae6e-4fa9-8f54-beb8cd92276b', @p0='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p3='1821d66c-fb26-4c9c-ae9c-637698927546', @p2='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p5='1a2910fa-84aa-474a-8174-b799c98fbff6', @p4='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p7='1c000849-2790-447f-88a4-f5a19dc96926', @p6='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p9='1d5e446c-321a-4967-af0c-cd0e8d0268e5', @p8='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p11='1df5ec8b-e36d-438d-9bec-e8d4698df64a', @p10='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p13='347871a0-b1f9-49c7-a494-8df146b1a4e6', @p12='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p15='3bbfd722-61cf-445c-9d5f-2a7c672ad813', @p14='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p17='3cef57c5-0397-4ce6-a864-afe4109a7b36', @p16='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p19='40070956-4f23-40d3-a4a1-e23dd483ba02', @p18='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p21='4678725a-14c2-4a7d-9c47-eb5c238a6c7e', @p20='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p23='46cdca2c-1e94-4d83-8e36-bfcec81e2b7e', @p22='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p25='4f385d21-c035-435e-b352-d75b1e276b46', @p24='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p27='5110a9d7-ce2a-491c-98b8-f2c7d84be02b', @p26='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p29='5a12c8cf-76e4-4dc1-a281-77bbb2dbac73', @p28='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p31='6154a579-fab8-4eb9-a1f7-b0f5342aea7b', @p30='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p33='622ed49c-d677-4c6f-a2ab-6cb6ae3d49ff', @p32='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p35='643fd567-51c8-4fc8-9b32-36142aa42264', @p34='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p37='6cb81f1b-a149-48a4-a917-92f7d4ca1233', @p36='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p39='6e18fc61-5c74-4d0c-b2f6-81b8bdec772a', @p38='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p41='741fcb87-6fcd-42f1-bc8f-1a6f821590fa', @p40='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p43='78747243-4856-4560-ab7e-de8c63ae9753', @p42='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p47='9dc1ecc0-27e8-400a-8c2b-3705a332d516', @p44='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p45='{"name":"testing_1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/434020495_817759347145442_7459011205631203997_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=TPeLgqGOc_QQ7kNvwG8ZnAA&_nc_oc=Adlsb8Xopu1DHmzRWaCDR-QTcJywo8gIZ08UpVskHIiyJjRS-VsmECNLvKKD_4sTTrw&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=UMk56IqX2Ax8BHegBZhCFg&oh=01_Q5Aa2gEfiJrCrP7fnmQw7qBqOYu9op513HneMk016pXXaD6NKw&oe=6902CA59"]}},{"type":"BODY","text":"Dear User,\r\nTesting"}],"language":"en","status":"APPROVED","category":"MARKETING","id":"817759340478776"}' (Nullable = false), @p46='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p49='a837c77e-bcd3-4178-b7b9-032bbf63cc51', @p48='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p53='a9b97f70-ab05-492c-975a-7b6ee5eb0e6d', @p50='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p51='{"name":"tempalte_v1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/389521422_865429908351181_4208520018935703846_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=XJ2AtTaAFy8Q7kNvwH0RC7u&_nc_oc=Admvvvv62QCd_hnqZLK38byKxZdZbETcrwkLpS77teOam7OVji4Re8G2qAwdPE2Btgo&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=UMk56IqX2Ax8BHegBZhCFg&oh=01_Q5Aa2gE4jdcAMjHCm4rePN1zGs-hzuR6mE7hjlh1mLglgEqndQ&oe=6902A57D"]}},{"type":"BODY","text":"Dear {{1}},\r\nThe Sale is live Now!!!!!!","example":{"body_text":[["name"]]}}],"language":"en","status":"APPROVED","category":"MARKETING","id":"865429905017848"}' (Nullable = false), @p52='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p55='b9d39738-1b3e-4cd5-824f-20d90829bc27', @p54='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p59='c2ab8631-3dd6-42ce-9252-88b97a6d5a32', @p56='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p57='{"name":"video_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/516018879_2829095420619582_8191240975323859564_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=LQmDN_EQ3iAQ7kNvwFcI6RM&_nc_oc=Adncv6MTgzATdeu1YC3An9uJ2aCqa3F37ZmYcjDtcRmrv2V1jSBI33X7laFqdnCSEzw&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=UMk56IqX2Ax8BHegBZhCFg&oh=01_Q5Aa2gHmcRZhjFXdhPH1oXvmggXkqLmSuXpvBhOgxcmyWt8rPg&oe=690299DB"]}},{"type":"BODY","text":"Hello {{1}}👋\nAapka order successfully deliver ho chuka hai. 🚚✨\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊\nNeeche diye gaye options me se select karke bataye 👇","example":{"body_text":[["No"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","id":"2829095417286249"}' (Nullable = false), @p58='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p61='cc1fbb25-b689-46af-b9ab-dd079b69796b', @p60='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p63='d73052f7-cf7c-41c9-80fd-859b50a8b296', @p62='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p65='d9a658f1-aa9f-402c-8cd8-3e0a6f449c59', @p64='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p67='dd977d94-5945-47fe-9fb2-bd9677b6bacd', @p66='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p69='e0211c6f-8eb7-4292-b62b-813528e7ed8d', @p68='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p71='e4f5ff05-2904-4dac-9d81-e167456a9072', @p70='2025-09-30T02:26:38.7117426Z' (DbType = DateTime), @p73='f1bc02e3-a7a6-44e0-8c00-a2db666f7777', @p72='2025-09-30T02:26:38.7117426Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p0
WHERE "Id" = @p1;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p2
WHERE "Id" = @p3;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p4
WHERE "Id" = @p5;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p6
WHERE "Id" = @p7;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p8
WHERE "Id" = @p9;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p10
WHERE "Id" = @p11;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p12
WHERE "Id" = @p13;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p14
WHERE "Id" = @p15;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p16
WHERE "Id" = @p17;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p18
WHERE "Id" = @p19;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p20
WHERE "Id" = @p21;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p22
WHERE "Id" = @p23;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p24
WHERE "Id" = @p25;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p26
WHERE "Id" = @p27;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p28
WHERE "Id" = @p29;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p30
WHERE "Id" = @p31;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p32
WHERE "Id" = @p33;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p34
WHERE "Id" = @p35;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p36
WHERE "Id" = @p37;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p38
WHERE "Id" = @p39;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p40
WHERE "Id" = @p41;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p42
WHERE "Id" = @p43;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p44, "RawJson" = @p45, "UpdatedAt" = @p46
WHERE "Id" = @p47;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p48
WHERE "Id" = @p49;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p50, "RawJson" = @p51, "UpdatedAt" = @p52
WHERE "Id" = @p53;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p54
WHERE "Id" = @p55;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p56, "RawJson" = @p57, "UpdatedAt" = @p58
WHERE "Id" = @p59;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p60
WHERE "Id" = @p61;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p62
WHERE "Id" = @p63;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p64
WHERE "Id" = @p65;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p66
WHERE "Id" = @p67;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p68
WHERE "Id" = @p69;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p70
WHERE "Id" = @p71;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p72
WHERE "Id" = @p73;
2025-09-30 07:56:43.946 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=3 skipped=31 syncedAt="2025-09-30T02:26:38.7117426Z"
2025-09-30 07:56:43.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 07:56:43.955 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 07:56:43.964 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 07:56:43.965 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 07:56:44.856 +05:30 [INF] Received HTTP response headers after 889.2451ms - 401
2025-09-30 07:56:44.857 +05:30 [INF] End processing HTTP request after 892.8726ms - 401
2025-09-30 07:56:44.861 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 07:56:44.864 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:43.9541916Z"
2025-09-30 07:56:44.866 +05:30 [INF] TemplateSyncWorker: sweep finished in 7187 ms; processed=2; next run ~"2025-09-30T08:26:37.6787099Z"
2025-09-30 07:56:49.069 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 07:56:49.074 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 07:56:49.111 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:49.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 44.8513ms
2025-09-30 07:56:49.117 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 07:56:49.125 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:49.344 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 07:56:49.543 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 07:56:49.639 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 07:56:49.706 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 07:56:49.764 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 07:56:49.858 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 07:56:49.866 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 07:56:49.910 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 07:56:49.912 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 07:56:49.919 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 07:56:49.927 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 375.2778ms
2025-09-30 07:56:49.929 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 07:56:49.933 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 816.0154ms
2025-09-30 07:56:49.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 07:56:49.939 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:49.940 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.4547ms
2025-09-30 07:56:49.947 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 07:56:49.950 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:49.979 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:49.984 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 07:56:49.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 07:56:50.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 07:56:50.022 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 07:56:50.061 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 75.8757ms
2025-09-30 07:56:50.063 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:50.064 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 117.0047ms
2025-09-30 07:56:50.095 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 07:56:50.098 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:50.099 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.1607ms
2025-09-30 07:56:50.103 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 07:56:50.106 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:50.111 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:50.112 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 07:56:50.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 07:56:50.122 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 07:56:50.124 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.2037ms
2025-09-30 07:56:50.126 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:50.127 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.4298ms
2025-09-30 07:56:50.228 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 07:56:50.231 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:50.234 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:50.235 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 07:56:50.247 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 07:56:50.256 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 07:56:50.258 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 20.496ms
2025-09-30 07:56:50.260 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 07:56:50.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.672ms
2025-09-30 07:56:52.871 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:26:52.8679874+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:56:57.165 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 07:56:57.168 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:57.169 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7151ms
2025-09-30 07:56:57.172 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 07:56:57.175 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:56:57.176 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:56:57.180 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:56:57.241 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:26:56.9480000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 07:56:57.260 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:26:56.9480000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 07:56:57.264 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:56:57.273 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 91.4644ms
2025-09-30 07:56:57.274 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:56:57.275 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 102.9861ms
2025-09-30 07:57:02.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:27:02.8761482+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:12.891 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T02:27:12.8863887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:22.900 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:27:22.8977300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:32.905 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:27:32.9028735+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:42.914 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:27:42.9123392+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:52.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:27:52.9243884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:57:55.211 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 07:57:55.213 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.214 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - 204 null null 2.963ms
2025-09-30 07:57:55.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 07:57:55.219 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.220 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - 404 0 null 3.644ms
2025-09-30 07:57:55.224 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/sender-ids, Response status code: 404
2025-09-30 07:57:55.237 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 07:57:55.240 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.241 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 3.7826ms
2025-09-30 07:57:55.244 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 07:57:55.246 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.248 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 3.5683ms
2025-09-30 07:57:55.251 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-30 07:57:55.807 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 07:57:55.809 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.810 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1002ms
2025-09-30 07:57:55.822 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 07:57:55.825 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:57:55.826 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:57:55.828 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:57:55.837 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 07:57:55.844 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 07:57:55.847 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:57:55.849 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 19.2821ms
2025-09-30 07:57:55.851 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:57:55.853 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 31.3518ms
2025-09-30 07:58:02.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:02.9274474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:58:03.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 07:58:03.796 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:58:03.797 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5706ms
2025-09-30 07:58:03.803 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 07:58:03.805 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:58:03.806 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:03.807 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:58:03.867 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:58:03.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:58:03.875 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:58:03.877 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 68.5625ms
2025-09-30 07:58:03.877 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:03.878 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 75.3855ms
2025-09-30 07:58:04.445 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 176
2025-09-30 07:58:04.447 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:58:04.448 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:04.449 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:58:04.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:58:04.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:58:04.460 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:58:04.462 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.0328ms
2025-09-30 07:58:04.463 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:04.464 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.0557ms
2025-09-30 07:58:05.272 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 181
2025-09-30 07:58:05.275 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:58:05.276 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:05.277 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:58:05.282 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:58:05.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:58:05.288 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:58:05.289 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.6232ms
2025-09-30 07:58:05.290 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:05.291 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.4005ms
2025-09-30 07:58:06.170 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 184
2025-09-30 07:58:06.173 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:58:06.174 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:06.175 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:58:06.182 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:58:06.186 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:58:06.187 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:58:06.189 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.7775ms
2025-09-30 07:58:06.190 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:58:06.191 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 20.1352ms
2025-09-30 07:58:12.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:12.9441327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:58:22.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:22.9587696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:58:32.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:32.9716581+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:58:42.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:42.9772366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:58:52.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:28:52.9896238+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:03.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:02.9990154+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:04.243 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 07:59:04.246 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:04.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.3445ms
2025-09-30 07:59:04.249 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 180
2025-09-30 07:59:04.251 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:04.252 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:04.253 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:59:04.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:59:04.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:59:04.262 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:59:04.263 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 8.9162ms
2025-09-30 07:59:04.264 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:04.265 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 15.9616ms
2025-09-30 07:59:05.013 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 181
2025-09-30 07:59:05.016 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:05.017 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:05.018 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:59:05.022 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:59:05.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:59:05.028 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:59:05.029 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.9766ms
2025-09-30 07:59:05.030 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:05.031 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.7435ms
2025-09-30 07:59:13.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:13.0044935+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:14.350 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 07:59:14.352 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:14.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.0913ms
2025-09-30 07:59:14.355 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 180
2025-09-30 07:59:14.357 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:14.358 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:14.359 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:59:14.363 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:59:14.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:59:14.368 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:59:14.369 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 8.9881ms
2025-09-30 07:59:14.370 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:14.371 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.037ms
2025-09-30 07:59:16.338 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 175
2025-09-30 07:59:16.341 +05:30 [INF] CORS policy execution successful.
2025-09-30 07:59:16.342 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:16.343 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 07:59:16.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 07:59:16.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:27:55.1710000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 07:59:16.353 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 07:59:16.354 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.623ms
2025-09-30 07:59:16.355 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 07:59:16.356 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.2595ms
2025-09-30 07:59:23.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:23.0145843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:33.025 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:33.0234840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:43.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:43.0318441+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 07:59:53.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:29:53.0480837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:03.069 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:03.0676855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:13.074 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:13.0724945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:23.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:23.0859629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:33.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:33.0918857+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:43.104 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:43.1029716+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:00:53.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:30:53.1103151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:03.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:31:03.1194688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:13.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:31:13.1270173+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:23.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:31:23.1370403+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:33.208 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:31:33.1506312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:43.222 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:31:43.2205862+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:01:53.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:31:53.2298111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:03.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:03.2394611+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:13.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:13.2470392+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:23.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:23.2557777+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:33.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:33.2648662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:43.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:43.2742717+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:02:53.282 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:32:53.2815406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:03.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:03.2876005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:13.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:13.3066444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:23.325 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:23.3233564+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:33.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:33.3381369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:43.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:43.3538690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:03:53.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:33:53.3663756+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:03.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:34:03.3760212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:13.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:34:13.3823553+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:23.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:34:23.3989614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:27.014 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:04:27.017 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 3.3354ms
2025-09-30 08:04:27.020 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:04:27.027 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:04:27.030 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.032 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.033 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 12.7253ms
2025-09-30 08:04:27.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 6.7131ms
2025-09-30 08:04:27.041 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:04:27.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:04:27.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.048 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 4.5498ms
2025-09-30 08:04:27.051 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:04:27.241 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:04:27.243 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.6879ms
2025-09-30 08:04:27.246 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:04:27.247 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:27.248 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:27.249 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:04:27.256 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:26.9810000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:04:27.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:26.9810000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:04:27.262 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:04:27.263 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.2782ms
2025-09-30 08:04:27.264 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:27.265 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.8872ms
2025-09-30 08:04:31.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:04:31.531 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.532 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.9349ms
2025-09-30 08:04:31.534 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:04:31.536 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.538 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.539 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:04:31.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:04:31.546 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:04:31.547 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.4363ms
2025-09-30 08:04:31.548 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.549 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.4726ms
2025-09-30 08:04:31.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:04:31.602 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.603 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.829ms
2025-09-30 08:04:31.608 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:04:31.611 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.612 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.614 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:04:31.618 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:04:31.622 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:04:31.624 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.9557ms
2025-09-30 08:04:31.625 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.075ms
2025-09-30 08:04:31.669 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:04:31.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:04:31.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:04:31.672 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.674 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.677 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.678 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.679 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 8.8072ms
2025-09-30 08:04:31.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 9.4347ms
2025-09-30 08:04:31.681 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:04:31.684 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:04:31.693 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:04:31.688 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:04:31.704 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:04:31.707 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 17.5834ms
2025-09-30 08:04:31.708 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:04:31.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 41.1384ms
2025-09-30 08:04:31.920 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:04:31.922 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:31.923 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:31.924 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:04:31.928 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:04:31.932 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:04:31.934 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:04:31.935 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.2647ms
2025-09-30 08:04:31.936 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:31.937 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.7905ms
2025-09-30 08:04:33.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:34:33.4183491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:43.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:34:43.4263134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:50.836 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:04:50.839 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:50.840 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7124ms
2025-09-30 08:04:50.843 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:04:50.844 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:50.845 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:50.846 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:04:50.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:04:50.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:04:50.858 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:04:50.859 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.8456ms
2025-09-30 08:04:50.861 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:50.862 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.1014ms
2025-09-30 08:04:52.770 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:04:52.773 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:52.773 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:52.774 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:04:52.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:04:52.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:04:52.785 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:04:52.786 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.3477ms
2025-09-30 08:04:52.787 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:52.788 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.4292ms
2025-09-30 08:04:53.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:34:53.4344580+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:04:54.085 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:04:54.087 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:04:54.088 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:54.089 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:04:54.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:04:54.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:04:54.098 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:04:54.099 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.2177ms
2025-09-30 08:04:54.100 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:04:54.101 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.2224ms
2025-09-30 08:05:00.146 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:05:00.149 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:00.149 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.8077ms
2025-09-30 08:05:00.152 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:05:00.153 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:00.154 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:00.155 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:05:00.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:05:00.163 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:05:00.165 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:05:00.166 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.8676ms
2025-09-30 08:05:00.167 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:00.168 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.8739ms
2025-09-30 08:05:01.343 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:05:01.346 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:01.347 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:01.348 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:05:01.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:05:01.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:05:01.358 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:05:01.359 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.9596ms
2025-09-30 08:05:01.360 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:01.361 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.9089ms
2025-09-30 08:05:02.563 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:05:02.565 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:02.566 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:02.567 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:05:02.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:05:02.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:34:31.6510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:05:02.577 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:05:02.578 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.7604ms
2025-09-30 08:05:02.579 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:02.580 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.4394ms
2025-09-30 08:05:03.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:03.4431020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:13.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:13.4590497+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:23.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:23.4767047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:33.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:33.4912192+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:43.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:43.5028548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:47.211 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 08:05:47.213 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.214 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - 204 null null 2.9691ms
2025-09-30 08:05:47.216 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 08:05:47.218 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.219 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - 404 0 null 2.9983ms
2025-09-30 08:05:47.222 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/sender-ids, Response status code: 404
2025-09-30 08:05:47.248 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:05:47.251 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.252 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 4.4252ms
2025-09-30 08:05:47.257 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:05:47.260 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.262 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 4.919ms
2025-09-30 08:05:47.266 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-30 08:05:47.617 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:05:47.620 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.620 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.6282ms
2025-09-30 08:05:47.626 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:05:47.629 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:47.631 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:47.632 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:05:47.636 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:35:47.1780000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:05:47.643 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:35:47.1780000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:05:47.647 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:05:47.648 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.6262ms
2025-09-30 08:05:47.650 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:47.652 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.5437ms
2025-09-30 08:05:53.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:35:53.5193080+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:05:56.152 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:05:56.154 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:56.155 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.7841ms
2025-09-30 08:05:56.157 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:05:56.159 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:05:56.160 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:56.161 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:05:56.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:35:55.9400000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:05:56.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:35:55.9400000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:05:56.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:05:56.172 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.4297ms
2025-09-30 08:05:56.173 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:05:56.174 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.241ms
2025-09-30 08:06:03.548 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:36:03.5284284+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:06:13.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:36:13.5545881+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:06:15.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 08:06:15.865 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:15.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/sender-ids - 204 null null 4.0402ms
2025-09-30 08:06:15.880 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - null null
2025-09-30 08:06:15.884 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:15.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/sender-ids - 404 0 null 5.4704ms
2025-09-30 08:06:15.892 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/sender-ids, Response status code: 404
2025-09-30 08:06:15.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:06:15.903 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:15.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 4.3643ms
2025-09-30 08:06:15.907 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:06:15.910 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:15.911 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 3.5879ms
2025-09-30 08:06:15.914 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-30 08:06:16.098 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:06:16.100 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:16.101 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.0294ms
2025-09-30 08:06:16.104 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:06:16.106 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:06:16.106 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:06:16.107 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:06:16.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:36:15.8400000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:06:16.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:36:15.8400000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:06:16.115 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:06:16.116 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 8.1511ms
2025-09-30 08:06:16.117 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:06:16.118 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 14.528ms
2025-09-30 08:06:23.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:36:23.5626021+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:06:33.619 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:36:33.5676449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:06:43.633 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:36:43.6315429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:06:53.641 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:36:53.6396149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:03.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:03.6472212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:13.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:13.6647586+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:23.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:23.6783916+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:33.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:33.6933449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:43.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:43.6989605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:07:53.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:37:53.7111244+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:03.717 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:03.7158182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:13.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:13.7172305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:23.731 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:23.7296073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:33.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:33.7356310+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:43.743 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:43.7416124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:08:53.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:38:53.7575193+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:03.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:03.7721354+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:13.780 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:13.7775531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:23.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:23.7877065+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:33.795 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:33.7930468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:43.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:43.8030500+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:09:53.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:39:53.8134020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:03.822 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:40:03.8201519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:13.830 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:40:13.8282578+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:23.837 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:40:23.8353811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:33.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:40:33.8438572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:43.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:40:43.8543092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:10:53.867 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T02:40:53.8642183+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:03.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:41:03.8741201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:13.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:41:13.8814411+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:23.889 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:41:23.8877600+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:33.987 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T02:41:33.8957961+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:44.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:41:44.0024412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:11:54.010 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:41:54.0084688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:04.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:04.0204427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:14.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:14.0418158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:24.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:24.0513904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:34.074 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:34.0724439+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:44.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:44.0908778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:12:54.103 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:42:54.1015924+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:04.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:04.1176253+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:14.135 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:14.1335911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:24.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:24.1516478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:34.172 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:34.1707983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:44.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:44.1864063+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:13:44.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:13:44.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:13:44.221 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:44.223 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:44.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 8.1993ms
2025-09-30 08:13:44.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 8.8315ms
2025-09-30 08:13:44.227 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:13:44.229 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:13:44.231 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:44.233 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:44.234 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 6.9862ms
2025-09-30 08:13:44.234 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 4.9916ms
2025-09-30 08:13:44.237 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:13:44.239 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:13:45.181 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:13:45.183 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:45.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2821ms
2025-09-30 08:13:45.187 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:13:45.189 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:13:45.190 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:13:45.191 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:13:45.201 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:43:44.1760000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:13:45.205 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:43:44.1760000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:13:45.207 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:13:45.209 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.1874ms
2025-09-30 08:13:45.212 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:13:45.213 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 25.5617ms
2025-09-30 08:13:54.194 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:43:54.1924209+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:04.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:04.1969882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:14.222 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:14.2203341+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:24.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:24.2354521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:34.246 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:34.2450693+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:44.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:44.2527271+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:14:54.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:44:54.2554840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:04.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:04.2591675+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:14.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:14.2769048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:24.287 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:24.2859474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:34.299 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:34.2979520+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:44.312 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:44.3103296+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:15:54.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:45:54.3209959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:04.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:46:04.3458583+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:14.363 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:46:14.3611888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:24.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:46:24.3814751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:34.451 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:46:34.3952167+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:44.452 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:46:44.4511672+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:16:54.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:46:54.4590843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:04.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:04.4743839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:14.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:14.4890769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:24.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:24.4976970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:34.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:34.5061945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:44.523 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:44.5220998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:17:54.539 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:47:54.5372979+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:04.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:04.5533279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:14.560 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:14.5589100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:24.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:24.5696736+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:34.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:34.5841149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:44.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:44.6004764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:18:54.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:48:54.6176077+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:04.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:04.6355829+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:14.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:14.6473155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:24.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:24.6618236+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:34.667 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:34.6653551+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:44.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:44.6727042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:19:54.684 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:49:54.6824698+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:04.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:04.6895452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:14.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:14.6953300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:24.710 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:24.7088590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:34.725 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:34.7235838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:44.740 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:44.7384084+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:20:54.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:50:54.7555604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:04.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:51:04.7555580+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:14.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:51:14.7591211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:24.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:51:24.7619533+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:34.819 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:51:34.7683003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:44.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:51:44.8345135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:21:54.854 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:51:54.8521064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:04.863 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:04.8615565+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:14.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:14.8812551+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:24.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:24.8941386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:34.900 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:34.8987774+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:44.914 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:44.9120030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:22:54.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:52:54.9187879+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:04.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:04.9286665+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:14.945 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:14.9436964+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:24.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:24.9591192+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:34.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:34.9747839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:44.989 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:44.9880377+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:23:55.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:53:55.0044064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:05.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:05.0136772+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:15.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:15.0244215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:25.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:25.0318692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:35.040 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:35.0386888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:45.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:45.0562664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:24:55.074 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:54:55.0725896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:05.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:05.0866995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:15.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:15.0962827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:25.104 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:25.1022259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:35.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:35.1063072+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:45.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:45.1244781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:25:55.141 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:55:55.1398750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:05.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:56:05.1537400+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:15.163 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:56:15.1613959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:25.173 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T02:56:25.1709289+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:35.264 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T02:56:35.1923107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:45.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:56:45.2686004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:26:55.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:56:55.2771617+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:05.287 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:05.2863515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:15.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:15.3002784+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:25.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:25.3070089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:35.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:35.3169597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:45.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:45.3241217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:55.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:57:55.3321266+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:27:56.921 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:27:56.924 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:56.925 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 3.7876ms
2025-09-30 08:27:56.935 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:27:56.939 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:56.940 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 5.1418ms
2025-09-30 08:27:56.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:27:56.950 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:27:56.954 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:56.957 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:56.958 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 10.8058ms
2025-09-30 08:27:56.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 9.2126ms
2025-09-30 08:27:56.964 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:27:56.967 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:27:57.158 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:27:57.160 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:57.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.7862ms
2025-09-30 08:27:57.164 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:27:57.166 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:27:57.167 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:27:57.169 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:27:57.178 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:57:56.8980000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:27:57.184 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:57:56.8980000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:27:57.187 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:27:57.189 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.7948ms
2025-09-30 08:27:57.191 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:27:57.193 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 29.1159ms
2025-09-30 08:28:05.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:05.3476442+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:28:06.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:28:06.520 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.520 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.544ms
2025-09-30 08:28:06.523 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:28:06.525 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.525 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.526 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:28:06.529 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:28:06.532 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:28:06.534 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.2569ms
2025-09-30 08:28:06.535 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.3027ms
2025-09-30 08:28:06.592 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:28:06.595 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.0692ms
2025-09-30 08:28:06.600 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:28:06.603 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.605 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.606 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:28:06.611 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:28:06.615 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:28:06.616 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.8651ms
2025-09-30 08:28:06.618 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.619 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.572ms
2025-09-30 08:28:06.656 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:28:06.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:28:06.659 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:28:06.660 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.666 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.668 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.669 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.670 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 12.1684ms
2025-09-30 08:28:06.670 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 11.4969ms
2025-09-30 08:28:06.671 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:28:06.674 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:28:06.677 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:28:06.681 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:28:06.683 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.685 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.687 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:28:06.688 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 13.4391ms
2025-09-30 08:28:06.689 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 11.9772ms
2025-09-30 08:28:06.690 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.7737ms
2025-09-30 08:28:06.694 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:28:06.698 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:28:06.699 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:28:06.705 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 48.9228ms
2025-09-30 08:28:06.910 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:28:06.912 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.913 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.3425ms
2025-09-30 08:28:06.916 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:28:06.918 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:28:06.919 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:28:06.920 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:28:06.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:58:06.6380000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:28:06.928 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:58:06.6380000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:28:06.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:28:06.931 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.1871ms
2025-09-30 08:28:06.932 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:28:06.933 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.8048ms
2025-09-30 08:28:15.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:15.3648106+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:28:25.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:25.3823262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:28:35.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:35.3849380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:28:45.401 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:45.3979532+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:28:55.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:58:55.4147906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:05.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:05.4191678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:15.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:15.4282033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:17.776 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:29:17.778 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.778 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.9342ms
2025-09-30 08:29:17.781 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:29:17.783 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.784 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.785 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:29:17.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:29:17.795 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:29:17.796 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.4125ms
2025-09-30 08:29:17.797 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.798 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.0941ms
2025-09-30 08:29:17.856 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:29:17.859 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.859 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.118ms
2025-09-30 08:29:17.863 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:29:17.866 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.868 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.869 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:29:17.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:29:17.878 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:29:17.880 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.1546ms
2025-09-30 08:29:17.881 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.888 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.8125ms
2025-09-30 08:29:17.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:29:17.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:29:17.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:29:17.920 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.922 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.925 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.925 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 7.0059ms
2025-09-30 08:29:17.927 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 8.4169ms
2025-09-30 08:29:17.927 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 08:29:17.938 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 08:29:17.939 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:29:17.941 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.943 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:17.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 10.1265ms
2025-09-30 08:29:17.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:29:17.949 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 10.5253ms
2025-09-30 08:29:17.951 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 08:29:17.953 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:29:17.955 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 08:29:17.958 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.4576ms
2025-09-30 08:29:17.960 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:29:17.961 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 42.7364ms
2025-09-30 08:29:18.180 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:29:18.183 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:18.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.4426ms
2025-09-30 08:29:18.186 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:29:18.188 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:18.189 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:18.190 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:18.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:29:18.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:29:18.201 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:18.202 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.0495ms
2025-09-30 08:29:18.203 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:18.204 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.1451ms
2025-09-30 08:29:25.439 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:25.4375822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:26.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:29:26.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:26.046 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2679ms
2025-09-30 08:29:26.050 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 156
2025-09-30 08:29:26.052 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:26.053 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:26.054 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:26.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:29:26.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:29:26.064 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:26.065 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.5589ms
2025-09-30 08:29:26.066 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:26.067 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.558ms
2025-09-30 08:29:27.717 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:29:27.719 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:27.720 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:27.721 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:27.725 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:29:27.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:29:27.731 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:27.732 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.0133ms
2025-09-30 08:29:27.734 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:27.735 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.6733ms
2025-09-30 08:29:30.132 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 08:29:30.134 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:30.134 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:30.135 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:30.140 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:29:30.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:29:30.146 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:30.147 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.206ms
2025-09-30 08:29:30.148 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:30.149 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.2454ms
2025-09-30 08:29:32.102 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:29:32.104 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:32.105 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1522ms
2025-09-30 08:29:32.108 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:29:32.109 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:32.110 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:32.111 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:32.115 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:29:32.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:29:32.121 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:32.122 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.7108ms
2025-09-30 08:29:32.123 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:32.124 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.7537ms
2025-09-30 08:29:32.971 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 153
2025-09-30 08:29:32.973 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:29:32.974 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:32.975 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:29:32.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:29:32.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:29:32.985 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:29:32.986 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.2337ms
2025-09-30 08:29:32.987 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:29:32.987 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.0208ms
2025-09-30 08:29:35.453 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:35.4510359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:45.462 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:45.4607006+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:29:55.477 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T02:59:55.4757509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:05.493 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:05.4915839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:15.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:15.5023658+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:25.510 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:25.5089555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:35.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:35.5225706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:45.539 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:45.5380219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:30:55.553 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:00:55.5513543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:05.565 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:01:05.5631720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:11.044 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:31:11.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:11.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.7375ms
2025-09-30 08:31:11.049 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 162
2025-09-30 08:31:11.051 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:11.051 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:11.052 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:31:11.056 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:31:11.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:31:11.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:31:11.064 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.7424ms
2025-09-30 08:31:11.065 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:11.066 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.8815ms
2025-09-30 08:31:15.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:01:15.5702851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:19.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:31:19.521 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:19.522 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.5367ms
2025-09-30 08:31:19.524 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 169
2025-09-30 08:31:19.526 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:19.527 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:19.527 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:31:19.532 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:31:19.538 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:31:19.540 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:31:19.541 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.4851ms
2025-09-30 08:31:19.542 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:19.543 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.1578ms
2025-09-30 08:31:20.299 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 181
2025-09-30 08:31:20.302 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:20.303 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:20.304 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:31:20.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent', 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:31:20.314 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent', 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:31:20.316 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:31:20.317 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.6713ms
2025-09-30 08:31:20.318 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:20.319 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 20.0855ms
2025-09-30 08:31:21.139 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:31:21.141 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:21.142 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:21.143 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:31:21.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent', 'Delivered', 'Read' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:31:21.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Failed', 'Queued', 'Sent', 'Delivered', 'Read' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:31:21.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:31:21.172 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 27.6416ms
2025-09-30 08:31:21.173 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:21.174 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 34.6719ms
2025-09-30 08:31:22.230 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 08:31:22.233 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:31:22.234 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:22.234 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:31:22.242 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:31:22.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T02:59:17.9030000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:31:22.248 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:31:22.250 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.351ms
2025-09-30 08:31:22.251 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:31:22.252 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.3209ms
2025-09-30 08:31:25.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:01:25.5827986+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:35.648 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:01:35.5893302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:45.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:01:45.6571049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:31:55.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:01:55.6722981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:05.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:05.6789572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:15.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:15.6892914+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:25.706 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:25.7052478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:35.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:35.7118011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:45.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:45.7231347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:32:55.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:02:55.7281568+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:05.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:05.7397834+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:15.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:15.7512076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:25.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:25.7704956+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:35.795 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:35.7936219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:45.803 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:45.8018290+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:33:55.816 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:03:55.8154471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:05.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:05.8297059+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:15.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:15.8401433+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:25.852 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:25.8502519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:35.863 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:35.8613856+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:45.868 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:45.8665352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:34:55.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:04:55.8834221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:05.899 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:05:05.8979514+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:15.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:05:15.9012830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:25.908 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:05:25.9069621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:35.913 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:05:35.9113818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:45.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:05:45.9248471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:35:55.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:05:55.9320438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:05.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:06:05.9399973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:15.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:06:15.9511097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:25.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:06:25.9594286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:36.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:06:35.9677720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:46.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:06:46.0260369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:36:56.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:06:56.0331076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:06.041 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:06.0396543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:16.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:16.0462860+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:26.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:26.0583174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:36.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:36.0738134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:46.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:46.0794119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:37:56.091 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:07:56.0900959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:06.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:06.1049983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:16.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:16.1198832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:26.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:26.1363046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:36.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:36.1519998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:46.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:46.1606622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:38:56.173 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:08:56.1716835+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:06.178 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:09:06.1767661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:16.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:09:16.1864931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:26.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:09:26.1911579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:36.204 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:09:36.2031811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:46.214 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:09:46.2122190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:39:56.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:09:56.2211971+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:06.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:10:06.2296849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:16.239 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:10:16.2373184+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:26.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:10:26.2451315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:36.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:10:36.2625833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:46.293 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:10:46.2918465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:40:56.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:10:56.3066448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:06.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:11:06.3217686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:16.331 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:11:16.3291801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:26.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:11:26.3340246+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:36.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:11:36.3361972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:46.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:11:46.4005666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:41:56.410 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:11:56.4084100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:06.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:06.4174998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:16.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:16.4277885+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:26.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:26.4367420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:36.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:36.4482489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:46.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:46.4527204+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:42:56.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:12:56.4591788+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:06.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:06.4642136+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:16.471 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:16.4695858+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:26.483 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:26.4816119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:36.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:36.4980142+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:46.505 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:46.5042865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:43:56.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:13:56.5100147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:06.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:06.5203008+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:16.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:16.5244655+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:26.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:26.5385950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:36.551 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:36.5500213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:46.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:46.5573605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:44:56.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:14:56.5627109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:06.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:15:06.5844873+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:16.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:15:16.5962085+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:26.613 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:15:26.6104242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:27.891 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:45:27.897 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:27.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.4369ms
2025-09-30 08:45:27.900 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:45:27.902 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:27.903 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:27.904 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:45:27.907 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:45:27.911 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:45:27.912 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.4241ms
2025-09-30 08:45:27.914 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:27.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.711ms
2025-09-30 08:45:28.129 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:45:28.134 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.8601ms
2025-09-30 08:45:28.138 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:45:28.141 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.143 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:28.144 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:45:28.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:45:28.151 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:45:28.153 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.0386ms
2025-09-30 08:45:28.154 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:28.155 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.8313ms
2025-09-30 08:45:28.202 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/senders - null null
2025-09-30 08:45:28.204 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 08:45:28.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:45:28.212 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.215 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.217 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.218 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/senders - 204 null null 16.2166ms
2025-09-30 08:45:28.219 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:28.220 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 15.6719ms
2025-09-30 08:45:28.229 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/senders - null null
2025-09-30 08:45:28.230 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 08:45:28.233 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 08:45:28.236 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.240 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 08:45:28.243 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.244 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/senders - 404 0 null 15.4782ms
2025-09-30 08:45:28.247 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 08:45:28.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 14.2014ms
2025-09-30 08:45:28.252 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/senders, Response status code: 404
2025-09-30 08:45:28.253 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.5274ms
2025-09-30 08:45:28.257 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-30 08:45:28.261 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 08:45:28.265 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 60.9563ms
2025-09-30 08:45:28.455 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:45:28.458 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.3376ms
2025-09-30 08:45:28.463 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 08:45:28.465 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:28.466 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:28.467 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:45:28.477 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 08:45:28.481 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 08:45:28.483 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:45:28.485 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.7806ms
2025-09-30 08:45:28.486 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:28.487 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 24.2451ms
2025-09-30 08:45:36.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:15:36.6173426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:46.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:15:46.6354101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:56.137 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 08:45:56.140 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:56.140 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.9133ms
2025-09-30 08:45:56.143 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 153
2025-09-30 08:45:56.145 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:56.146 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:56.146 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:45:56.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:45:56.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:45:56.156 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:45:56.158 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.7358ms
2025-09-30 08:45:56.159 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:56.160 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.874ms
2025-09-30 08:45:56.648 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:15:56.6467270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:45:57.274 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 177
2025-09-30 08:45:57.276 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:57.276 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:57.277 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:45:57.281 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:45:57.285 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:45:57.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:45:57.287 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 8.7129ms
2025-09-30 08:45:57.288 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:57.289 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 15.1766ms
2025-09-30 08:45:58.594 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 178
2025-09-30 08:45:58.597 +05:30 [INF] CORS policy execution successful.
2025-09-30 08:45:58.597 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:58.598 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 08:45:58.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 08:45:58.612 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:15:28.1850000Z' (DbType = DateTime), @__statuses_3={ 'Queued' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 08:45:58.615 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 08:45:58.616 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.1532ms
2025-09-30 08:45:58.617 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 08:45:58.618 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 24.1077ms
2025-09-30 08:46:06.659 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:16:06.6576397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:46:16.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:16:16.6677513+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:46:26.676 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:16:26.6745013+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:46:36.736 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:16:36.6842287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:46:46.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:16:46.7468009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:46:56.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:16:56.7591559+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:06.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:17:06.7622324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:16.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:17:16.7670958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:26.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:17:26.7808393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:36.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:17:36.7866635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:46.791 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:17:46.7899079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:47:56.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:17:56.8028377+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:06.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:06.8129322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:16.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:16.8288482+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:26.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:26.8364339+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:36.857 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:36.8555753+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:46.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:46.8630756+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:48:56.876 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:18:56.8748345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:06.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:19:06.8791983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:16.888 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:19:16.8856426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:26.895 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:19:26.8927191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:36.908 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:19:36.9072616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:46.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:19:46.9118460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:49:56.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:19:56.9253230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:06.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:06.9312780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:16.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:16.9402515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:26.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:26.9511040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:36.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:36.9596070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:46.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:46.9699432+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:50:56.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:20:56.9745590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:06.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:21:06.9903749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:17.003 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:21:17.0018020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:27.010 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:21:27.0085117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:37.070 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:21:37.0165715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:47.077 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:21:47.0761794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:51:57.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:21:57.0798014+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:07.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:07.0845913+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:17.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:17.0965851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:27.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:27.1074375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:37.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:37.1112463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:47.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:47.1224478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:52:57.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:22:57.1370801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:07.154 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:07.1530805+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:17.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:17.1622318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:27.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:27.1762316+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:37.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:37.1944714+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:47.211 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:47.2094501+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:53:57.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:23:57.2179418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:07.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:07.2247728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:17.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:17.2297218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:27.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:27.2362672+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:37.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:37.2500982+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:47.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:47.2557265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:54:57.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:24:57.2652335+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:07.277 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:07.2756693+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:17.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:17.2822965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:27.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:27.2941998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:37.301 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:37.2999896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:47.315 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:47.3139347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:55:57.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:25:57.3220265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:07.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:26:07.3306769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:17.350 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:26:17.3481264+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:27.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:26:27.3655222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:37.452 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:26:37.3710738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:47.462 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:26:47.4602234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:56:57.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:26:57.4771071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:07.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:27:07.4957548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:17.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:27:17.5154558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:27.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:27:27.5225062+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:37.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:27:37.5327523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:47.545 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:27:47.5435028+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:57:57.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:27:57.5569103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:07.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:07.5715230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:17.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:17.5909783+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:27.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:27.6011916+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:37.611 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:37.6096741+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:47.620 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:47.6190438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:58:57.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:28:57.6234602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:07.636 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:07.6352869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:17.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:17.6518277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:27.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:27.6609870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:37.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:37.6941503+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:47.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:47.7017603+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 08:59:57.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:29:57.7100800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:07.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:30:07.7246565+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:17.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:30:17.7394092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:27.756 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:30:27.7548201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:37.774 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:30:37.7718827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:39.942 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 09:00:39.944 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:39.945 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.4625ms
2025-09-30 09:00:39.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 09:00:39.951 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:39.952 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 09:00:39.953 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 09:00:39.957 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 09:00:39.977 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 09:00:39.982 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 09:00:39.992 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 09:00:39.994 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 09:00:39.996 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 09:00:39.997 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 09:00:39.998 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:00:39.999 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 44.2777ms
2025-09-30 09:00:40.000 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 09:00:40.001 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 52.6479ms
2025-09-30 09:00:40.004 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:00:40.006 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:40.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.6337ms
2025-09-30 09:00:40.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:00:40.011 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:40.013 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.014 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:00:40.018 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 09:00:40.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:00:40.025 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:00:40.026 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.5789ms
2025-09-30 09:00:40.027 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.028 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.1794ms
2025-09-30 09:00:40.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:00:40.043 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:40.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.5528ms
2025-09-30 09:00:40.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:00:40.052 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:40.053 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.054 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:00:40.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:00:40.061 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:00:40.062 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.983ms
2025-09-30 09:00:40.063 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.064 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.873ms
2025-09-30 09:00:40.121 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:00:40.123 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:40.124 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.125 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:00:40.130 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:00:40.134 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:00:40.135 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.2165ms
2025-09-30 09:00:40.136 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:00:40.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.529ms
2025-09-30 09:00:45.189 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:00:45.192 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:45.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.4997ms
2025-09-30 09:00:45.196 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:00:45.198 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:45.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.155ms
2025-09-30 09:00:45.201 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:00:45.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:00:45.414 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:45.415 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1134ms
2025-09-30 09:00:45.418 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:00:45.420 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:00:45.421 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:00:45.422 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:00:45.429 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:30:45.1480000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:00:45.433 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:30:45.1480000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:00:45.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:00:45.436 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.5262ms
2025-09-30 09:00:45.437 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:00:45.438 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.927ms
2025-09-30 09:00:47.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:30:47.7899160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:00:57.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:30:57.8026896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:07.822 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:31:07.8205752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:17.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:31:17.8340954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:27.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:31:27.8501604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:37.915 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:31:37.8647569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:47.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:31:47.9248896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:01:57.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:31:57.9301269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:07.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:07.9385543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:17.954 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:17.9528649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:27.958 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:27.9562474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:37.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:37.9642837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:47.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:47.9908590+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:02:58.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:32:58.0028817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:08.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:33:08.0066042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:18.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:33:18.0190623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:28.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:33:28.0310097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:38.037 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:33:38.0347912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:48.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:33:48.0443304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:03:58.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:33:58.0525671+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:08.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:08.0659386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:18.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:18.0740813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:28.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:28.0859008+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:38.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:38.1034413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:48.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:48.1088139+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:04:58.120 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:34:58.1188293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:08.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:35:08.1303372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:13.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:05:13.345 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:05:13.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5212ms
2025-09-30 09:05:13.350 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:05:13.352 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:05:13.353 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:05:13.354 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:05:13.360 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-28T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T18:29:59.9990000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:05:13.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-28T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-29T18:29:59.9990000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:05:13.366 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:05:13.367 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.3194ms
2025-09-30 09:05:13.368 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:05:13.369 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.9151ms
2025-09-30 09:05:18.150 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:35:18.1481519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:28.173 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:35:28.1715751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:38.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:35:38.1795477+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:48.185 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:35:48.1840557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:05:58.197 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:35:58.1957712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:08.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:36:08.2002132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:18.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:36:18.2045865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:28.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:36:28.2171345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:38.285 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:36:38.2265576+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:47.213 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 09:06:47.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 09:06:47.216 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:47.218 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:47.219 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 204 null null 6.7294ms
2025-09-30 09:06:47.220 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 204 null null 5.6166ms
2025-09-30 09:06:47.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - null null
2025-09-30 09:06:47.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - null null
2025-09-30 09:06:47.229 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:47.231 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:47.232 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids - 404 0 null 8.0452ms
2025-09-30 09:06:47.233 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids - 404 0 null 6.5839ms
2025-09-30 09:06:47.237 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/waba-ids, Response status code: 404
2025-09-30 09:06:47.240 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/filter-options/sender-ids, Response status code: 404
2025-09-30 09:06:48.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:06:48.172 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:48.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.5814ms
2025-09-30 09:06:48.175 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:06:48.177 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:06:48.177 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:06:48.178 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:06:48.184 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:36:47.1730000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:06:48.187 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:36:47.1730000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:06:48.189 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:06:48.190 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.5527ms
2025-09-30 09:06:48.191 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:06:48.192 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.4096ms
2025-09-30 09:06:48.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:36:48.2850076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:06:58.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:36:58.2929435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:08.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:37:08.2999814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:18.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:37:18.3182642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:28.337 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:37:28.3350739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:38.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:37:38.3447869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:48.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:37:48.3543648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:07:58.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:37:58.3649364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:08.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:08.3810905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:18.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:18.3972960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:28.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:28.4046512+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:38.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:38.4096257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:48.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:48.4239705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:08:57.205 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:08:57.207 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:08:57.226 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 20.8908ms
2025-09-30 09:08:57.229 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:08:57.231 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:08:57.232 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.0788ms
2025-09-30 09:08:57.235 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:08:58.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:08:58.167 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:08:58.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.8216ms
2025-09-30 09:08:58.171 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:08:58.174 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:08:58.175 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:08:58.177 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:08:58.183 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:38:57.1770000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:08:58.190 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:38:57.1770000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:08:58.194 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:08:58.196 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.8398ms
2025-09-30 09:08:58.199 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:08:58.200 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 28.8803ms
2025-09-30 09:08:58.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:38:58.4239098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:08.448 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:08.4468926+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:18.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:18.4636691+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:28.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:28.4730741+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:38.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:38.4764886+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:48.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:48.4898111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:09:58.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:39:58.4975277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:08.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:08.5065452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:18.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:18.5226451+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:28.539 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:28.5380189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:38.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:38.5548852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:48.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:48.5686796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:10:58.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:40:58.5843856+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:08.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:41:08.5932372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:18.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:41:18.5995738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:28.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:41:28.6118929+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:38.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:41:38.6184504+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:48.681 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:41:48.6781088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:11:58.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:41:58.6895215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:08.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:08.6947200+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:18.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:18.7069646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:28.715 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:28.7128464+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:38.731 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:38.7295169+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:48.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:48.7463159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:12:58.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:42:58.7518090+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:08.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:08.7592421+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:18.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:18.7706435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:28.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:28.7806436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:38.800 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:38.7983031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:48.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:48.8131451+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:13:58.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:43:58.8238271+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:08.834 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:08.8326205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:18.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:18.8503547+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:28.865 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:28.8636216+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:38.786 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:14:38.790 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:38.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 5.942ms
2025-09-30 09:14:38.796 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:14:38.799 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:38.801 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.543ms
2025-09-30 09:14:38.817 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:14:38.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:38.8769798+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:39.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:14:39.019 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:39.020 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.0129ms
2025-09-30 09:14:39.023 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:14:39.025 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:39.026 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:14:39.028 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:14:39.033 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:44:38.7530000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:14:39.038 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:44:38.7530000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:14:39.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:14:39.041 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.2174ms
2025-09-30 09:14:39.043 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:14:39.044 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.5653ms
2025-09-30 09:14:45.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:14:45.906 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:45.906 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.1285ms
2025-09-30 09:14:45.909 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:14:45.911 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:45.912 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:45.913 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:14:45.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:14:45.921 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:14:45.922 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.5716ms
2025-09-30 09:14:45.924 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:45.925 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.4991ms
2025-09-30 09:14:45.976 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:14:45.979 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:45.981 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.2316ms
2025-09-30 09:14:45.984 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:14:45.988 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:45.989 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:45.991 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:14:45.995 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:14:45.998 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:14:46.000 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.4113ms
2025-09-30 09:14:46.001 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:46.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.4922ms
2025-09-30 09:14:46.041 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:14:46.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:14:46.043 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:46.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:46.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 5.8725ms
2025-09-30 09:14:46.048 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:46.051 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:14:46.052 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:14:46.055 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:46.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.5497ms
2025-09-30 09:14:46.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:14:46.063 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:14:46.065 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:14:46.068 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 11.9061ms
2025-09-30 09:14:46.070 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:14:46.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 29.3677ms
2025-09-30 09:14:46.290 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:14:46.292 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:46.293 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1785ms
2025-09-30 09:14:46.295 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:14:46.297 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:14:46.298 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:14:46.298 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:14:46.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:44:46.0230000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:14:46.307 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:44:46.0230000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:14:46.309 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:14:46.310 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.2286ms
2025-09-30 09:14:46.311 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:14:46.312 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.6258ms
2025-09-30 09:14:48.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:48.8838314+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:14:58.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:44:58.8952035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:08.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:08.9071884+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:13.982 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:15:13.985 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:13.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.3414ms
2025-09-30 09:15:13.988 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:15:13.990 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:13.991 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:13.991 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:15:13.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:15:13.997 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:15:13.999 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.005ms
2025-09-30 09:15:14.000 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:14.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.3912ms
2025-09-30 09:15:14.020 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:15:14.023 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.024 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4908ms
2025-09-30 09:15:14.027 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:15:14.029 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.031 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:14.032 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:15:14.036 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:15:14.039 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:15:14.040 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.5696ms
2025-09-30 09:15:14.041 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:14.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.3368ms
2025-09-30 09:15:14.062 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:15:14.062 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:15:14.065 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.066 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.9822ms
2025-09-30 09:15:14.068 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:14.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:15:14.071 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:15:14.073 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.075 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.8635ms
2025-09-30 09:15:14.077 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:15:14.084 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:15:14.086 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:15:14.088 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.8972ms
2025-09-30 09:15:14.089 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:15:14.090 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.9175ms
2025-09-30 09:15:14.316 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:15:14.318 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.319 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.9534ms
2025-09-30 09:15:14.322 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:15:14.324 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:15:14.325 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:15:14.326 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:15:14.330 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:45:14.0510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:15:14.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:45:14.0510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:15:14.338 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:15:14.339 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.4319ms
2025-09-30 09:15:14.340 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:15:14.341 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.8294ms
2025-09-30 09:15:18.928 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:18.9263997+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:28.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:28.9359681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:38.948 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:38.9442970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:48.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:48.9641890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:15:58.980 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:45:58.9785312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:08.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:46:08.9953487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:19.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:46:19.0002684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:29.010 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:46:29.0086755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:39.069 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:46:39.0131624+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:49.088 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:46:49.0857218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:16:59.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:46:59.1035696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:09.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:09.1113165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:19.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:19.1200169+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:29.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:29.1358561+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:39.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:39.1473210+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:48.189 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:17:48.191 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:17:48.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.1602ms
2025-09-30 09:17:48.195 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:17:48.196 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:17:48.198 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.0412ms
2025-09-30 09:17:48.200 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:17:48.451 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:17:48.454 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:17:48.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.7228ms
2025-09-30 09:17:48.460 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:17:48.463 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:17:48.464 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:17:48.466 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:17:48.473 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:47:48.1750000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:17:48.478 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:47:48.1750000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:17:48.481 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:17:48.482 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.8424ms
2025-09-30 09:17:48.484 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:17:48.485 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 24.8882ms
2025-09-30 09:17:49.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:49.1635528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:17:59.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:47:59.1806489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:09.193 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:09.1910977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:17.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/senders - null null
2025-09-30 09:18:17.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 09:18:17.206 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.208 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.209 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/senders - 204 null null 5.3248ms
2025-09-30 09:18:17.212 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/wabas - 204 null null 8.1658ms
2025-09-30 09:18:17.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - null null
2025-09-30 09:18:17.221 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/senders - null null
2025-09-30 09:18:17.223 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.225 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.226 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/wabas - 404 0 null 8.4267ms
2025-09-30 09:18:17.227 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/senders - 404 0 null 6.3292ms
2025-09-30 09:18:17.230 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/wabas, Response status code: 404
2025-09-30 09:18:17.233 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/senders, Response status code: 404
2025-09-30 09:18:17.437 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:18:17.439 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.440 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.972ms
2025-09-30 09:18:17.442 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:18:17.444 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:18:17.445 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:18:17.446 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:18:17.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:48:17.1710000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:18:17.455 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:48:17.1710000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:18:17.456 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:18:17.457 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.5272ms
2025-09-30 09:18:17.459 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:18:17.460 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.2928ms
2025-09-30 09:18:19.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:19.1991049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:29.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:29.2083883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:39.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:39.2482451+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:49.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:49.2583502+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:18:59.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:48:59.2737685+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:09.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:09.2947677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:19.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:19.3017222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:29.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:29.3189404+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:39.337 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:39.3355817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:49.343 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:49.3410389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:19:59.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:49:59.3528390+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:09.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:09.3621089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:19.374 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:19.3725420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:29.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:29.3801879+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:39.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:39.3869056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:49.396 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:49.3943510+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:20:59.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:50:59.4172859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:09.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:51:09.4237573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:19.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:51:19.4402219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:29.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:51:29.4488110+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:39.510 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:51:39.4545904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:49.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:51:49.5249547+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:21:59.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:51:59.5464558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:09.565 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:52:09.5629230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:19.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:52:19.5836737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:29.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:52:29.5958077+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:39.619 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:52:39.6109449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:49.634 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:52:49.6323373+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:22:59.642 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:52:59.6410735+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:09.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:09.6623898+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:19.679 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:19.6763709+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:29.686 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:29.6850450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:39.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:39.7014829+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:49.717 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:49.7154471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:23:59.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:53:59.7278752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:09.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:09.7459688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:19.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:19.7609908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:29.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:29.7711189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:39.781 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:39.7800245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:49.791 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:49.7895952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:24:59.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:54:59.7970855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:03.223 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:03.225 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:03.225 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 2.6778ms
2025-09-30 09:25:03.228 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:03.230 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:03.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 2.8636ms
2025-09-30 09:25:03.234 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:25:03.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:25:03.685 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:03.686 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.8963ms
2025-09-30 09:25:03.697 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:25:03.700 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:03.701 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:25:03.701 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:25:03.708 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:03.1780000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:25:03.713 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:03.1780000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:25:03.715 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:25:03.716 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.2471ms
2025-09-30 09:25:03.718 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:25:03.719 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.6966ms
2025-09-30 09:25:09.622 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:09.625 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.625 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.9606ms
2025-09-30 09:25:09.628 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:09.630 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.631 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.632 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:09.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:09.656 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:09.658 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 24.4624ms
2025-09-30 09:25:09.659 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.9109ms
2025-09-30 09:25:09.691 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:09.695 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.696 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.9951ms
2025-09-30 09:25:09.700 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:09.703 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.704 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.705 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:09.711 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:09.715 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:09.717 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.2089ms
2025-09-30 09:25:09.718 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.720 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.6102ms
2025-09-30 09:25:09.769 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:09.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:09.773 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.775 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.776 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 7.1214ms
2025-09-30 09:25:09.777 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.785 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:09.786 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:09.789 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:09.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.6496ms
2025-09-30 09:25:09.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:09.798 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:25:09.800 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:09.803 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.6234ms
2025-09-30 09:25:09.804 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:09.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 35.0993ms
2025-09-30 09:25:09.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:55:09.8158888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:10.016 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:25:10.018 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:10.019 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.226ms
2025-09-30 09:25:10.021 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:25:10.024 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:10.025 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:25:10.026 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:25:10.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:09.7470000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:25:10.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:09.7470000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:25:10.036 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:25:10.037 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.4314ms
2025-09-30 09:25:10.038 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:25:10.039 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.4309ms
2025-09-30 09:25:19.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:55:19.8266181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:29.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:55:29.8387378+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:39.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:55:39.8498630+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:49.876 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:55:49.8742898+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:25:59.825 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:59.828 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6977ms
2025-09-30 09:25:59.832 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:59.834 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.836 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.837 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:59.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:59.843 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:59.845 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.7341ms
2025-09-30 09:25:59.846 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.847 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.5624ms
2025-09-30 09:25:59.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:59.867 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6716ms
2025-09-30 09:25:59.873 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:59.876 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.877 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.878 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:59.883 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:59.888 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:59.890 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.1177ms
2025-09-30 09:25:59.892 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.893 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.5905ms
2025-09-30 09:25:59.922 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:59.922 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:25:59.924 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.927 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.927 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 5.6972ms
2025-09-30 09:25:59.928 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.931 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:25:59.932 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:25:59.935 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:25:59.939 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 7.0958ms
2025-09-30 09:25:59.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:25:59.944 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:25:59.946 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:25:59.949 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.0502ms
2025-09-30 09:25:59.951 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:25:59.952 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 30.8093ms
2025-09-30 09:25:59.958 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:55:59.8848980+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:26:00.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:26:00.179 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:00.180 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2486ms
2025-09-30 09:26:00.183 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:26:00.185 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:00.186 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:26:00.187 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:26:00.191 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:59.9080000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:26:00.197 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:55:59.9080000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:26:00.199 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:26:00.201 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.9277ms
2025-09-30 09:26:00.202 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:26:00.203 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.721ms
2025-09-30 09:26:09.452 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:26:09.454 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.7781ms
2025-09-30 09:26:09.457 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:26:09.459 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.460 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.461 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:26:09.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:26:09.468 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:26:09.470 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.1794ms
2025-09-30 09:26:09.472 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.473 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.8453ms
2025-09-30 09:26:09.490 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:26:09.494 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.1186ms
2025-09-30 09:26:09.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:26:09.500 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.501 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.502 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:26:09.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:26:09.509 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:26:09.510 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.5419ms
2025-09-30 09:26:09.511 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.512 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.6287ms
2025-09-30 09:26:09.532 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:26:09.532 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:26:09.534 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.537 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.9177ms
2025-09-30 09:26:09.538 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.541 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:26:09.542 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:26:09.544 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.546 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 5.5384ms
2025-09-30 09:26:09.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:26:09.551 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:26:09.552 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:26:09.555 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.3353ms
2025-09-30 09:26:09.556 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:26:09.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.2899ms
2025-09-30 09:26:09.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:26:09.796 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.797 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7263ms
2025-09-30 09:26:09.800 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:26:09.802 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:26:09.803 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:26:09.804 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:26:09.809 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:56:09.5210000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:26:09.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T03:56:09.5210000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:26:09.816 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:26:09.817 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.5028ms
2025-09-30 09:26:09.818 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:26:09.819 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.0254ms
2025-09-30 09:26:09.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:56:09.9676044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:26:19.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:56:19.9753682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:26:30.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:56:29.9839770+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:26:40.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:56:40.0222787+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:26:50.029 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:56:50.0273006+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:00.047 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:00.0454826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:10.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:10.0586998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:20.090 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:20.0728825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:30.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:30.0929968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:40.100 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:40.0991592+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:27:50.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:57:50.1126286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:00.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:58:00.1212219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:10.132 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:58:10.1302662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:20.154 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:58:20.1512791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:30.168 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:58:30.1664614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:40.192 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:58:40.1895497+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:28:50.210 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:58:50.2081819+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:00.224 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T03:59:00.2212332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:10.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:59:10.2362272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:20.243 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:59:20.2411319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:30.250 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T03:59:30.2458747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:40.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:59:40.2528871+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:29:50.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T03:59:50.2597031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:00.273 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:00.2717184+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:10.288 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:10.2866096+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:20.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:20.3040813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:30.315 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:30.3141107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:40.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:40.3294203+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:30:50.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:00:50.3348427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:00.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:01:00.3388312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:10.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:01:10.3541121+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:20.362 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:01:20.3608151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:30.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:01:30.3664873+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:40.456 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T04:01:40.3854027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:31:50.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:01:50.4666054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:00.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:02:00.4841922+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:10.181 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:32:10.183 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:10.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 2.6ms
2025-09-30 09:32:10.186 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:32:10.188 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:10.189 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 2.9554ms
2025-09-30 09:32:10.192 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:32:10.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:02:10.5029954+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:11.174 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:32:11.176 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:11.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.4835ms
2025-09-30 09:32:11.180 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:32:11.182 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:11.183 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:11.184 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:32:11.209 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:10.1710000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:32:11.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:10.1710000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:32:11.214 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:32:11.215 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 29.0093ms
2025-09-30 09:32:11.216 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:11.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 36.4492ms
2025-09-30 09:32:14.656 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:14.659 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.0427ms
2025-09-30 09:32:14.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:14.664 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.666 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.667 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:14.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:14.675 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:14.676 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.1484ms
2025-09-30 09:32:14.678 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.679 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.676ms
2025-09-30 09:32:14.735 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:14.738 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.7399ms
2025-09-30 09:32:14.744 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:14.747 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.749 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.751 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:14.756 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:14.760 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:14.762 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.7053ms
2025-09-30 09:32:14.763 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.764 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.3252ms
2025-09-30 09:32:14.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:32:14.808 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.809 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.0823ms
2025-09-30 09:32:14.813 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:32:14.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:14.828 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:14.829 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.830 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:14.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:14.839 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:14.841 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.6819ms
2025-09-30 09:32:14.842 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:14.843 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.5345ms
2025-09-30 09:32:15.056 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:32:15.059 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:15.061 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:15.062 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:32:15.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:14.7870000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:32:15.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:14.7870000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:32:15.074 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:32:15.075 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.0877ms
2025-09-30 09:32:15.076 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:15.077 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.2354ms
2025-09-30 09:32:20.512 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:02:20.5070454+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:27.947 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 09:32:27.949 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:27.950 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.3207ms
2025-09-30 09:32:27.954 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 09:32:27.956 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:27.957 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 09:32:27.958 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 09:32:27.965 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 09:32:27.969 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 09:32:27.974 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 09:32:27.979 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 09:32:27.981 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 09:32:27.982 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 09:32:27.983 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 09:32:27.984 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:27.985 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 25.5689ms
2025-09-30 09:32:27.987 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 09:32:27.987 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 34.6604ms
2025-09-30 09:32:27.991 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:27.993 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:27.994 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.7979ms
2025-09-30 09:32:27.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:27.998 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:27.999 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:27.999 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:28.003 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:28.006 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:28.007 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.3048ms
2025-09-30 09:32:28.008 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:28.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.2052ms
2025-09-30 09:32:28.022 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:28.024 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:28.025 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.5524ms
2025-09-30 09:32:28.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:28.032 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:28.033 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:28.034 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:28.038 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:28.041 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:28.042 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.3538ms
2025-09-30 09:32:28.043 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:28.044 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.81ms
2025-09-30 09:32:28.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 09:32:28.099 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:28.101 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:28.102 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 09:32:28.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 09:32:28.111 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 09:32:28.112 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.1837ms
2025-09-30 09:32:28.114 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 09:32:28.115 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.6881ms
2025-09-30 09:32:30.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:02:30.5271371+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:32.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:32:32.685 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:32.686 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.0234ms
2025-09-30 09:32:32.689 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:32:32.692 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:32.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.7874ms
2025-09-30 09:32:32.695 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:32:32.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:32:32.918 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:32.919 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.9718ms
2025-09-30 09:32:32.922 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:32:32.924 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:32:32.925 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:32.926 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:32:32.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:32:32.934 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:32:32.936 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:32:32.937 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.9189ms
2025-09-30 09:32:32.938 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:32:32.939 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.2264ms
2025-09-30 09:32:40.548 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:02:40.5462255+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:32:50.567 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:02:50.5655101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:00.583 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:00.5815329+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:10.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:10.5987966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:17.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:33:17.875 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:17.875 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.025ms
2025-09-30 09:33:17.879 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 133
2025-09-30 09:33:17.882 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:17.883 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:33:17.884 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:33:17.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:33:17.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '') DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:33:17.909 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:33:17.910 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 23.8612ms
2025-09-30 09:33:17.911 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:33:17.912 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 32.4672ms
2025-09-30 09:33:19.973 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 132
2025-09-30 09:33:19.975 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:19.976 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:33:19.978 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:33:19.985 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:33:19.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '')
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:33:19.996 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:33:19.997 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 17.1739ms
2025-09-30 09:33:19.998 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:33:19.999 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.0423ms
2025-09-30 09:33:20.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:20.6142669+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:29.610 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/pdf - null null
2025-09-30 09:33:29.612 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:29.614 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/pdf - 204 null null 4.1812ms
2025-09-30 09:33:29.617 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/pdf - application/json 109
2025-09-30 09:33:29.633 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:29.634 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportPdfStub (xbytechat.api)'
2025-09-30 09:33:29.638 +05:30 [INF] Route matched with {action = "ExportPdfStub", controller = "MessageLogsReport"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportPdfStub() on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:33:29.641 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-30 09:33:29.651 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportPdfStub (xbytechat.api) in 11.3354ms
2025-09-30 09:33:29.652 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportPdfStub (xbytechat.api)'
2025-09-30 09:33:29.653 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/pdf - 501 null application/problem+json; charset=utf-8 36.3726ms
2025-09-30 09:33:30.641 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:30.6390892+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:35.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - null null
2025-09-30 09:33:35.020 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:35.021 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - 204 null null 3.4821ms
2025-09-30 09:33:35.024 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - application/json 109
2025-09-30 09:33:35.027 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:33:35.028 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-30 09:33:35.051 +05:30 [INF] Route matched with {action = "ExportCsv", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportCsv(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:33:35.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:33:35.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='200', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '')
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:33:35.074 +05:30 [INF] Executing FileContentResult, sending file with download name 'MessageLogs-20250930040335.csv' ...
2025-09-30 09:33:35.080 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api) in 27.5148ms
2025-09-30 09:33:35.081 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-30 09:33:35.082 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - 200 10372 text/csv 58.4147ms
2025-09-30 09:33:40.650 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:40.6489621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:33:50.655 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:03:50.6531443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:00.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:00.6707766+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:10.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:10.6783522+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:20.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:20.7102396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:30.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:30.7241655+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:40.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:40.7306116+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:34:50.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:04:50.7400430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:00.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:05:00.7667609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:10.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:05:10.7723642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:20.789 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:05:20.7866903+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:30.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:05:30.8044209+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:40.839 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='2025-09-30T04:05:40.8188605+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:35:50.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:05:50.8596205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:00.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:06:00.8646751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:10.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:06:10.8719919+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:20.422 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:36:20.424 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:20.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.4519ms
2025-09-30 09:36:20.432 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 133
2025-09-30 09:36:20.434 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:20.436 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:20.437 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:36:20.441 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:36:20.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '') DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:36:20.447 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:36:20.448 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.3988ms
2025-09-30 09:36:20.449 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:20.450 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.6099ms
2025-09-30 09:36:20.887 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:06:20.8852141+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:30.918 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:06:30.9168515+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:40.988 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:06:40.9370491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:47.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:36:47.299 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:47.301 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.579ms
2025-09-30 09:36:47.307 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 132
2025-09-30 09:36:47.309 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:47.310 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:47.311 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:36:47.317 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:36:47.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '')
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:36:47.322 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:36:47.323 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.6063ms
2025-09-30 09:36:47.324 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:47.325 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.2278ms
2025-09-30 09:36:50.048 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 133
2025-09-30 09:36:50.051 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:50.052 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:50.053 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:36:50.057 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:36:50.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(c."PhoneNumberId", '') DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:36:50.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:36:50.066 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.4625ms
2025-09-30 09:36:50.067 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:50.069 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 20.4106ms
2025-09-30 09:36:50.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:06:50.9951837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:36:52.011 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:36:52.014 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:36:52.015 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:52.016 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:36:52.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:36:52.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:02:32.6590000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:36:52.028 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:36:52.029 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.2513ms
2025-09-30 09:36:52.031 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:36:52.031 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 20.0794ms
2025-09-30 09:37:01.007 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:01.0052715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:37:11.009 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:11.0078226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:37:21.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:21.0221586+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:37:31.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:31.0531046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:37:41.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:41.0660322+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:37:51.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:07:51.0714385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:01.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:08:01.0852688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:11.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:08:11.0978068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:21.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:08:21.1246304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:31.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:08:31.1312813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:41.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:08:41.1608859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:38:51.171 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:08:51.1688849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:01.180 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:01.1784036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:11.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:11.1934927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:21.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:21.1991380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:31.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:31.2107853+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:41.244 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:41.2415298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:39:51.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:09:51.2487766+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:01.269 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:01.2675572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:11.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:11.2764165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:21.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:21.3028859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:31.316 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:31.3143383+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:41.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:41.3255044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:40:51.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:10:51.3348140+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:01.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:11:01.3504052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:11.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:11:11.3651258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:21.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:11:21.3656585+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:31.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:11:31.3975300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:41.465 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:11:41.4125673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:41:51.472 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:11:51.4704205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:01.479 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:01.4775682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:11.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:11.4909432+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:21.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:21.5073866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:31.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:31.5225485+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:41.538 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:41.5371557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:42:51.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:12:51.5566685+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:01.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:13:01.5709284+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:11.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:13:11.5755576+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:21.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:13:21.5844732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:31.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:13:31.5839782+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:41.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:13:41.5974133+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:43:51.608 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:13:51.6062245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:01.632 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:01.6301102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:11.646 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:11.6445384+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:21.651 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:21.6496100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:31.665 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:31.6630621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:41.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:41.6781449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:44:51.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:14:51.6963692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:01.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:01.7022773+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:11.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:11.7112397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:21.721 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:21.7198634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:31.739 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:31.7377700+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:41.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:41.7460084+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:45:51.760 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:15:51.7585634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:01.770 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:16:01.7692622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:11.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:16:11.7803796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:21.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:16:21.7900395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:31.800 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:16:31.7989755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:41.858 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:16:41.8056544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:46:51.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:16:51.8642609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:01.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:01.8703226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:11.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:11.8801641+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:21.910 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:21.9089949+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:31.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:31.9157824+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:41.925 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:41.9239939+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:47:51.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:17:51.9355486+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:01.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:01.9435208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:11.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:11.9511073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:21.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:21.9583036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:31.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:31.9676065+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:41.981 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:41.9798787+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:48:51.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:18:51.9881697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:02.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:02.0022538+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:12.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:12.0195425+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:22.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:22.0330106+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:32.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:32.0361785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:42.045 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:42.0436654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:49:52.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:19:52.0569835+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:02.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:02.0645029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:12.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:12.0736674+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:22.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:22.0793399+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:32.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:32.0840827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:42.103 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:42.1014951+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:50:52.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:20:52.1157615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:02.135 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:21:02.1328594+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:12.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:21:12.1628127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:22.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:21:22.1680219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:32.180 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:21:32.1789528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:42.288 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T04:21:42.1941385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:51:52.304 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:21:52.3027775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:02.308 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:02.3066535+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:12.311 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:12.3085908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:22.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:22.3190780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:32.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:32.3319040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:42.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:42.3385837+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:52:52.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:22:52.3528311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:02.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:23:02.3637221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:12.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:23:12.3718103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:22.390 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:23:22.3873028+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:32.396 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:23:32.3937409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:42.414 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:23:42.4078361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:53:52.432 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:23:52.4288975+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:02.442 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:24:02.4395155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:12.448 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:24:12.4465804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:22.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:24:22.4593781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:32.480 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:24:32.4781262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:42.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:24:42.4889395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:54:52.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:24:52.4982436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:02.565 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__now_0='2025-09-30T04:25:02.5125211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:11.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:55:11.276 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:11.277 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.5357ms
2025-09-30 09:55:11.280 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:55:11.283 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:11.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.2837ms
2025-09-30 09:55:11.288 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:55:12.168 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:55:12.171 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:12.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.3753ms
2025-09-30 09:55:12.175 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:55:12.177 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:12.178 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:55:12.179 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:55:12.195 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:11.1700000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:55:12.204 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:11.1700000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:55:12.207 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:55:12.208 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 28.1366ms
2025-09-30 09:55:12.210 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:55:12.211 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 36.3054ms
2025-09-30 09:55:12.900 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:25:12.8985048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:22.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:25:22.9026931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:32.918 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:25:32.9161048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:34.988 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:55:34.992 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:34.993 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.8641ms
2025-09-30 09:55:35.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 09:55:35.004 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:35.005 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.7701ms
2025-09-30 09:55:35.010 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 09:55:35.200 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:55:35.203 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:35.204 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5068ms
2025-09-30 09:55:35.207 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 09:55:35.209 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:55:35.210 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:55:35.212 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:55:35.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 09:55:35.224 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 09:55:35.227 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:55:35.229 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.2119ms
2025-09-30 09:55:35.231 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:55:35.233 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.6898ms
2025-09-30 09:55:42.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:25:42.9292175+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:55:52.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:25:52.9458970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:02.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:26:02.9550142+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:12.975 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:26:12.9741851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:22.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:26:22.9910247+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:33.005 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:26:33.0023970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:43.088 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T04:26:43.0222588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:46.598 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:56:46.600 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:56:46.601 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5549ms
2025-09-30 09:56:46.604 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 09:56:46.607 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:56:46.608 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:46.610 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:56:46.620 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:56:46.625 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:56:46.628 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:56:46.630 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.0124ms
2025-09-30 09:56:46.631 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:46.632 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 28.2232ms
2025-09-30 09:56:51.379 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 09:56:51.381 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:56:51.382 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:51.383 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:56:51.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:56:51.394 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:56:51.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:56:51.399 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.4801ms
2025-09-30 09:56:51.400 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:51.401 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 22.5418ms
2025-09-30 09:56:53.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:26:53.1003867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:56:55.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:56:55.601 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:56:55.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.0676ms
2025-09-30 09:56:55.605 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 09:56:55.608 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:56:55.609 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:55.610 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:56:55.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:56:55.624 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Sent' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:56:55.627 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:56:55.629 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 17.3945ms
2025-09-30 09:56:55.630 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:56:55.631 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.3757ms
2025-09-30 09:57:03.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:03.1106393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:57:04.522 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:57:04.525 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:04.525 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1077ms
2025-09-30 09:57:04.533 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 153
2025-09-30 09:57:04.535 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:04.536 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:04.537 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:57:04.542 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:57:04.548 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:57:04.551 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:57:04.552 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.2046ms
2025-09-30 09:57:04.554 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:04.555 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 22.1567ms
2025-09-30 09:57:13.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:13.1191404+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:57:23.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:23.1266459+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:57:27.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:57:27.312 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:27.313 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.4315ms
2025-09-30 09:57:27.316 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 151
2025-09-30 09:57:27.318 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:27.319 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:27.320 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:57:27.343 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:57:27.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:57:27.351 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:57:27.353 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 30.8599ms
2025-09-30 09:57:27.355 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:27.356 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 40.0834ms
2025-09-30 09:57:33.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:33.1308391+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:57:38.950 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:57:38.953 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:38.953 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1363ms
2025-09-30 09:57:38.961 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 163
2025-09-30 09:57:38.964 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:38.965 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:38.966 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:57:38.971 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read', 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:57:38.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Read', 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:57:38.978 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:57:38.980 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.8053ms
2025-09-30 09:57:38.981 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:38.983 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.1078ms
2025-09-30 09:57:43.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:43.1486185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:57:46.602 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:57:46.605 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:46.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2916ms
2025-09-30 09:57:46.614 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 156
2025-09-30 09:57:46.616 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:57:46.617 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:46.618 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:57:46.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:57:46.629 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Delivered' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:57:46.632 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:57:46.633 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.872ms
2025-09-30 09:57:46.634 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:57:46.635 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.6964ms
2025-09-30 09:57:53.163 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:27:53.1615798+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:03.176 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:03.1743136+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:05.575 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:58:05.578 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:58:05.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5832ms
2025-09-30 09:58:05.582 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 09:58:05.584 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:58:05.585 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:58:05.586 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:58:05.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:58:05.597 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:25:34.9330000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:58:05.600 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:58:05.601 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.0415ms
2025-09-30 09:58:05.603 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:58:05.604 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.9837ms
2025-09-30 09:58:13.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:13.1937484+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:23.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:23.2248204+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:33.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:33.2501541+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:43.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:43.2644312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:58:53.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:28:53.2739356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:03.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:29:03.2819344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:13.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:29:13.2885802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:23.305 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:29:23.3028788+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:33.325 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:29:33.3232457+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:43.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:29:43.3319814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:53.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:29:53.3392182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 09:59:59.591 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 09:59:59.594 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:59:59.595 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.9276ms
2025-09-30 09:59:59.605 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 09:59:59.609 +05:30 [INF] CORS policy execution successful.
2025-09-30 09:59:59.610 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:59:59.611 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 09:59:59.616 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:29:59.2740000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:29:59.2740000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 09:59:59.623 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:29:59.2740000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:29:59.2740000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 09:59:59.626 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 09:59:59.627 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.0418ms
2025-09-30 09:59:59.628 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 09:59:59.630 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 24.393ms
2025-09-30 10:00:03.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:03.3493686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:00:06.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:00:06.166 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:06.167 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.6121ms
2025-09-30 10:00:06.169 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:06.170 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:06.171 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:06.171 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:06.175 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:05.9100000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:05.9100000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:06.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:05.9100000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:05.9100000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:06.181 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:06.182 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.1614ms
2025-09-30 10:00:06.183 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:06.184 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 14.8414ms
2025-09-30 10:00:13.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:13.3654877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:00:15.883 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:00:15.886 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:15.887 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.4669ms
2025-09-30 10:00:15.890 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:15.892 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:15.893 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:15.894 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:15.898 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:15.6290000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:15.6290000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:15.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:15.6290000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:15.6290000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:15.905 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:15.955 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 59.4812ms
2025-09-30 10:00:15.957 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:15.958 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 68.1819ms
2025-09-30 10:00:21.287 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:00:21.290 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:21.291 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.5555ms
2025-09-30 10:00:21.294 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:21.296 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:21.297 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:21.298 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:21.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:21.0200000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:21.0200000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:21.307 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:21.0200000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:21.0200000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:21.309 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:21.310 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.4031ms
2025-09-30 10:00:21.311 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:21.312 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.5698ms
2025-09-30 10:00:23.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:23.3664560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:00:27.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:00:27.791 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:27.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.7562ms
2025-09-30 10:00:27.794 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:27.797 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:27.798 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:27.798 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:27.803 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:27.5280000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:27.5280000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:27.807 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:27.5280000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:27.5280000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:27.809 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:27.811 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.586ms
2025-09-30 10:00:27.812 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:27.813 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.4763ms
2025-09-30 10:00:31.077 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:31.079 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:31.080 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:31.082 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:31.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:30.8160000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:30.8160000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:31.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:30.8160000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:30.8160000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:31.094 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:31.096 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 12.2173ms
2025-09-30 10:00:31.097 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:31.099 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 22.0286ms
2025-09-30 10:00:31.709 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:31.712 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:31.714 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:31.715 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:31.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:31.4550000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:31.4550000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:31.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-30T04:30:31.4550000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:31.4550000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:31.727 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:31.729 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.7577ms
2025-09-30 10:00:31.730 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:31.731 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 21.6744ms
2025-09-30 10:00:33.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:33.3750603+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:00:39.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:00:39.300 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:39.301 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7618ms
2025-09-30 10:00:39.306 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 188
2025-09-30 10:00:39.309 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:00:39.310 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:39.311 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:00:39.317 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-29T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:39.0420000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
2025-09-30 10:00:39.324 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-29T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:30:39.0420000Z' (DbType = DateTime), @__statuses_3={ 'Queued', 'Sent', 'Delivered', 'Read', 'Failed' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND m."Status" = ANY (@__statuses_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:00:39.327 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:00:39.329 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 15.6886ms
2025-09-30 10:00:39.331 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:00:39.332 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.4057ms
2025-09-30 10:00:43.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:43.3803548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:00:53.395 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:30:53.3933676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:03.401 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:31:03.3973798+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:13.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:31:13.4115542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:23.430 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:31:23.4289700+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:33.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:31:33.4429965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:43.521 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:31:43.4517303+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:01:53.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:31:53.5234762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:03.538 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:03.5371212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:13.554 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:13.5525243+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:23.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:23.5692415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:33.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:33.5840762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:43.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:43.5988431+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:02:53.618 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:32:53.6167330+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:03.652 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:33:03.6312325+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:13.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:33:13.6624451+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:23.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:33:23.6792943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:33.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:33:33.6833170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:43.693 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:33:43.6907885+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:03:53.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:33:53.6991940+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:03.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:03.7063570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:13.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:13.7250416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:23.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:23.7395092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:33.749 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:33.7479996+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:43.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:43.7573493+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:04:53.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:34:53.7698409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:03.779 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:35:03.7764068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:13.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:35:13.7879611+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:23.797 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:35:23.7951175+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:33.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:35:33.8031604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:43.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:35:43.8059694+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:05:53.821 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:35:53.8189109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:03.822 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:36:03.8204768+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:13.837 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:36:13.8349708+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:23.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:36:23.8655794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:33.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:36:33.8836657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:43.970 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:36:43.8975338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:06:53.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:36:53.9755715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:03.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:03.9913919+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:14.010 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:14.0086227+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:24.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:24.0230352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:34.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:34.0526818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:44.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:44.0706164+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:07:54.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:37:54.0856026+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:04.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:04.1159132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:14.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:14.1307640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:24.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:24.1481275+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:34.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:34.1604310+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:44.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:44.1683316+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:08:54.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:38:54.1823756+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:04.192 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:04.1907358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:14.202 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:14.2006314+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:24.210 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:24.2088257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:34.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:34.2259460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:44.234 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:44.2330815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:09:54.245 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:39:54.2437573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:04.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:04.2557201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:14.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:14.2624300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:24.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:24.2743633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:34.285 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:34.2831738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:44.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:44.2877088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:10:54.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:40:54.2946278+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:04.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:41:04.3081360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:14.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:41:14.3174057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:24.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:41:24.3364342+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:34.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:41:34.3485212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:44.426 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:41:44.3669151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:11:54.465 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:41:54.4634609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:04.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:42:04.4746892+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:14.484 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:42:14.4828257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:24.491 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:42:24.4893932+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:34.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:42:34.5054418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:44.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:42:44.5203181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:12:54.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:42:54.5227463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:04.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:43:04.5330840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:14.548 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:43:14.5463724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:24.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:43:24.5533038+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:34.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:43:34.5689141+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:44.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:43:44.5760722+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:13:54.585 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:43:54.5828589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:04.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:44:04.5933545+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:14.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:44:14.6014420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:24.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:44:24.6107336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:34.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:44:34.6185413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:44.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:44:44.6304811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:14:54.651 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:44:54.6493702+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:04.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:04.6636979+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:14.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:14.6783143+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:24.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:24.6949030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:34.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:34.7028536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:44.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:44.7105572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:15:54.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:45:54.7254225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:04.736 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:46:04.7350576+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:14.743 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:46:14.7410410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:24.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:46:24.7564347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:34.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:46:34.7604297+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:44.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:46:44.7671412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:16:54.825 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:46:54.8231597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:04.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:04.8343195+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:14.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:14.8397283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:24.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:24.8512218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:34.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:34.8657262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:44.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:44.8797840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:17:54.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:47:54.8836310+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:04.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:04.9027293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:14.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:14.9251083+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:24.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:24.9375972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:34.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:34.9473987+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:44.957 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:44.9563449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:18:54.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:48:54.9625388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:04.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:04.9780718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:14.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:14.9930594+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:24.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:24.9973173+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:35.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:35.0054421+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:45.022 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:45.0207614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:19:55.032 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:49:55.0305277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:05.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:05.0341073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:15.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:15.0496163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:25.059 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:25.0576229+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:35.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:35.0659402+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:45.077 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:45.0746089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:20:55.101 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:50:55.0991009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:05.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:51:05.1087399+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:15.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:51:15.1155004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:25.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:51:25.1265698+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:35.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:51:35.1362674+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:45.213 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:51:45.1618099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:21:55.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:51:55.2174367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:05.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:05.2215913+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:08.833 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:22:08.840 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:22:08.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 10.0234ms
2025-09-30 10:22:08.852 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:22:08.856 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:22:08.857 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.723ms
2025-09-30 10:22:08.862 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:22:09.093 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:22:09.095 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:22:09.096 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.8951ms
2025-09-30 10:22:09.099 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:22:09.101 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:22:09.102 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:22:09.103 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:22:09.112 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-24T00:00:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T23:59:59.9990000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:22:09.116 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-24T00:00:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T23:59:59.9990000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:22:09.118 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:22:09.122 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 17.9169ms
2025-09-30 10:22:09.123 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:22:09.125 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 25.6829ms
2025-09-30 10:22:15.228 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:15.2263703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:25.242 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:25.2400647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:35.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:35.2467720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:45.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:45.2558931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:22:55.273 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:52:55.2717116+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:05.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:05.2871957+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:15.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:15.3034466+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:21.111 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:23:21.114 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:23:21.115 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.2417ms
2025-09-30 10:23:21.118 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:23:21.120 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:23:21.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 2.7725ms
2025-09-30 10:23:21.123 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:23:21.353 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:23:21.355 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:23:21.356 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2762ms
2025-09-30 10:23:21.359 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:23:21.361 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:23:21.362 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:23:21.362 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:23:21.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:53:21.0920000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:23:21.371 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:53:21.0920000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:23:21.373 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:23:21.374 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.6825ms
2025-09-30 10:23:21.375 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:23:21.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.0754ms
2025-09-30 10:23:25.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:25.3154293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:35.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:35.3338861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:45.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:45.3449015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:23:55.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:53:55.3510656+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:05.364 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:05.3628828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:15.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:15.3791570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:25.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:25.3814065+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:35.392 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:35.3905002+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:45.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:45.3975367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:45.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:24:45.595 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:45.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.4147ms
2025-09-30 10:24:45.599 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:24:45.600 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:45.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 2.6893ms
2025-09-30 10:24:45.604 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:24:45.851 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:24:45.853 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:45.853 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 2.6139ms
2025-09-30 10:24:45.856 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:24:45.857 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:45.858 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:45.859 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:24:45.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:45.5870000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:24:45.867 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:45.5870000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:24:45.869 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:24:45.870 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.926ms
2025-09-30 10:24:45.871 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:45.872 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.4997ms
2025-09-30 10:24:46.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:46.962 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:46.963 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4554ms
2025-09-30 10:24:46.966 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:46.969 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:46.970 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:46.971 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:46.981 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 10:24:46.990 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:46.992 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:46.994 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 21.253ms
2025-09-30 10:24:46.995 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:46.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 30.5218ms
2025-09-30 10:24:47.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:47.047 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:47.048 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.3469ms
2025-09-30 10:24:47.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:47.057 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:47.059 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:47.060 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:47.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:47.069 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:47.071 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.8096ms
2025-09-30 10:24:47.073 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:47.074 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 21.0984ms
2025-09-30 10:24:47.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:47.119 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:24:47.120 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:47.123 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:47.124 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:47.125 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 5.7605ms
2025-09-30 10:24:47.126 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:47.130 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:24:47.135 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:47.140 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:47.142 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.9303ms
2025-09-30 10:24:47.144 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:47.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 28.5037ms
2025-09-30 10:24:47.367 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:24:47.369 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:47.370 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:47.371 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:24:47.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:47.0970000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:24:47.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:47.0970000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:24:47.382 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:24:47.384 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.2591ms
2025-09-30 10:24:47.385 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:47.386 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.4046ms
2025-09-30 10:24:55.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:54:55.4076032+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:24:56.508 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:56.510 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.511 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.3228ms
2025-09-30 10:24:56.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:56.516 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.517 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.517 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:56.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:56.525 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:56.526 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.6498ms
2025-09-30 10:24:56.528 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.529 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.8334ms
2025-09-30 10:24:56.540 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:56.542 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.1931ms
2025-09-30 10:24:56.549 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:56.552 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.553 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.554 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:56.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:56.562 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:56.564 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.7205ms
2025-09-30 10:24:56.566 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.567 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.4331ms
2025-09-30 10:24:56.600 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:24:56.600 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:24:56.603 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.605 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.606 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 6.4233ms
2025-09-30 10:24:56.608 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.611 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:24:56.612 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:24:56.615 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.618 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 7.523ms
2025-09-30 10:24:56.618 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:24:56.623 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:24:56.625 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:24:56.630 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.3848ms
2025-09-30 10:24:56.631 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:24:56.632 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 32.5277ms
2025-09-30 10:24:56.860 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:24:56.862 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.863 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.2831ms
2025-09-30 10:24:56.866 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:24:56.868 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:24:56.869 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:56.869 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:24:56.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:56.5790000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:24:56.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:54:56.5790000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:24:56.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:24:56.881 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.036ms
2025-09-30 10:24:56.882 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:24:56.883 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 17.1666ms
2025-09-30 10:25:05.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:55:05.4173951+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:25:15.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:55:15.4252327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:25:25.435 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:55:25.4284970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:25:27.415 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:27.418 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:27.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.0182ms
2025-09-30 10:25:27.422 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:27.424 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:27.425 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.0988ms
2025-09-30 10:25:27.428 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:25:27.652 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:25:27.655 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:27.655 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1702ms
2025-09-30 10:25:27.658 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:25:27.661 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:27.661 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:27.662 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:25:27.667 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:27.3870000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:25:27.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:27.3870000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:25:27.674 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:25:27.675 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.2986ms
2025-09-30 10:25:27.677 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:27.678 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.1669ms
2025-09-30 10:25:35.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:55:35.4409919+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:25:43.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:25:43.666 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.667 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.7139ms
2025-09-30 10:25:43.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:25:43.674 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.675 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.677 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:25:43.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:25:43.685 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:25:43.687 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.2124ms
2025-09-30 10:25:43.689 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.690 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.0494ms
2025-09-30 10:25:43.727 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:25:43.730 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.731 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.1881ms
2025-09-30 10:25:43.735 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:25:43.738 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.739 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.741 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:25:43.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:25:43.748 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:25:43.750 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 7.0666ms
2025-09-30 10:25:43.751 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.752 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.3244ms
2025-09-30 10:25:43.798 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:43.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:25:43.801 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.804 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.805 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 6.798ms
2025-09-30 10:25:43.806 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:43.811 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:25:43.814 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:43.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.8031ms
2025-09-30 10:25:43.823 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:25:43.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:25:43.828 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:25:43.830 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.5791ms
2025-09-30 10:25:43.832 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:25:43.833 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.7699ms
2025-09-30 10:25:44.054 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:25:44.057 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:44.057 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.1916ms
2025-09-30 10:25:44.060 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:25:44.062 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:44.063 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:44.064 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:25:44.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:43.7730000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:25:44.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:43.7730000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:25:44.074 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:25:44.075 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 9.6841ms
2025-09-30 10:25:44.076 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:44.077 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 16.9456ms
2025-09-30 10:25:45.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:55:45.4519527+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:25:49.430 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:49.433 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:49.434 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.2608ms
2025-09-30 10:25:49.438 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:25:49.440 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:49.441 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.6402ms
2025-09-30 10:25:49.445 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:25:49.666 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:25:49.668 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:49.669 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.3089ms
2025-09-30 10:25:49.672 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:25:49.674 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:25:49.675 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:49.676 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:25:49.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:49.3940000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:25:49.686 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:55:49.3940000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:25:49.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:25:49.689 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.0883ms
2025-09-30 10:25:49.690 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:25:49.691 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.7777ms
2025-09-30 10:25:55.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:55:55.4593778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:05.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:56:05.4682852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:15.479 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:56:15.4771452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:25.487 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:56:25.4857476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:35.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:56:35.4953481+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:45.556 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:56:45.4994307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:26:55.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:56:55.5618589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:05.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:05.5691646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:09.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:27:09.851 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:27:09.852 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 3.899ms
2025-09-30 10:27:09.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:27:09.857 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:27:09.858 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.1827ms
2025-09-30 10:27:09.861 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:27:10.086 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:27:10.088 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:27:10.089 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7414ms
2025-09-30 10:27:10.093 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:27:10.095 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:27:10.096 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:27:10.096 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:27:10.102 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:57:09.8240000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:27:10.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T04:57:09.8240000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:27:10.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:27:10.109 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.7286ms
2025-09-30 10:27:10.110 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:27:10.111 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.0809ms
2025-09-30 10:27:15.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:15.5756882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:25.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:25.5885781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:35.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:35.5959396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:45.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:45.5992995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:27:55.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:57:55.6031906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:05.612 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:58:05.6102323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:15.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:58:15.6208456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:25.640 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T04:58:25.6363522+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:35.650 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:58:35.6479657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:45.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:58:45.6619591+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:28:55.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:58:55.6722597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:05.685 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:59:05.6829654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:15.734 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:59:15.7316128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:25.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:59:25.7384989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:35.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T04:59:35.7604830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:45.771 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:59:45.7685849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:29:55.786 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T04:59:55.7831872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:05.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:00:05.8039423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:15.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:00:15.8105363+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:25.826 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:00:25.8237057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:35.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:00:35.8471285+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:45.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:00:45.8545364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:30:55.875 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:00:55.8727761+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:05.889 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:01:05.8863296+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:15.898 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:01:15.8960111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:25.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:01:25.9132891+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:35.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:01:35.9266398+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:46.036 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:01:45.9420136+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:31:56.042 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:01:56.0398972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:06.059 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:02:06.0560534+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:16.075 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:02:16.0725094+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:26.080 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:02:26.0782155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:36.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:02:36.0898764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:46.103 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:02:46.1008112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:32:56.110 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:02:56.1066187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:06.121 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:03:06.1186549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:16.129 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:03:16.1271748+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:26.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:03:26.1352983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:36.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:03:36.1457212+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:46.157 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:03:46.1547114+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:33:56.169 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:03:56.1660638+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:06.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:04:06.1785280+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:16.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:04:16.1839880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:26.194 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:04:26.1904022+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:36.203 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:04:36.2008969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:46.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:04:46.2129686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:34:56.227 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:04:56.2246930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:06.244 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:05:06.2413270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:16.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:05:16.2561282+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:26.280 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:05:26.2777480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:36.302 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:05:36.3001108+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:46.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:05:46.3142581+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:35:56.329 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:05:56.3272800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:06.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:06:06.3519797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:16.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:06:16.3614562+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:26.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:06:26.3747393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:36.403 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:06:36.4005695+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:46.513 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:06:46.4110150+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:36:56.517 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:06:56.5143217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:06.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:07:06.5191223+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:16.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:07:16.5341751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:26.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:07:26.5557415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:36.575 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:07:36.5719369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:46.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:07:46.5963807+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:37:56.617 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:07:56.6142467+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:06.631 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:08:06.6284653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:16.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:08:16.6366332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:26.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:08:26.6511393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:36.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:08:36.6519498+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:46.665 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:08:46.6625362+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:38:56.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:08:56.6711969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:06.682 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:09:06.6792075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:16.701 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:09:16.6989185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:26.715 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:09:26.7120279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:36.734 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:09:36.7322463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:46.740 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:09:46.7384698+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:39:56.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:09:56.7465368+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:06.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:10:06.7550388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:16.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:10:16.7815281+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:26.797 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:10:26.7955011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:36.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:10:36.8070616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:46.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:10:46.8144254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:40:56.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:10:56.8392853+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:06.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:11:06.8490842+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:16.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:11:16.8538992+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:26.869 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:11:26.8680020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:36.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:11:36.8758068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:46.966 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:11:46.8777599+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:41:56.021 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:41:56.025 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:41:56.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 6.7135ms
2025-09-30 10:41:56.034 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:41:56.052 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:41:56.212 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:41:56.222 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:41:56.223 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 10.7936ms
2025-09-30 10:41:56.229 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:41:56.234 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:41:56.236 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 05:02:27 AM', Current time (UTC): '30-09-2025 05:11:56 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 10:41:56.092 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 05:02:27 AM', Current time (UTC): '30-09-2025 05:11:56 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 10:41:56.278 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 05:02:27 AM', Current time (UTC): '30-09-2025 05:11:56 AM'.
2025-09-30 10:41:56.278 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 05:02:27 AM', Current time (UTC): '30-09-2025 05:11:56 AM'.
2025-09-30 10:41:56.282 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 247.7908ms
2025-09-30 10:41:56.287 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:41:56.291 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 10:41:56.310 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 10:41:56.312 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 401 0 null 83.1288ms
2025-09-30 10:41:56.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:11:56.9717162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:03.831 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 10:42:03.837 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:03.841 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 10.5434ms
2025-09-30 10:42:03.846 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 10:42:03.850 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:03.851 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 10:42:03.854 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 10:42:03.861 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 10:42:03.873 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 10:42:03.885 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 10:42:03.909 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 10:42:03.914 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 10:42:03.921 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 10:42:03.923 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 10:42:03.925 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:42:03.927 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 70.0649ms
2025-09-30 10:42:03.929 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 10:42:03.931 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 85.3185ms
2025-09-30 10:42:03.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:42:03.942 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:03.944 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.0953ms
2025-09-30 10:42:03.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:42:03.951 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:03.953 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:03.954 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:42:03.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:42:03.964 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:42:03.966 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.2462ms
2025-09-30 10:42:03.968 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:03.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 21.823ms
2025-09-30 10:42:03.991 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:42:03.995 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:03.996 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.6295ms
2025-09-30 10:42:04.002 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:42:04.006 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:04.007 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:04.009 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:42:04.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:42:04.020 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:42:04.023 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.565ms
2025-09-30 10:42:04.025 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:04.026 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.5193ms
2025-09-30 10:42:04.087 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:42:04.092 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:04.095 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:04.097 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:42:04.104 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:42:04.110 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:42:04.112 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.7573ms
2025-09-30 10:42:04.115 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:42:04.117 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 29.9806ms
2025-09-30 10:42:06.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:12:06.9783444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:08.140 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:42:08.145 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:08.147 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 6.8997ms
2025-09-30 10:42:08.153 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:42:08.157 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:08.159 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 5.1743ms
2025-09-30 10:42:08.164 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:42:08.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:42:08.363 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:08.364 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.5898ms
2025-09-30 10:42:08.370 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:42:08.374 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:08.375 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:42:08.376 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:42:08.387 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:12:08.0910000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:42:08.393 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:12:08.0910000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:42:08.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:42:08.399 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 19.7849ms
2025-09-30 10:42:08.401 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:42:08.403 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 33.4041ms
2025-09-30 10:42:16.999 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:12:16.9969276+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:27.000 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:12:26.9975463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:37.025 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:12:37.0223897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:39.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:42:39.424 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:39.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.9872ms
2025-09-30 10:42:39.430 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 163
2025-09-30 10:42:39.433 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:42:39.435 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:42:39.436 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:42:39.494 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:12:08.0910000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
2025-09-30 10:42:39.509 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:12:08.0910000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:42:39.513 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:42:39.515 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 75.7183ms
2025-09-30 10:42:39.517 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:42:39.518 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 88.2084ms
2025-09-30 10:42:47.041 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:12:47.0383531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:42:57.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:12:57.0445435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:07.089 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:13:07.0866177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:17.104 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:13:17.1014862+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:27.115 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:13:27.1124791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:37.126 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:13:37.1238334+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:47.148 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:13:47.1454054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:43:57.169 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:13:57.1663282+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:07.176 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T05:14:07.1704635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:17.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:14:17.1883617+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:27.207 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:14:27.2049029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:37.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:14:37.2148879+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:47.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:14:47.2219394+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:44:57.234 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:14:57.2328826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:07.244 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:15:07.2417668+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:17.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:15:17.2500412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:27.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:15:27.2521748+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:37.281 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:15:37.2571539+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:47.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:15:47.2924423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:45:57.306 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:15:57.3044158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:07.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:16:07.3172131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:17.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:16:17.3272603+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:27.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:16:27.3340507+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:37.344 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:16:37.3424344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:47.479 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:16:47.3557967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:46:57.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:16:57.4781781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:07.497 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:17:07.4942162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:12.727 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:47:12.730 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:47:12.731 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.5876ms
2025-09-30 10:47:12.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:47:12.739 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:47:12.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.2592ms
2025-09-30 10:47:12.746 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:47:12.939 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:47:12.946 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:47:12.947 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 8.2264ms
2025-09-30 10:47:12.952 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 163
2025-09-30 10:47:12.954 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:47:12.956 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:47:12.959 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:47:12.969 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:17:12.6720000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
2025-09-30 10:47:12.974 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:17:12.6720000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:47:12.977 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:47:12.978 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.5674ms
2025-09-30 10:47:12.980 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:47:12.981 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 29.8299ms
2025-09-30 10:47:17.515 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:17:17.5123929+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:27.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:17:27.5240298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:37.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:17:37.5324806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:47.546 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T05:17:47.5418338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:47:57.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:17:57.5575568+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:07.598 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:18:07.5939249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:17.608 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:18:17.6050901+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:27.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:18:27.6113720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:37.626 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:18:37.6226860+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:47.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:18:47.6494291+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:48:57.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:18:57.6664868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:07.676 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:19:07.6728428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:17.690 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:19:17.6877989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:27.697 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:19:27.6950380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:37.711 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:19:37.7084607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:47.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:19:47.7156964+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:49:57.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:19:57.7264759+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:07.736 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:20:07.7340263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:17.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:20:17.7414750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:27.762 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:20:27.7592537+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:37.780 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:20:37.7781888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:47.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:20:47.7940079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:50:54.566 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:50:54.570 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:50:54.571 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.9962ms
2025-09-30 10:50:54.577 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 163
2025-09-30 10:50:54.581 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:50:54.583 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:50:54.585 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:50:54.592 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:17:12.6720000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
2025-09-30 10:50:54.600 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:17:12.6720000Z' (DbType = DateTime), @__senders_3={ '673199269218077' } (DbType = Object), @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND c."PhoneNumberId" IS NOT NULL AND c."PhoneNumberId" = ANY (@__senders_3)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:50:54.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:50:54.607 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 19.6811ms
2025-09-30 10:50:54.609 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:50:54.610 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 33.2121ms
2025-09-30 10:50:57.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:20:57.8067287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:07.818 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:21:07.8151822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:17.825 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:21:17.8235723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:27.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:21:27.8292965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:37.842 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:21:37.8397415+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:47.954 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:21:47.8570231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:51:57.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:21:57.9626182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:07.973 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:22:07.9707315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:17.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:22:17.9815340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:27.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:22:27.9934658+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:38.015 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:22:38.0134572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:48.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:22:48.0195375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:52:58.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:22:58.0246307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:08.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:23:08.0419495+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:18.057 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:23:18.0552843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:28.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:23:28.0586273+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:38.078 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:23:38.0759383+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:48.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:23:48.0899104+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:53:58.101 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:23:58.0990640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:08.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:24:08.1054586+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:12.211 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:54:12.220 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 9.5426ms
2025-09-30 10:54:12.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:54:12.226 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.227 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.228 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:54:12.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:54:12.236 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:54:12.237 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.7637ms
2025-09-30 10:54:12.239 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.240 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.7576ms
2025-09-30 10:54:12.302 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:54:12.305 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.306 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.3797ms
2025-09-30 10:54:12.310 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:54:12.319 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.320 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.321 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:54:12.326 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:54:12.333 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:54:12.335 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.0328ms
2025-09-30 10:54:12.336 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 28.1352ms
2025-09-30 10:54:12.382 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:54:12.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:54:12.391 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.393 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.394 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 11.503ms
2025-09-30 10:54:12.395 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:54:12.399 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:54:12.401 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:54:12.405 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.7121ms
2025-09-30 10:54:12.408 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:54:12.411 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:54:12.413 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.3605ms
2025-09-30 10:54:12.416 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:54:12.417 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 34.2721ms
2025-09-30 10:54:12.635 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:54:12.638 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.7539ms
2025-09-30 10:54:12.642 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:54:12.644 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:12.645 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:54:12.646 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:54:12.653 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:12.3610000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:54:12.658 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:12.3610000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:54:12.660 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:54:12.662 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.2889ms
2025-09-30 10:54:12.663 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:54:12.664 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 22.0534ms
2025-09-30 10:54:13.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:54:13.099 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:13.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 3.9577ms
2025-09-30 10:54:13.103 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:54:13.342 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:54:13.347 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:54:13.348 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:54:13.350 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:54:13.356 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:54:13.361 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:54:13.364 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:54:13.365 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 13.8542ms
2025-09-30 10:54:13.367 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:54:13.368 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 25.7093ms
2025-09-30 10:54:18.121 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:24:18.1181499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:28.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:24:28.1270094+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:38.131 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:24:38.1288019+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:48.138 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:24:48.1356985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:54:58.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:24:58.1460943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:08.168 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:25:08.1661666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:17.403 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:55:17.407 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:55:17.408 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.7533ms
2025-09-30 10:55:17.412 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 145
2025-09-30 10:55:17.416 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:55:17.417 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:17.419 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:55:17.478 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__s_3_contains='%im%'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND (lower(COALESCE(m."RecipientNumber", '')) LIKE @__s_3_contains OR lower(COALESCE(m."MessageContent", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ErrorMessage", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ProviderMessageId", m."MessageId", '')) LIKE @__s_3_contains OR lower(COALESCE(c."Name", '')) LIKE @__s_3_contains)
2025-09-30 10:55:17.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__s_3_contains='%im%', @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND (lower(COALESCE(m."RecipientNumber", '')) LIKE @__s_3_contains OR lower(COALESCE(m."MessageContent", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ErrorMessage", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ProviderMessageId", m."MessageId", '')) LIKE @__s_3_contains OR lower(COALESCE(c."Name", '')) LIKE @__s_3_contains)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:55:17.493 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:55:17.495 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 73.6172ms
2025-09-30 10:55:17.497 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:17.499 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 86.9378ms
2025-09-30 10:55:17.696 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 146
2025-09-30 10:55:17.699 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:55:17.701 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:17.702 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:55:17.708 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__s_3_contains='%img%'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND (lower(COALESCE(m."RecipientNumber", '')) LIKE @__s_3_contains OR lower(COALESCE(m."MessageContent", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ErrorMessage", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ProviderMessageId", m."MessageId", '')) LIKE @__s_3_contains OR lower(COALESCE(c."Name", '')) LIKE @__s_3_contains)
2025-09-30 10:55:17.714 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__s_3_contains='%img%', @__p_5='25', @__p_4='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2 AND (lower(COALESCE(m."RecipientNumber", '')) LIKE @__s_3_contains OR lower(COALESCE(m."MessageContent", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ErrorMessage", '')) LIKE @__s_3_contains OR lower(COALESCE(m."ProviderMessageId", m."MessageId", '')) LIKE @__s_3_contains OR lower(COALESCE(c."Name", '')) LIKE @__s_3_contains)
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_5 OFFSET @__p_4
2025-09-30 10:55:17.717 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:55:17.719 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 14.2865ms
2025-09-30 10:55:17.721 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:17.722 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 26.4744ms
2025-09-30 10:55:18.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:25:18.1861819+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:19.718 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:55:19.721 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:55:19.723 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:19.725 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:55:19.731 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:55:19.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:24:13.0810000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:55:19.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:55:19.743 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 15.9513ms
2025-09-30 10:55:19.745 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:55:19.746 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 28.7483ms
2025-09-30 10:55:28.199 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:25:28.1964073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:38.205 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:25:38.2028655+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:48.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:25:48.2040667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:55:58.216 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:25:58.2132129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:08.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:26:08.2271162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:18.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:26:18.2447811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:28.261 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:26:28.2588055+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:35.887 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:35.891 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:35.893 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9866ms
2025-09-30 10:56:35.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:35.900 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:35.901 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:35.902 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:35.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:35.912 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:35.913 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.8443ms
2025-09-30 10:56:35.915 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:35.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.5065ms
2025-09-30 10:56:35.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:35.984 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:35.986 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 8.4006ms
2025-09-30 10:56:35.992 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:35.996 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:35.999 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:36.001 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:36.008 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:36.014 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:36.016 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.8194ms
2025-09-30 10:56:36.018 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:36.020 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 28.0279ms
2025-09-30 10:56:36.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:36.077 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:56:36.080 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:36.084 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:36.085 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:36.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 8.8465ms
2025-09-30 10:56:36.087 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:36.092 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:56:36.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:36.101 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:36.104 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:36.107 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.7279ms
2025-09-30 10:56:36.109 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:36.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.8896ms
2025-09-30 10:56:36.113 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 21.6431ms
2025-09-30 10:56:36.120 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:56:36.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:56:36.351 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:36.357 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 24.3002ms
2025-09-30 10:56:36.364 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:56:36.369 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:36.370 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:36.372 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:56:36.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:36.0510000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:56:36.395 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:36.0510000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:56:36.403 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:56:36.406 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 29.5195ms
2025-09-30 10:56:36.412 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:36.414 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 49.4368ms
2025-09-30 10:56:38.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:26:38.2818895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:39.192 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:56:39.195 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:39.197 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 4.436ms
2025-09-30 10:56:39.200 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:56:40.168 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:56:40.171 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:40.172 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:40.173 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:56:40.177 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:39.1690000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:56:40.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:39.1690000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:56:40.183 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:56:40.185 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 10.0601ms
2025-09-30 10:56:40.186 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:40.187 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 18.7371ms
2025-09-30 10:56:43.560 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:43.563 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.563 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.0529ms
2025-09-30 10:56:43.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:43.569 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.570 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.571 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:43.574 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:43.578 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:43.579 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.6174ms
2025-09-30 10:56:43.580 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.7286ms
2025-09-30 10:56:43.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:43.597 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.598 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.3914ms
2025-09-30 10:56:43.602 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:43.605 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.606 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.608 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:43.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:43.619 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:43.621 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.4396ms
2025-09-30 10:56:43.622 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 21.7047ms
2025-09-30 10:56:43.666 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:56:43.666 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 10:56:43.669 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.672 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.672 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 5.8443ms
2025-09-30 10:56:43.673 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:56:43.677 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 10:56:43.680 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.683 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.604ms
2025-09-30 10:56:43.685 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 10:56:43.689 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:56:43.692 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 10:56:43.695 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.1676ms
2025-09-30 10:56:43.696 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 10:56:43.697 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 30.9706ms
2025-09-30 10:56:43.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:56:43.920 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 3.3585ms
2025-09-30 10:56:43.924 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:56:43.926 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:43.927 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:43.928 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:56:43.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:43.6480000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:56:43.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:43.6480000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:56:43.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:56:43.941 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 11.2484ms
2025-09-30 10:56:43.943 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:56:43.944 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 19.4127ms
2025-09-30 10:56:48.394 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:26:48.2982542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:58.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:26:58.4004725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:56:58.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - null null
2025-09-30 10:56:58.687 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:58.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/export/csv - 204 null null 11.5359ms
2025-09-30 10:56:58.700 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - application/json 108
2025-09-30 10:56:58.704 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:56:58.706 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-30 10:56:58.707 +05:30 [INF] Route matched with {action = "ExportCsv", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportCsv(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:56:58.716 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:43.6480000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:56:58.721 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:26:43.6480000Z' (DbType = DateTime), @__p_4='200', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:56:58.748 +05:30 [INF] Executing FileContentResult, sending file with download name 'MessageLogs-20250930052658.csv' ...
2025-09-30 10:56:58.759 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api) in 49.1488ms
2025-09-30 10:56:58.761 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.ExportCsv (xbytechat.api)'
2025-09-30 10:56:58.763 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/export/csv - 200 10372 text/csv 62.6187ms
2025-09-30 10:57:08.414 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:27:08.4108441+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:57:18.424 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:27:18.4211933+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:57:28.438 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:27:28.4361349+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:57:30.232 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:57:30.237 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:57:30.238 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 5.4661ms
2025-09-30 10:57:30.242 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 10:57:30.245 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:57:30.248 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 5.3542ms
2025-09-30 10:57:30.253 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 10:57:30.447 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 10:57:30.451 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:57:30.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 5.5249ms
2025-09-30 10:57:30.457 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 10:57:30.460 +05:30 [INF] CORS policy execution successful.
2025-09-30 10:57:30.462 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:57:30.463 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 10:57:30.470 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:27:30.1780000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 10:57:30.477 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:27:30.1780000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 10:57:30.481 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 10:57:30.484 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 17.6068ms
2025-09-30 10:57:30.486 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 10:57:30.488 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 31.3578ms
2025-09-30 10:57:38.440 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:27:38.4375785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:57:48.452 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:27:48.4501265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:57:58.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:27:58.4553763+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:08.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:28:08.4682149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:18.479 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:28:18.4770865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:28.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:28:28.4964420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:38.523 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:28:38.5206690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:48.538 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:28:48.5356190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:58:58.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:28:58.5451503+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:59:08.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:29:08.5552343+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:59:18.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:29:18.5614465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:59:28.575 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:29:28.5720239+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:59:38.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:29:38.5920830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 10:59:52.558 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:29:52.5559556+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:02.574 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:30:02.5715151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:12.585 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:30:12.5825296+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:22.595 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:30:22.5911440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:32.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:30:32.6079759+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:42.615 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:30:42.6129424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:00:52.638 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:30:52.6351854+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:01.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:01:01.907 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:01.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 9.0684ms
2025-09-30 11:01:01.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:01:01.922 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:01.925 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:01:01.962 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:01:02.040 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:01:02.048 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:01:02.081 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 116.8365ms
2025-09-30 11:01:02.084 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:01:02.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 171.3902ms
2025-09-30 11:01:02.649 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:31:02.6469791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:07.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:01:07.983 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:07.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 5.2061ms
2025-09-30 11:01:07.989 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:01:07.993 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:07.994 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:01:07.997 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:01:08.004 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:01:08.009 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:01:08.011 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 12.0694ms
2025-09-30 11:01:08.013 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:01:08.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 26.2602ms
2025-09-30 11:01:10.753 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-09-30 11:01:10.758 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:10.759 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 204 null null 6.6671ms
2025-09-30 11:01:10.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-09-30 11:01:10.772 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:10.790 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-09-30 11:01:10.802 +05:30 [INF] Route matched with {action = "GetPaginatedCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedCampaigns(xbytechat.api.Shared.PaginatedRequest) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:01:10.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Campaigns" AS c
WHERE c."BusinessId" = @__businessId_0
2025-09-30 11:01:10.925 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt"
FROM "Campaigns" AS c
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-30 11:01:10.929 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:01:10.939 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api) in 133.9346ms
2025-09-30 11:01:10.942 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-09-30 11:01:10.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 200 null application/json; charset=utf-8 178.3978ms
2025-09-30 11:01:12.660 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:31:12.6580741+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:22.665 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:31:22.6629205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:30.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:30.780 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:30.782 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 204 null null 9.9195ms
2025-09-30 11:01:30.790 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:30.798 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:30.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 404 0 null 9.3414ms
2025-09-30 11:01:30.805 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary, Response status code: 404
2025-09-30 11:01:32.676 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:31:32.6741602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:42.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:31:42.6828764+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:48.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:48.325 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:48.327 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 204 null null 9.006ms
2025-09-30 11:01:48.331 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:48.335 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:48.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 404 0 null 4.9293ms
2025-09-30 11:01:48.341 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary, Response status code: 404
2025-09-30 11:01:51.440 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-09-30 11:01:51.445 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:51.446 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 204 null null 6.3714ms
2025-09-30 11:01:51.458 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-09-30 11:01:51.463 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:51.464 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-09-30 11:01:51.466 +05:30 [INF] Route matched with {action = "GetPaginatedCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedCampaigns(xbytechat.api.Shared.PaginatedRequest) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:01:51.579 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Campaigns" AS c
WHERE c."BusinessId" = @__businessId_0
2025-09-30 11:01:51.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt"
FROM "Campaigns" AS c
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-30 11:01:51.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:01:51.590 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api) in 121.1065ms
2025-09-30 11:01:51.592 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-09-30 11:01:51.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 200 null application/json; charset=utf-8 134.6318ms
2025-09-30 11:01:52.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:31:52.6994611+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:01:54.846 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:54.851 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:54.852 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 204 null null 5.8739ms
2025-09-30 11:01:54.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:01:54.866 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:54.868 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 404 0 null 6.4243ms
2025-09-30 11:01:54.873 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary, Response status code: 404
2025-09-30 11:01:59.070 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 11:01:59.075 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:59.076 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.72ms
2025-09-30 11:01:59.081 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 11:01:59.086 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:01:59.088 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:01:59.095 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:01:59.138 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 11:01:59.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:01:59.145 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 47.1451ms
2025-09-30 11:01:59.147 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:01:59.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 67.3362ms
2025-09-30 11:02:02.496 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:02:02.501 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:02.502 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 6.325ms
2025-09-30 11:02:02.513 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:02:02.517 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:02.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.0809ms
2025-09-30 11:02:02.523 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 11:02:02.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:32:02.7131035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:02:02.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 11:02:02.722 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:02.723 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 7.2073ms
2025-09-30 11:02:02.727 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 11:02:02.731 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:02.732 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:02:02.733 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 11:02:02.741 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:32:02.4540000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 11:02:02.747 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:32:02.4540000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 11:02:02.750 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:02:02.752 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 16.7739ms
2025-09-30 11:02:02.754 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:02:02.755 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 28.0645ms
2025-09-30 11:02:05.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/get-image-campaign?type=image - null null
2025-09-30 11:02:05.347 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:05.348 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/get-image-campaign?type=image - 204 null null 6.5678ms
2025-09-30 11:02:05.353 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/get-image-campaign?type=image - null null
2025-09-30 11:02:05.359 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:05.361 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:02:05.365 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:02:05.382 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__type_1='image'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0 AND c."CampaignType" = @__type_1
ORDER BY c."CreatedAt" DESC
2025-09-30 11:02:05.388 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:02:05.390 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 22.002ms
2025-09-30 11:02:05.392 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:02:05.394 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/get-image-campaign?type=image - 200 null application/json; charset=utf-8 40.669ms
2025-09-30 11:02:10.099 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - null null
2025-09-30 11:02:10.104 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.105 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - 204 null null 5.8472ms
2025-09-30 11:02:10.108 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:02:10.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:02:10.116 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.120 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.121 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 204 null null 12.4961ms
2025-09-30 11:02:10.122 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 6.6756ms
2025-09-30 11:02:10.127 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts - null null
2025-09-30 11:02:10.128 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:02:10.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:02:10.143 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.148 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.151 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:02:10.151 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:02:10.152 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:02:10.153 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:02:10.161 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 11:02:10.161 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-09-30 11:02:10.162 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 11:02:10.176 +05:30 [INF] GetPagedContactsAsync: businessId="9841bcab-ca71-439f-8691-d85ada887b01", tab=all, page=1, pageSize=25
2025-09-30 11:02:10.196 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-09-30 11:02:10.203 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 11:02:10.211 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 11:02:10.219 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:02:10.232 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 67.9554ms
2025-09-30 11:02:10.234 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:02:10.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 107.9106ms
2025-09-30 11:02:10.281 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."ProfileName", t."ProfileNameUpdatedAt", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-09-30 11:02:10.322 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 11:02:10.331 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:02:10.333 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:02:10.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 11:02:10.377 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 210.5262ms
2025-09-30 11:02:10.380 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:02:10.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts - 200 null application/json; charset=utf-8 254.8473ms
2025-09-30 11:02:11.552 +05:30 [INF] Received HTTP response headers after 1217.3741ms - 401
2025-09-30 11:02:11.554 +05:30 [INF] End processing HTTP request after 1223.9206ms - 401
2025-09-30 11:02:11.557 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:32:13 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ATgFjdi67NZiil_adiauika"}}
2025-09-30 11:02:11.559 +05:30 [ERR] ❌ Meta template fetch failed (Biz "9841bcab-ca71-439f-8691-d85ada887b01"): {"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:32:13 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ATgFjdi67NZiil_adiauika"}}
2025-09-30 11:02:11.564 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:02:11.569 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 1398.7631ms
2025-09-30 11:02:11.571 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:02:11.574 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 200 null application/json; charset=utf-8 1434.3865ms
2025-09-30 11:02:12.728 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:32:12.7249313+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:02:22.740 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:32:22.7378382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:02:32.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:32:32.7507959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:02:42.774 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:32:42.7715775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:02:52.793 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:32:52.7911911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:02.799 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:33:02.7966670+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:12.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:33:12.8044234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:22.819 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:33:22.8162017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:32.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:33:32.8376387+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:42.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:33:42.8486102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:03:52.863 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:33:52.8602028+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:02.879 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:34:02.8764089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:12.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:34:12.8809633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:22.899 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:34:22.8966623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:32.912 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:34:32.9093537+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:42.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:34:42.9148435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:04:52.927 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:34:52.9249661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:02.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:35:02.9311637+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:12.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:35:12.9419422+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:22.962 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:35:22.9595976+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:32.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:35:32.9751988+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:39.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:39.675 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.9542ms
2025-09-30 11:05:39.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:39.683 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.685 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.686 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:39.691 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:39.696 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:39.698 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.7966ms
2025-09-30 11:05:39.700 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.9661ms
2025-09-30 11:05:39.783 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:39.787 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.789 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.3838ms
2025-09-30 11:05:39.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:39.802 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.804 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.807 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:39.814 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:39.819 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:39.821 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.0485ms
2025-09-30 11:05:39.823 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.825 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 28.2776ms
2025-09-30 11:05:39.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - null null
2025-09-30 11:05:39.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:05:39.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:05:39.880 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:39.881 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.884 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.887 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.891 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.892 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - 204 null null 21.8393ms
2025-09-30 11:05:39.893 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 204 null null 18.5466ms
2025-09-30 11:05:39.894 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 15.7053ms
2025-09-30 11:05:39.896 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.904 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:05:39.909 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts - null null
2025-09-30 11:05:39.913 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:05:39.914 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:39.917 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.920 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.929 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:39.924 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:39.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:39.932 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:39.933 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 11:05:39.934 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:39.937 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:39.938 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-09-30 11:05:39.943 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 11:05:39.945 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 11:05:39.947 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 20.3071ms
2025-09-30 11:05:39.950 +05:30 [INF] GetPagedContactsAsync: businessId="9841bcab-ca71-439f-8691-d85ada887b01", tab=all, page=1, pageSize=25
2025-09-30 11:05:39.952 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 11:05:39.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-09-30 11:05:39.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 11:05:39.957 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:39.955 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:05:39.970 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."ProfileName", t."ProfileNameUpdatedAt", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-09-30 11:05:39.972 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:39.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 92.9244ms
2025-09-30 11:05:39.975 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 34.303ms
2025-09-30 11:05:39.979 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 11:05:39.980 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:39.987 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:39.989 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 39.503ms
2025-09-30 11:05:39.993 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 88.901ms
2025-09-30 11:05:39.996 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:40.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts - 200 null application/json; charset=utf-8 92.3628ms
2025-09-30 11:05:40.849 +05:30 [INF] Received HTTP response headers after 858.313ms - 401
2025-09-30 11:05:40.851 +05:30 [INF] End processing HTTP request after 878.7935ms - 401
2025-09-30 11:05:40.852 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:35:43 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AsuVcMeoiDzImgPu1MQT49d"}}
2025-09-30 11:05:40.854 +05:30 [ERR] ❌ Meta template fetch failed (Biz "9841bcab-ca71-439f-8691-d85ada887b01"): {"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:35:43 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AsuVcMeoiDzImgPu1MQT49d"}}
2025-09-30 11:05:40.857 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:40.859 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 906.7884ms
2025-09-30 11:05:40.861 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:40.862 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 200 null application/json; charset=utf-8 949.5188ms
2025-09-30 11:05:42.987 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:35:42.9846023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:46.233 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:46.242 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:46.249 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 17.8161ms
2025-09-30 11:05:46.254 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:46.258 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:46.259 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.261 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:46.266 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:46.271 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:46.274 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.7814ms
2025-09-30 11:05:46.276 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.9733ms
2025-09-30 11:05:46.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:46.313 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:46.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.5535ms
2025-09-30 11:05:46.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:46.325 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:46.327 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.328 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:46.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:46.339 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:46.341 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.4009ms
2025-09-30 11:05:46.343 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.6812ms
2025-09-30 11:05:46.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:05:46.402 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:46.403 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.405 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:05:46.410 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:05:46.415 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:46.417 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.3595ms
2025-09-30 11:05:46.419 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:05:46.421 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 23.3014ms
2025-09-30 11:05:48.935 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:05:48.940 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:48.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 5.9228ms
2025-09-30 11:05:48.947 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:05:48.951 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:48.953 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:05:48.954 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:05:48.964 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:05:48.968 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:48.971 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 13.1846ms
2025-09-30 11:05:48.973 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:05:48.974 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 26.9336ms
2025-09-30 11:05:52.991 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:35:52.9886667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:05:55.647 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - null null
2025-09-30 11:05:55.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:05:55.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:05:55.654 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.661 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.664 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.665 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - 204 null null 18.4791ms
2025-09-30 11:05:55.666 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 204 null null 17.4594ms
2025-09-30 11:05:55.668 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 18.5056ms
2025-09-30 11:05:55.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:05:55.678 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts - null null
2025-09-30 11:05:55.684 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:05:55.688 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.692 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.696 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:55.697 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:55.698 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:55.699 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:55.700 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 11:05:55.701 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-09-30 11:05:55.702 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 11:05:55.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 11:05:55.708 +05:30 [INF] GetPagedContactsAsync: businessId="9841bcab-ca71-439f-8691-d85ada887b01", tab=all, page=1, pageSize=25
2025-09-30 11:05:55.714 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 11:05:55.716 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:05:55.721 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-09-30 11:05:55.727 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 22.482ms
2025-09-30 11:05:55.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 11:05:55.734 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."ProfileName", t."ProfileNameUpdatedAt", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-09-30 11:05:55.734 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:55.737 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:55.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 11:05:55.743 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 69.764ms
2025-09-30 11:05:55.744 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:55.746 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 38.9472ms
2025-09-30 11:05:55.754 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:55.756 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts - 200 null application/json; charset=utf-8 77.7482ms
2025-09-30 11:05:56.068 +05:30 [INF] Received HTTP response headers after 315.9215ms - 401
2025-09-30 11:05:56.071 +05:30 [INF] End processing HTTP request after 333.3638ms - 401
2025-09-30 11:05:56.073 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:35:58 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AHKwkWo032XMty8UDQQClDj"}}
2025-09-30 11:05:56.074 +05:30 [ERR] ❌ Meta template fetch failed (Biz "9841bcab-ca71-439f-8691-d85ada887b01"): {"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:35:58 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AHKwkWo032XMty8UDQQClDj"}}
2025-09-30 11:05:56.076 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:56.079 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 365.9714ms
2025-09-30 11:05:56.081 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:56.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 200 null application/json; charset=utf-8 398.6429ms
2025-09-30 11:05:58.683 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts - null null
2025-09-30 11:05:58.686 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:05:58.686 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:05:58.689 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:58.694 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:58.697 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:05:58.698 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:58.699 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:58.700 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:58.702 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-09-30 11:05:58.703 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 11:05:58.705 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 11:05:58.709 +05:30 [INF] GetPagedContactsAsync: businessId="9841bcab-ca71-439f-8691-d85ada887b01", tab=all, page=1, pageSize=25
2025-09-30 11:05:58.711 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 11:05:58.722 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-09-30 11:05:58.717 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 11:05:58.732 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."ProfileName", t."ProfileNameUpdatedAt", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-09-30 11:05:58.734 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:05:58.737 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 11:05:58.738 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 24.3142ms
2025-09-30 11:05:58.740 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 31.3215ms
2025-09-30 11:05:58.741 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:05:58.743 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:05:58.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 57.8488ms
2025-09-30 11:05:58.745 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts - 200 null application/json; charset=utf-8 62.0327ms
2025-09-30 11:05:58.811 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 11:05:58.815 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:58.816 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:05:59.188 +05:30 [INF] Received HTTP response headers after 370.1638ms - 401
2025-09-30 11:05:59.191 +05:30 [INF] End processing HTTP request after 376.3681ms - 401
2025-09-30 11:05:59.193 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:36:01 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ANm0n_hDOIlm-En6Kd-9pZN"}}
2025-09-30 11:05:59.195 +05:30 [ERR] ❌ Meta template fetch failed (Biz "9841bcab-ca71-439f-8691-d85ada887b01"): {"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:36:01 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ANm0n_hDOIlm-En6Kd-9pZN"}}
2025-09-30 11:05:59.196 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:05:59.198 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 486.783ms
2025-09-30 11:05:59.200 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:05:59.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 200 null application/json; charset=utf-8 515.8333ms
2025-09-30 11:06:03.007 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:36:03.0056635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:06:13.016 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:36:13.0133808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:06:14.907 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 11:06:14.912 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:14.915 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.9273ms
2025-09-30 11:06:14.940 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 11:06:14.943 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:14.946 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 11:06:14.947 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 11:06:14.951 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 11:06:14.956 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 11:06:14.964 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 11:06:14.975 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 11:06:14.979 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 11:06:14.981 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 11:06:14.982 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 11:06:14.984 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:06:14.985 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 35.1523ms
2025-09-30 11:06:14.987 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 11:06:14.988 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 48.2591ms
2025-09-30 11:06:14.995 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:06:15.001 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:15.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.3776ms
2025-09-30 11:06:15.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:06:15.010 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:15.012 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.014 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:06:15.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:06:15.024 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:06:15.026 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.3858ms
2025-09-30 11:06:15.028 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.029 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.868ms
2025-09-30 11:06:15.050 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:06:15.054 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:15.055 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.7653ms
2025-09-30 11:06:15.062 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:06:15.067 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:15.068 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.070 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:06:15.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:06:15.082 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:06:15.084 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.134ms
2025-09-30 11:06:15.087 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.629ms
2025-09-30 11:06:15.178 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 11:06:15.182 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:15.184 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.186 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 11:06:15.192 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 11:06:15.197 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:06:15.199 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.856ms
2025-09-30 11:06:15.201 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 11:06:15.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.3451ms
2025-09-30 11:06:21.185 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - null null
2025-09-30 11:06:21.185 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:06:21.186 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:06:21.191 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.197 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.202 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.203 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts - 204 null null 17.6242ms
2025-09-30 11:06:21.204 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 18.7055ms
2025-09-30 11:06:21.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 204 null null 20.1816ms
2025-09-30 11:06:21.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 11:06:21.215 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts - null null
2025-09-30 11:06:21.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - null null
2025-09-30 11:06:21.222 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.226 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.229 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:06:21.230 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:06:21.231 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:06:21.232 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:06:21.233 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 11:06:21.235 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-09-30 11:06:21.236 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 11:06:21.244 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 11:06:21.245 +05:30 [INF] GetPagedContactsAsync: businessId="9841bcab-ca71-439f-8691-d85ada887b01", tab=all, page=1, pageSize=25
2025-09-30 11:06:21.247 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 11:06:21.250 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:06:21.255 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-09-30 11:06:21.261 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 11:06:21.259 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 21.0977ms
2025-09-30 11:06:21.268 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:06:21.269 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."ProfileName", t."ProfileNameUpdatedAt", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-09-30 11:06:21.270 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 11:06:21.271 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 11:06:21.275 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 11:06:21.276 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 65.639ms
2025-09-30 11:06:21.280 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 37.4137ms
2025-09-30 11:06:21.285 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-09-30 11:06:21.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts - 200 null application/json; charset=utf-8 71.7167ms
2025-09-30 11:06:21.618 +05:30 [INF] Received HTTP response headers after 340.1835ms - 401
2025-09-30 11:06:21.620 +05:30 [INF] End processing HTTP request after 351.7125ms - 401
2025-09-30 11:06:21.622 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:36:24 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AqZkA4SY5JioLKz9HMf-8kA"}}
2025-09-30 11:06:21.625 +05:30 [ERR] ❌ Meta template fetch failed (Biz "9841bcab-ca71-439f-8691-d85ada887b01"): {"error":{"message":"Error validating access token: Session has expired on Monday, 29-Sep-25 06:00:00 PDT. The current time is Monday, 29-Sep-25 22:36:24 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AqZkA4SY5JioLKz9HMf-8kA"}}
2025-09-30 11:06:21.626 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType172`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:06:21.628 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 381.4385ms
2025-09-30 11:06:21.630 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 11:06:21.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsapptemplatefetcher/get-template-all - 200 null application/json; charset=utf-8 412.8221ms
2025-09-30 11:06:23.057 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:36:23.0531578+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:06:33.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:36:33.0634530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:06:43.079 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:36:43.0762325+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:06:53.084 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:36:53.0819792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:03.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:37:03.0995366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:13.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:37:13.1002299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:23.132 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__now_0='2025-09-30T05:37:23.1083475+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:33.140 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:37:33.1378169+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:43.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:37:43.1529414+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:07:53.170 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:37:53.1673269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:03.186 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:38:03.1844202+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:13.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:38:13.1932999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:23.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:38:23.1989038+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:33.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:38:33.2122161+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:43.220 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:38:43.2176012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:08:53.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:38:53.2206743+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:03.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:39:03.2271156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:13.245 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:39:13.2429293+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:23.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:39:23.2543594+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:33.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:39:33.2640325+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:43.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:39:43.2925663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:09:53.301 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:39:53.2983240+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:03.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:40:03.3067113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:13.320 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:40:13.3175589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:23.329 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:40:23.3270320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:33.344 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:40:33.3412207+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:43.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:40:43.3606641+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:10:53.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:40:53.3744366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:03.396 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:41:03.3940673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:13.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:41:13.4058653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:23.435 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:41:23.4136120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:33.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:41:33.4409833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:43.453 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:41:43.4501801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:11:53.579 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T05:41:53.4669982+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:03.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:42:03.5843019+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:13.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:42:13.5964812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:23.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:42:23.6040080+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:33.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:42:33.6173423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:43.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:42:43.6261384+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:12:53.639 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:42:53.6370657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:03.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:43:03.6542847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:13.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:43:13.6694972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:23.684 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:43:23.6811833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:33.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:43:33.7007008+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:43.719 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:43:43.7163465+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:13:53.735 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:43:53.7325890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:03.742 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:44:03.7398097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:13.776 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:44:13.7729571+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:23.787 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:44:23.7851342+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:33.788 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:44:33.7859643+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:43.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:44:43.8070907+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:14:53.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:44:53.8203071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:03.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:45:03.8468544+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:13.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:45:13.8649560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:23.880 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:45:23.8783609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:33.891 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:45:33.8887790+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:43.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:45:43.8941489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:15:53.913 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:45:53.9097731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:03.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:46:03.9222840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:13.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:46:13.9291416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:23.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:46:23.9448471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:33.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:46:33.9582732+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:43.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:46:43.9627530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:16:54.084 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:46:53.9815816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:04.099 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:47:04.0975930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:14.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:47:14.1160509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:24.133 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:47:24.1310749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:34.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:47:34.1494092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:44.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:47:44.1627042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:17:54.170 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:47:54.1679736+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:04.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:48:04.1825789+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:14.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:48:14.1931490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:24.209 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:48:24.2066224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:34.216 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:48:34.2139309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:44.246 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:48:44.2442864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:18:54.261 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:48:54.2571839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:04.275 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:04.2727207+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:14.282 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:14.2797651+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:24.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:24.2912426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:34.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:34.3011427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:44.325 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:44.3228154+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:19:54.343 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:49:54.3403598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:04.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:04.3458445+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:14.393 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:14.3569863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:24.402 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:24.4002903+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:34.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:34.4068519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:44.420 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:44.4179027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:20:54.439 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:50:54.4364864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:04.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:51:04.4520991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:14.460 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:51:14.4574343+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:20.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:21:20.921 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:21:20.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 5.7076ms
2025-09-30 11:21:20.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:21:20.946 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:21:20.947 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:21:20.949 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:21:20.963 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:21:20.966 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:21:20.969 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 17.0611ms
2025-09-30 11:21:20.971 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:21:20.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 31.4375ms
2025-09-30 11:21:24.467 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:51:24.4643573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:34.535 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__now_0='2025-09-30T05:51:34.4825205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:42.454 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:21:42.459 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:21:42.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 6.1896ms
2025-09-30 11:21:42.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:21:42.479 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:21:42.481 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:21:42.482 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:21:42.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:21:42.495 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:21:42.497 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 11.4074ms
2025-09-30 11:21:42.500 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:21:42.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 28.2343ms
2025-09-30 11:21:44.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:51:44.5556378+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:21:54.670 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:51:54.5658439+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:04.684 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:52:04.6822835+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:14.696 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:52:14.6947838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:24.701 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:52:24.6984830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:34.730 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:52:34.7269985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:44.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:52:44.7412560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:22:54.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:52:54.7696972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:04.786 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:53:04.7842407+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:07.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:23:07.181 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:23:07.182 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tracking/logs - 204 null null 5.4145ms
2025-09-30 11:23:07.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tracking/logs - null null
2025-09-30 11:23:07.191 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:23:07.213 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:23:07.215 +05:30 [INF] Route matched with {action = "GetAll", controller = "TrackingViewer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Guid]) on controller xbytechat.api.Features.Tracking.Controllers.TrackingViewerController (xbytechat.api).
2025-09-30 11:23:07.224 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ContactPhone", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE '(N/A)'
END AS "ContactName", t."ButtonText", t."CTAType", t."SourceType", t."ClickedAt", t."DeviceType", t."Country", CASE
    WHEN c0."Id" IS NOT NULL THEN c0."Name"
    ELSE '(Unknown)'
END AS "CampaignName"
FROM "TrackingLogs" AS t
LEFT JOIN "Contacts" AS c ON t."ContactId" = c."Id"
LEFT JOIN "Campaigns" AS c0 ON t."CampaignId" = c0."Id"
ORDER BY t."ClickedAt" DESC
2025-09-30 11:23:07.227 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType174`10[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 11:23:07.229 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api) in 11.9112ms
2025-09-30 11:23:07.232 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.TrackingViewerController.GetAll (xbytechat.api)'
2025-09-30 11:23:07.234 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tracking/logs - 200 null application/json; charset=utf-8 45.8922ms
2025-09-30 11:23:14.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:53:14.7900554+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:24.803 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:53:24.8015365+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:34.813 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:53:34.8102214+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:44.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:53:44.8262791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:23:54.833 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:53:54.8307607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:04.842 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:54:04.8400692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:14.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:54:14.8494146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:24.862 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:54:24.8604120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:34.888 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:54:34.8865929+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:44.893 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:54:44.8915067+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:24:54.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:54:54.9020600+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:04.906 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:55:04.9037046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:14.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:55:14.9132825+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:24.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:55:24.9584215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:34.978 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:55:34.9748283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:45.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:55:45.0613260+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:25:55.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:55:55.0670205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:05.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:56:05.0759157+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:15.087 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:56:15.0839573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:25.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:56:25.0946306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:35.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:56:35.1146211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:45.151 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:56:45.1301070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:26:55.240 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:56:55.1511288+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:03.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:27:03.582 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:27:03.584 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 7.3873ms
2025-09-30 11:27:03.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:27:03.592 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:27:03.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 6.6875ms
2025-09-30 11:27:03.601 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 11:27:03.781 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 11:27:03.785 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:27:03.787 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 6.0551ms
2025-09-30 11:27:03.792 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 11:27:03.798 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:27:03.800 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:27:03.802 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 11:27:03.827 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:57:03.5050000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 11:27:03.836 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T05:57:03.5050000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 11:27:03.841 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:27:03.844 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 38.4117ms
2025-09-30 11:27:03.847 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:27:03.849 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 56.8887ms
2025-09-30 11:27:05.245 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:57:05.2428294+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:15.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:57:15.2533952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:25.262 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:57:25.2594280+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:35.294 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:57:35.2914610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:45.312 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:57:45.3092165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:27:55.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:57:55.3307352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:05.340 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:58:05.3378257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:15.348 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:58:15.3459170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:25.396 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:58:25.3923063+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:35.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:58:35.4258977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:45.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:58:45.4473803+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:28:55.460 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T05:58:55.4570096+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:05.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:59:05.4784576+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:15.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T05:59:15.4870821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:25.510 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:59:25.5068634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:35.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:59:35.5246246+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:45.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T05:59:45.5343193+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:29:55.562 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='2025-09-30T05:59:55.5413673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:05.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:00:05.6000117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:15.630 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:00:15.6276111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:25.650 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:00:25.6481123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:35.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:00:35.6611546+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:45.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:00:45.6695120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:30:55.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:00:55.6829592+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:05.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:01:05.7208359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:15.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:01:15.7498179+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:25.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:01:25.7646215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:35.777 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:01:35.7748832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:45.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:01:45.7801452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:31:55.877 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:01:55.7951596+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:05.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:02:05.8815843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:15.903 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:02:15.9010840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:25.923 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:02:25.9209160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:35.933 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:02:35.9308519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:45.949 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:02:45.9461192+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:32:55.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:02:55.9669444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:05.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:03:05.9818437+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:15.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:03:15.9909245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:25.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:03:25.9928738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:36.006 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:03:36.0034108+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:46.011 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:03:46.0089520+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:33:56.031 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:03:56.0274388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:06.041 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:04:06.0386356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:16.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:04:16.0462899+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:26.064 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:04:26.0618463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:36.094 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:04:36.0911489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:46.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:04:46.1061916+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:34:56.119 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:04:56.1166122+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:06.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:05:06.1339930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:16.145 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:05:16.1428579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:26.166 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T06:05:26.1613895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:33.236 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:35:33.249 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:35:33.251 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 204 null null 15.2959ms
2025-09-30 11:35:33.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 11:35:33.267 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:35:33.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 404 0 null 6.3285ms
2025-09-30 11:35:33.274 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary, Response status code: 404
2025-09-30 11:35:36.208 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T06:05:36.2032633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:46.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:05:46.2155535+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:35:56.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:05:56.2285272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:06.242 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:06:06.2400944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:16.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:06:16.2533149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:26.289 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:06:26.2864746+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:36.317 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:06:36.2960142+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:46.319 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:06:46.3166700+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:36:56.449 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T06:06:56.3227831+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:06.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:07:06.4668278+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:16.488 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:07:16.4734397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:26.497 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:07:26.4939103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:36.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:07:36.5248214+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:46.547 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:07:46.5449974+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:37:56.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:07:56.5539129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:06.570 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:08:06.5672755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:16.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:08:16.5715979+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:26.600 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:08:26.5980311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:36.616 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:08:36.6131474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:41.141 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 11:38:41.145 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:38:41.146 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 5.5089ms
2025-09-30 11:38:41.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 11:38:41.155 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:38:41.158 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:38:41.160 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:38:41.177 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 11:38:41.181 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:38:41.184 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 20.4997ms
2025-09-30 11:38:41.186 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:38:41.188 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 37.6959ms
2025-09-30 11:38:46.636 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:08:46.6339057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:38:56.640 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:08:56.6371499+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:06.657 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:09:06.6540003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:16.660 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:09:16.6586995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:19.685 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:39:19.688 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:19.690 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/facets - 204 null null 4.6862ms
2025-09-30 11:39:19.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - null null
2025-09-30 11:39:19.699 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:19.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/report/message-logs/facets - 404 0 null 5.1266ms
2025-09-30 11:39:19.705 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/report/message-logs/facets, Response status code: 404
2025-09-30 11:39:19.913 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - null null
2025-09-30 11:39:19.916 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:19.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/report/message-logs/search - 204 null null 4.1345ms
2025-09-30 11:39:19.922 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - application/json 131
2025-09-30 11:39:19.925 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:19.926 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:39:19.928 +05:30 [INF] Route matched with {action = "Search", controller = "MessageLogsReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(xbytechat.api.Features.Tracking.DTOs.MessageLogReportQueryDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController (xbytechat.api).
2025-09-30 11:39:19.936 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T06:09:19.6490000Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
2025-09-30 11:39:19.943 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__q_FromUtc_Value_1='2025-09-23T18:30:00.0000000Z' (DbType = DateTime), @__q_ToUtc_Value_2='2025-09-30T06:09:19.6490000Z' (DbType = DateTime), @__p_4='25', @__p_3='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."CampaignId", c."Name" AS "CampaignName", m."RecipientNumber", c."PhoneNumberId" AS "SenderId", CASE
    WHEN c."Id" IS NOT NULL AND c."Provider" IS NOT NULL THEN c."Provider"
    ELSE m."Provider"
END AS "SourceChannel", m."Status", NULL AS "MessageType", m."MessageContent", COALESCE(m."ProviderMessageId", m."MessageId") AS "ProviderMessageId", m."ErrorMessage", m."CreatedAt", m."SentAt", NULL AS "DeliveredAt"
FROM "MessageLogs" AS m
LEFT JOIN "Campaigns" AS c ON m."CampaignId" = c."Id"
WHERE m."BusinessId" = @__businessId_0 AND COALESCE(m."SentAt", m."CreatedAt") >= @__q_FromUtc_Value_1 AND COALESCE(m."SentAt", m."CreatedAt") <= @__q_ToUtc_Value_2
ORDER BY COALESCE(m."SentAt", m."CreatedAt") DESC
LIMIT @__p_4 OFFSET @__p_3
2025-09-30 11:39:19.946 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.Tracking.DTOs.MessageLogListItemDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:39:19.948 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api) in 18.0819ms
2025-09-30 11:39:19.950 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.MessageLogsReportController.Search (xbytechat.api)'
2025-09-30 11:39:19.951 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/report/message-logs/search - 200 null application/json; charset=utf-8 29.1439ms
2025-09-30 11:39:22.135 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 11:39:22.178 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 43.1393ms
2025-09-30 11:39:22.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 11:39:22.380 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 11:39:22.389 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 19.4695ms
2025-09-30 11:39:22.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.2896ms
2025-09-30 11:39:22.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/get-image-campaign?type=image - null null
2025-09-30 11:39:22.596 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:22.598 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/get-image-campaign?type=image - 204 null null 10.7706ms
2025-09-30 11:39:22.609 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/get-image-campaign?type=image - null null
2025-09-30 11:39:22.625 +05:30 [INF] CORS policy execution successful.
2025-09-30 11:39:22.627 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:39:22.636 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 11:39:22.644 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__type_1='image'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0 AND c."CampaignType" = @__type_1
ORDER BY c."CreatedAt" DESC
2025-09-30 11:39:22.650 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 11:39:22.662 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 23.0322ms
2025-09-30 11:39:22.664 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 11:39:22.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/get-image-campaign?type=image - 200 null application/json; charset=utf-8 57.1667ms
2025-09-30 11:39:22.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 11:39:22.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/favicon-32x32.png - null null
2025-09-30 11:39:22.933 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-30 11:39:22.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/favicon-32x32.png - 200 628 image/png 31.9125ms
2025-09-30 11:39:23.076 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.1604ms
2025-09-30 11:39:26.681 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:09:26.6788069+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:36.690 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:09:36.6874312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:46.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:09:46.6943869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:39:56.703 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:09:56.7009441+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:06.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:10:06.7058686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:16.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:10:16.7178749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:26.728 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:10:26.7261474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:36.747 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:10:36.7445816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:46.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:10:46.7554659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:40:56.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:10:56.7662811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:06.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:11:06.7726945+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:16.786 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:11:16.7837602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:26.806 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:11:26.8042003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:36.819 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:11:36.8171480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:46.826 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:11:46.8240185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:41:56.931 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:11:56.8337621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:06.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:12:06.9492393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:16.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:12:16.9498462+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:26.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:12:26.9585151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:36.967 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:12:36.9655108+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:46.981 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:12:46.9781904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:42:56.988 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:12:56.9853198+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:06.999 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:13:06.9966267+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:17.010 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:13:17.0074076+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:27.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:13:27.0089327+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:37.028 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:13:37.0264405+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:47.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:13:47.0308881+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:43:57.042 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:13:57.0396538+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:07.044 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:14:07.0415127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:17.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:14:17.0608887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:27.082 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:14:27.0794659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:37.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:14:37.0906480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:47.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:14:47.1029662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:44:57.117 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:14:57.1143677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:07.125 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:15:07.1221971+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:17.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:15:17.1314425+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:27.139 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:15:27.1374978+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:37.154 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:15:37.1516845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:47.175 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:15:47.1726088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:45:57.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:15:57.1776832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:07.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:16:07.1867017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:17.197 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:16:17.1955694+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:27.206 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:16:27.2032877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:37.215 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:16:37.2125678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:47.224 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:16:47.2211855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:46:57.337 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:16:57.2418364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:07.349 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:17:07.3471826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:17.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:17:17.3606814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:27.372 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:17:27.3690563+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:37.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:17:37.3803778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:47.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:17:47.3978202+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:47:57.412 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:17:57.4096391+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:07.425 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:18:07.4226918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:17.441 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:18:17.4390376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:27.452 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:18:27.4496818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:37.473 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:18:37.4708152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:47.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:18:47.4872959+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:48:57.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:18:57.4949804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:07.516 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:19:07.5137927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:17.526 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:19:17.5240691+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:27.545 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:19:27.5422616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:37.555 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:19:37.5534622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:47.568 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:19:47.5655997+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:49:57.580 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:19:57.5781817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:07.600 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:20:07.5976075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:17.619 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:20:17.6162548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:27.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:20:27.6347509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:37.650 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:20:37.6471438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:47.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:20:47.6619289+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:50:57.679 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:20:57.6767252+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:07.697 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:21:07.6948669+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:17.707 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:21:17.7045039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:27.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:21:27.7123826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:37.732 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:21:37.7294698+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:47.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:21:47.7416519+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:51:57.865 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T06:21:57.7647031+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:07.881 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:22:07.8783623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:17.890 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:22:17.8872250+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:27.892 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:22:27.8905319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:37.906 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:22:37.9032492+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:47.911 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:22:47.9095514+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:52:57.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:22:57.9265241+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:07.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:23:07.9341493+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:17.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:23:17.9493714+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:27.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:23:27.9577032+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:37.971 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:23:37.9681967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:47.983 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:23:47.9809471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:53:57.996 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:23:57.9927912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:54:08.002 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:24:07.9994309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:54:18.010 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:24:18.0073693+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:54:28.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T06:24:28.0222972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 11:54:38.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T06:24:38.0463783+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:34:53.379 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 13:34:53.437 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 13:34:53.464 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 13:34:54.629 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:34:54.740 +05:30 [ERR] ❌ Failed to clean up old webhook logs.
System.InvalidOperationException: The seed entity for entity type 'Permission' cannot be added because another seed entity with the key value 'Id:0dedac5b-81c8-44c3-8cfe-76c58e29c6db' has already been added.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at System.Linq.Queryable.Where[TSource](IQueryable`1 source, Expression`1 predicate)
   at xbytechat.api.Features.Webhooks.Services.FailedWebhookLogCleanupService.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\FailedWebhookLogCleanupService.cs:line 34
2025-09-30 13:34:55.256 +05:30 [ERR] Hosting failed to start
System.InvalidOperationException: The seed entity for entity type 'Permission' cannot be added because another seed entity with the key value 'Id:0dedac5b-81c8-44c3-8cfe-76c58e29c6db' has already been added.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at xbytechat.api.Features.Webhooks.Services.MaintenanceService.IsAutoCleanupEnabledAsync() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\MaintenanceService.cs:line 17
   at xbytechat.api.Features.Webhooks.BackgroundWorkers.WebhookAutoCleanupWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\BackgroundWorkers\WebhookAutoCleanupWorker.cs:line 23
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-30 13:34:55.330 +05:30 [INF] 🛑 Graceful shutdown requested.
2025-09-30 13:34:55.295 +05:30 [ERR] BackgroundService failed
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at xbytechat.api.Features.Webhooks.Services.FailedWebhookLogCleanupService.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\FailedWebhookLogCleanupService.cs:line 50
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2025-09-30 13:34:55.331 +05:30 [INF] 🛑 Webhook Queue Worker stopped.
2025-09-30 13:34:55.347 +05:30 [ERR] Unhandled exception (AppDomain)
System.InvalidOperationException: The seed entity for entity type 'Permission' cannot be added because another seed entity with the key value 'Id:0dedac5b-81c8-44c3-8cfe-76c58e29c6db' has already been added.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.ValidateData(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.Internal.NpgsqlModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at xbytechat.api.Features.Webhooks.Services.MaintenanceService.IsAutoCleanupEnabledAsync() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\Services\MaintenanceService.cs:line 17
   at xbytechat.api.Features.Webhooks.BackgroundWorkers.WebhookAutoCleanupWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\Webhooks\BackgroundWorkers\WebhookAutoCleanupWorker.cs:line 23
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 643
2025-09-30 13:41:00.910 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:41:54.905 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:42:17.709 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:42:27.276 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:43:54.451 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:43:57.908 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 13:43:57.937 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-30 13:44:18.282 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:45:06.639 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:45:07.784 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 13:45:07.814 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-30 13:45:07.934 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 13:45:08.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 13:45:08.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-30 13:45:08.084 +05:30 [INF] Applying migration '20250930081420_AddApiKeys'.
2025-09-30 13:45:08.454 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApiKeys" (
    "Id" uuid NOT NULL,
    "BusinessId" uuid NOT NULL,
    "Name" text NOT NULL,
    "Prefix" text NOT NULL,
    "SecretHash" text NOT NULL,
    "Scopes" character varying(512) NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ExpiresAt" timestamp with time zone,
    "LastUsedAt" timestamp with time zone,
    "IsRevoked" boolean NOT NULL,
    "CreatedBy" text,
    "Notes" text,
    CONSTRAINT "PK_ApiKeys" PRIMARY KEY ("Id")
);
2025-09-30 13:45:08.461 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ApiKeys_Prefix" ON "ApiKeys" ("Prefix");
2025-09-30 13:45:08.466 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250930081420_AddApiKeys', '8.0.18');
2025-09-30 13:45:22.197 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 13:45:22.289 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 13:45:22.323 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 13:45:24.197 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 13:45:25.510 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 13:45:25.552 +05:30 [INF] ClickLogWorker started
2025-09-30 13:45:25.833 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 13:45:25.900 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[@__cutoff_0='2025-09-23T08:15:22.5272714Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 13:45:25.996 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 13:45:26.000 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 13:45:26.003 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 13:45:26.005 +05:30 [INF] Hosting environment: Development
2025-09-30 13:45:26.008 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 13:45:26.647 +05:30 [INF] ClickLogWorker stopped
2025-09-30 13:45:26.838 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 13:45:27.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 326.3569ms
2025-09-30 13:45:27.189 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 13:45:27.207 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 18.2737ms
2025-09-30 13:45:27.339 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 13:45:27.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.9149ms
2025-09-30 13:45:27.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 13:45:28.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 511.1182ms
2025-09-30 13:45:32.276 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='2025-09-30T08:15:32.1077186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:45:35.635 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 13:45:35.871 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 13:45:35.922 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 13:45:35.932 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 13:45:35.936 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 13:45:35.955 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 13:45:35.967 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 13:45:36.012 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 13:45:36.019 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 13:45:36.958 +05:30 [INF] Received HTTP response headers after 931.6502ms - 401
2025-09-30 13:45:36.963 +05:30 [INF] End processing HTTP request after 957.3548ms - 401
2025-09-30 13:45:36.984 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 13:45:37.161 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T08:15:35.9639446Z"
2025-09-30 13:45:37.166 +05:30 [INF] TemplateSyncWorker: sweep finished in 1595 ms; processed=2; next run ~"2025-09-30T14:15:35.5714944Z"
2025-09-30 13:45:42.291 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:15:42.2855225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:45:52.310 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:15:52.3056867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:02.329 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:16:02.3252349+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:08.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.8d56e97ca2adfc4ddcf0.hot-update.json - null null
2025-09-30 13:46:08.299 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 13:46:08.761 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.8d56e97ca2adfc4ddcf0.hot-update.json - 404 0 null 484.7362ms
2025-09-30 13:46:08.771 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.8d56e97ca2adfc4ddcf0.hot-update.json, Response status code: 404
2025-09-30 13:46:12.344 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:16:12.3406163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:21.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 13:46:21.036 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:21.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 17.9124ms
2025-09-30 13:46:21.050 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 13:46:21.071 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:21.129 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 13:46:21.222 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 13:46:21.421 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 13:46:21.728 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 13:46:21.898 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 13:46:22.354 +05:30 [INF] Executed DbCommand (174ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 13:46:22.366 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:16:22.3619852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:22.380 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 13:46:22.953 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 13:46:22.957 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 13:46:22.970 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:22.989 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1755.204ms
2025-09-30 13:46:22.994 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 13:46:23.007 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1957.1102ms
2025-09-30 13:46:23.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.026 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.028 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 13.2879ms
2025-09-30 13:46:23.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.175 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.200 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 13:46:23.236 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 13:46:23.299 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 13:46:23.308 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:23.396 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 191.4849ms
2025-09-30 13:46:23.400 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.403 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 363.8143ms
2025-09-30 13:46:23.433 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.449 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.454 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.457 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 24.377ms
2025-09-30 13:46:23.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 23.4579ms
2025-09-30 13:46:23.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.479 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.484 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.486 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 13:46:23.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 13:46:23.507 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:23.510 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 18.679ms
2025-09-30 13:46:23.511 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.513 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.518 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 47.2272ms
2025-09-30 13:46:23.525 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.533 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 13:46:23.545 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 13:46:23.552 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:23.556 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 19.7118ms
2025-09-30 13:46:23.560 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.562 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 50.8658ms
2025-09-30 13:46:23.744 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 13:46:23.751 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:23.753 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.756 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 13:46:23.763 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 13:46:23.771 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:23.775 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.731ms
2025-09-30 13:46:23.778 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 13:46:23.781 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 37.0156ms
2025-09-30 13:46:30.974 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 13:46:30.973 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 13:46:30.987 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:30.997 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 23.2139ms
2025-09-30 13:46:30.997 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 13:46:31.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 34.0087ms
2025-09-30 13:46:31.013 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.020 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 13:46:31.022 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.027 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.031 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 13:46:31.036 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 13:46:31.039 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 13:46:31.059 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 13:46:31.069 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 13:46:31.077 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:46:31.100 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 61.1877ms
2025-09-30 13:46:31.104 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.106 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 99.0374ms
2025-09-30 13:46:31.128 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 13:46:31.139 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 96.9444ms
2025-09-30 13:46:31.143 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 13:46:31.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 125.4879ms
2025-09-30 13:46:31.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 13:46:31.169 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 13:46:31.173 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.180 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.181 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 14.7364ms
2025-09-30 13:46:31.183 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 14.5064ms
2025-09-30 13:46:31.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 13:46:31.205 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.207 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.209 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 13:46:31.219 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 13:46:31.226 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:46:31.229 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 16.1453ms
2025-09-30 13:46:31.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 13:46:31.233 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.238 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:31.240 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 41.0891ms
2025-09-30 13:46:31.242 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.251 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 13:46:31.278 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 13:46:31.285 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:46:31.288 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 16.9594ms
2025-09-30 13:46:31.291 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 13:46:31.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 63.5613ms
2025-09-30 13:46:32.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:16:32.3714453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:42.386 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:16:42.3830156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:47.596 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-30 13:46:47.603 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:47.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 8.9489ms
2025-09-30 13:46:47.612 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 568
2025-09-30 13:46:47.617 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:47.620 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 13:46:47.629 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 13:46:47.667 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-30 13:46:47.821 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPnNaZCfZCRZBWfzM4ZCnK65sX7eNibm4s2ZBcdTY68uI8ivpTpPHH3AaNdT3sAr50U2jh220ABYnjKC4Cs2XUQVxZAWjXjo7eKHqzgId4KJ2lJPfu0n6YfzOrZAI3bJtUiitsxnvGJlDj2voDNKXSMmKyHQUaB0xMATMyTDFZBa0JSP4qZBiuUtVgF1bAQl4tottvVbdD6WqsJGZAIo5hZCoz2TZCiHTQhbYFd8brwz6FIi66ZCSAxbPEngZDZD' (Nullable = false), @p1='2025-09-30T08:16:47.6744476Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-30 13:46:47.846 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:46:47.852 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 218.5193ms
2025-09-30 13:46:47.855 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 13:46:47.857 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 245.1989ms
2025-09-30 13:46:50.498 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 13:46:50.510 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:50.513 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 14.4651ms
2025-09-30 13:46:50.525 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 13:46:50.535 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:50.538 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 13:46:50.547 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:46:50.641 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 13:46:50.648 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:46:50.661 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 109.7547ms
2025-09-30 13:46:50.665 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 13:46:50.668 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 143.4144ms
2025-09-30 13:46:52.398 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:16:52.3943875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:46:55.526 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-30 13:46:55.533 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:55.535 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 9.6326ms
2025-09-30 13:46:55.542 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null 0
2025-09-30 13:46:55.550 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:46:55.553 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:46:55.562 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:46:55.847 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-30 13:46:55.925 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:46:55.946 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:46:56.005 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 13:46:56.011 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:46:56.015 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:46:57.417 +05:30 [INF] Received HTTP response headers after 1399.1162ms - 200
2025-09-30 13:46:57.420 +05:30 [INF] End processing HTTP request after 1408.7741ms - 200
2025-09-30 13:46:58.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 13:46:58.312 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 13:46:58.351 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:46:58.354 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:46:59.090 +05:30 [INF] Received HTTP response headers after 733.6745ms - 400
2025-09-30 13:46:59.093 +05:30 [INF] End processing HTTP request after 742.368ms - 400
2025-09-30 13:46:59.096 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"ADPHZz8TYeW4vRHwP_Os4ET"}}
2025-09-30 13:46:59.419 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@p2='02a8da84-a087-4a20-8a87-b4385408ffa0', @p0='2025-09-30T08:16:57.9095498Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-30T08:16:57.9095498Z' (DbType = DateTime), @p3='917430dc-a888-446a-a244-40df63dcd440', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5=NULL, @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-30T08:16:59.1317415Z' (DbType = DateTime), @p14='❌ WhatsApp API returned an error.', @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://picsum.photos/200/300', @p19='shoe_launch_offer' (Nullable = false), @p20=NULL, @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"ADPHZz8TYeW4vRHwP_Os4ET"}}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p29=NULL (DbType = Guid), @p30='2025-09-30T08:16:59.1318371Z' (Nullable = true) (DbType = DateTime), @p31=NULL, @p32='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
2025-09-30 13:46:59.486 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__messageLogId_0='056aa6c0-f24d-414b-a7b1-290130650c7f', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:46:59.559 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='056aa6c0-f24d-414b-a7b1-290130650c7f', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='39f91f42-273e-453d-a2ed-8ef9ce4c625a' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T08:16:57.9095498Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"ADPHZz8TYeW4vRHwP_Os4ET"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='cb588992-ac14-4e1d-9b3e-4b1836535ef9' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='f5736d51-0863-4f2e-8593-43c1e8907b4d', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-30T08:16:59.4915685+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='056aa6c0-f24d-414b-a7b1-290130650c7f' (Nullable = true), @p38='2025-09-30T08:16:59.4922448+00:00' (DbType = DateTime), @p39='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"ADPHZz8TYeW4vRHwP_Os4ET"}}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-30 13:46:59.718 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='cab7fdff-3aef-4647-9e39-b1d528fa566c', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-30T08:16:57.9095498Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25=NULL, @p26='056aa6c0-f24d-414b-a7b1-290130650c7f' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='02a8da84-a087-4a20-8a87-b4385408ffa0', @p29='0', @p30='cb588992-ac14-4e1d-9b3e-4b1836535ef9' (Nullable = true), @p31='Failed', @p32=NULL (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-30 13:46:59.727 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 13:46:59.740 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 4172.8789ms
2025-09-30 13:46:59.744 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:46:59.746 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 4204.1504ms
2025-09-30 13:47:02.412 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:17:02.4082520+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:47:12.431 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:17:12.4268155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:47:22.445 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:17:22.4416195+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:47:32.143 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null null
2025-09-30 13:47:32.151 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:47:32.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 204 null null 10.6399ms
2025-09-30 13:47:32.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - null 0
2025-09-30 13:47:32.168 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:47:32.171 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:47:32.175 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:47:32.203 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-30 13:47:32.217 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:47:32.226 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:47:32.253 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 13:47:32.259 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:47:32.262 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:47:32.453 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:17:32.4501349+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:47:33.105 +05:30 [INF] Received HTTP response headers after 839.0656ms - 200
2025-09-30 13:47:33.110 +05:30 [INF] End processing HTTP request after 850.5584ms - 200
2025-09-30 13:47:33.192 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 13:47:33.201 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 13:47:33.212 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:47:33.216 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:47:34.159 +05:30 [INF] Received HTTP response headers after 938.8545ms - 200
2025-09-30 13:47:34.162 +05:30 [INF] End processing HTTP request after 949.915ms - 200
2025-09-30 13:47:34.173 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__messageLogId_0='a8aeba4c-ee4c-482a-b105-2442bb716bbc', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:47:34.205 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p3='6a5b4d6c-d8f3-4f77-a58a-6742fddfab58', @p0='2025-09-30T08:17:33.1813535Z' (Nullable = true) (DbType = DateTime), @p1='["Robert Nicosta","01-10-1985"]' (DbType = Object), @p2='2025-09-30T08:17:33.1813535Z' (DbType = DateTime), @p4='a8aeba4c-ee4c-482a-b105-2442bb716bbc', @p5='9841bcab-ca71-439f-8691-d85ada887b01', @p6=NULL, @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb' (Nullable = true), @p10='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p11=NULL, @p12=NULL, @p13=NULL (DbType = DateTime), @p14='2025-09-30T08:17:33.1813535Z' (DbType = DateTime), @p15=NULL, @p16=NULL (DbType = Int32), @p17=NULL (DbType = Boolean), @p18='False', @p19=NULL, @p20='variable_csv_demo' (Nullable = false), @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODVGRUU1RDM3REY2MDYwMTA5AA==', @p22=NULL (DbType = Decimal), @p23=NULL, @p24=NULL, @p25=NULL, @p26='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODVGRUU1RDM3REY2MDYwMTA5AA==","message_status":"accepted"}]}', @p27='918974005240' (Nullable = false), @p28=NULL (DbType = Guid), @p29=NULL, @p30='61d61d4f-f3ec-4229-8944-e1d06ba7aa91' (Nullable = true), @p31='2025-09-30T08:17:33.1813535Z' (Nullable = true) (DbType = DateTime), @p32='campaign', @p33='Sent' (Nullable = false), @p34='500e110c-8f0f-4160-9124-39de8e55fa2f', @p35='9841bcab-ca71-439f-8691-d85ada887b01', @p36=NULL, @p37=NULL, @p38='2025-09-30T08:17:34.1784925+00:00' (DbType = DateTime), @p39='send_response' (Nullable = false), @p40=NULL (DbType = Boolean), @p41='a8aeba4c-ee4c-482a-b105-2442bb716bbc' (Nullable = true), @p42='2025-09-30T08:17:34.1784940+00:00' (DbType = DateTime), @p43='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODVGRUU1RDM3REY2MDYwMTA5AA==","message_status":"accepted"}]}' (Nullable = false), @p44=NULL (DbType = Decimal), @p45=NULL, @p46='META_CLOUD' (Nullable = false), @p47='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODVGRUU1RDM3REY2MDYwMTA5AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "ResolvedParametersJson" = @p1, "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47);
2025-09-30 13:47:34.225 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='de9e973c-bd9f-49a7-a674-77c01836e9a2', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4=NULL, @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='1b120fa0-c964-4a7f-ac4c-6f6adffd61bb', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-30T08:17:33.1813535Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Dear  {{1}},

We are happy to announce that we are going to launch our new product on {{2}}.

Regards,
LeadsCone' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODVGRUU1RDM3REY2MDYwMTA5AA==', @p26='a8aeba4c-ee4c-482a-b105-2442bb716bbc' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='6a5b4d6c-d8f3-4f77-a58a-6742fddfab58', @p29='0', @p30='61d61d4f-f3ec-4229-8944-e1d06ba7aa91' (Nullable = true), @p31='Sent', @p32='2025-09-30T08:17:33.1813535Z' (Nullable = true) (DbType = DateTime), @p33=NULL, @p34='variable_csv_demo', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-30 13:47:34.239 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 13:47:34.242 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 2063.3715ms
2025-09-30 13:47:34.245 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:47:34.247 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/1b120fa0-c964-4a7f-ac4c-6f6adffd61bb - 200 null application/json; charset=utf-8 2085.2946ms
2025-09-30 13:47:42.473 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:17:42.4696793+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:47:43.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null null
2025-09-30 13:47:43.221 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:47:43.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 204 null null 8.3698ms
2025-09-30 13:47:43.231 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - null 0
2025-09-30 13:47:43.237 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:47:43.239 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:47:43.242 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:47:43.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-30 13:47:43.263 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:47:43.271 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='39f91f42-273e-453d-a2ed-8ef9ce4c625a'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:47:43.279 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 13:47:43.284 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:47:43.287 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:47:44.519 +05:30 [INF] Received HTTP response headers after 1229.4102ms - 200
2025-09-30 13:47:44.523 +05:30 [INF] End processing HTTP request after 1238.5352ms - 200
2025-09-30 13:47:44.635 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 13:47:44.644 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 13:47:44.649 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:47:44.652 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:47:45.009 +05:30 [INF] Received HTTP response headers after 354.9794ms - 400
2025-09-30 13:47:45.012 +05:30 [INF] End processing HTTP request after 362.6519ms - 400
2025-09-30 13:47:45.015 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AZFeSX5tXwowZPEZ18ZqrgD"}}
2025-09-30 13:47:45.024 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='02a8da84-a087-4a20-8a87-b4385408ffa0', @p0='2025-09-30T08:17:44.6308382Z' (Nullable = true) (DbType = DateTime), @p1='2025-09-30T08:17:44.6308382Z' (DbType = DateTime), @p3='874e0b9f-3195-40b4-96b6-01660453463d', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5=NULL, @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8=NULL (DbType = Guid), @p9=NULL (DbType = Guid), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-30T08:17:45.0184083Z' (DbType = DateTime), @p14='❌ WhatsApp API returned an error.', @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://picsum.photos/200/300', @p19='shoe_launch_offer' (Nullable = false), @p20=NULL, @p21=NULL (DbType = Decimal), @p22=NULL, @p23=NULL, @p24=NULL, @p25='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AZFeSX5tXwowZPEZ18ZqrgD"}}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!', @p29=NULL (DbType = Guid), @p30='2025-09-30T08:17:45.0184084Z' (Nullable = true) (DbType = DateTime), @p31=NULL, @p32='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "MaterializedAt" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
2025-09-30 13:47:45.034 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='ab7cc73e-8215-4c1d-8808-9691d5dc2a81', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:47:45.043 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='ab7cc73e-8215-4c1d-8808-9691d5dc2a81', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5='39f91f42-273e-453d-a2ed-8ef9ce4c625a' (Nullable = true), @p6='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T08:17:44.6308382Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://picsum.photos/200/300', @p16='shoe_launch_offer' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20=NULL, @p21=NULL, @p22='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AZFeSX5tXwowZPEZ18ZqrgD"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26='362354bb-80a3-40ac-9d81-2191910fc70b' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='campaign', @p29='Failed' (Nullable = false), @p30='c6d53fc0-c857-433f-8446-2a6d44641cd0', @p31='9841bcab-ca71-439f-8691-d85ada887b01', @p32=NULL, @p33=NULL, @p34='2025-09-30T08:17:45.0389681+00:00' (DbType = DateTime), @p35='send_response' (Nullable = false), @p36=NULL (DbType = Boolean), @p37='ab7cc73e-8215-4c1d-8808-9691d5dc2a81' (Nullable = true), @p38='2025-09-30T08:17:45.0389693+00:00' (DbType = DateTime), @p39='{"error":{"message":"(#100) Param template['components'][3]['sub_type'] must be one of {CATALOG, COPY_CODE, FLOW, MPM, ORDER_DETAILS, QUICK_REPLY, REMINDER, URL, VOICE_CALL} - got \"phone_number\".","type":"OAuthException","code":100,"fbtrace_id":"AZFeSX5tXwowZPEZ18ZqrgD"}}' (Nullable = false), @p40=NULL (DbType = Decimal), @p41=NULL, @p42='META_CLOUD' (Nullable = false), @p43=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43);
2025-09-30 13:47:45.053 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='9d701453-9f81-41e5-8ad1-491051889a75', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Shop now","type":"URL","subType":"url"},{"i":1,"position":2,"text":"Call us","type":"PHONE_NUMBER","subType":"voice_call"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='39f91f42-273e-453d-a2ed-8ef9ce4c625a', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-30T08:17:44.6308382Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{}}! The moment has arrived! 🎉

Our new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!

For the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.

Use code: **LAUNCH15**

This offer won't last long. Step into the future today!' (Nullable = false), @p25=NULL, @p26='ab7cc73e-8215-4c1d-8808-9691d5dc2a81' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='02a8da84-a087-4a20-8a87-b4385408ffa0', @p29='0', @p30='362354bb-80a3-40ac-9d81-2191910fc70b' (Nullable = true), @p31='Failed', @p32=NULL (DbType = DateTime), @p33=NULL, @p34='shoe_launch_offer', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-30 13:47:45.059 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 13:47:45.062 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1816.4383ms
2025-09-30 13:47:45.065 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:47:45.068 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/39f91f42-273e-453d-a2ed-8ef9ce4c625a - 200 null application/json; charset=utf-8 1837.2076ms
2025-09-30 13:47:52.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:17:52.4848626+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:02.509 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:18:02.5049952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:04.750 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null null
2025-09-30 13:48:04.750 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - null null
2025-09-30 13:48:04.756 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-30 13:48:04.781 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.787 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.793 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.795 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 204 null null 45.1882ms
2025-09-30 13:48:04.797 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/tags/get-tags - 204 null null 46.7314ms
2025-09-30 13:48:04.798 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 204 null null 42.7331ms
2025-09-30 13:48:04.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null null
2025-09-30 13:48:04.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-30 13:48:04.816 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - null null
2025-09-30 13:48:04.820 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.829 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.830 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:04.832 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-30 13:48:04.833 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-30 13:48:04.834 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-30 13:48:04.843 +05:30 [INF] Route matched with {action = "GetCampaignById", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignDto]] GetCampaignById(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:48:04.844 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-30 13:48:04.846 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-09-30 13:48:04.877 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."ColorHex", t."Category", t."Notes", t."IsSystemTag", t."IsActive", t."CreatedAt", t."LastUsedAt"
FROM "Tags" AS t
WHERE t."BusinessId" = @__businessId_0 AND t."IsActive"
ORDER BY t."CreatedAt" DESC
2025-09-30 13:48:04.885 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-30 13:48:04.886 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 13:48:04.897 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 39.7156ms
2025-09-30 13:48:04.901 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-09-30 13:48:04.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags/get-tags - 200 null application/json; charset=utf-8 89.142ms
2025-09-30 13:48:04.907 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-30 13:48:04.933 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AudienceId", t."BusinessId", t."CTAFlowConfigId", t."CampaignId", t."CampaignType", t."CreatedAt", t."CreatedBy", t."CtaId", t."DeletedAt", t."DeletedBy", t."DocumentUrl", t."FollowUpTemplateId", t."ImageCaption", t."ImageUrl", t."IsDeleted", t."MessageBody", t."MessageTemplate", t."Name", t."PhoneNumberId", t."Provider", t."ScheduledAt", t."SourceCampaignId", t."Status", t."TemplateId", t."TemplateParameters", t."TemplateSchemaSnapshot", t."UpdatedAt", t."VideoUrl", t."Id0", t."BusinessId0", t."ButtonText", t."ButtonType", t."CreatedAt0", t."Description", t."IsActive", t."TargetUrl", t."Title", t."UpdatedAt0", t."Id1", c2."Id", c2."CampaignId", c2."IsFromTemplate", c2."Position", c2."Title", c2."Type", c2."Value", t."BusinessId1", t."CreatedAt1", t."CreatedBy0", t."FlowName", t."IsActive0", t."IsPublished", t."UpdatedAt1"
FROM (
    SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl", c0."Id" AS "Id0", c0."BusinessId" AS "BusinessId0", c0."ButtonText", c0."ButtonType", c0."CreatedAt" AS "CreatedAt0", c0."Description", c0."IsActive", c0."TargetUrl", c0."Title", c0."UpdatedAt" AS "UpdatedAt0", c1."Id" AS "Id1", c1."BusinessId" AS "BusinessId1", c1."CreatedAt" AS "CreatedAt1", c1."CreatedBy" AS "CreatedBy0", c1."FlowName", c1."IsActive" AS "IsActive0", c1."IsPublished", c1."UpdatedAt" AS "UpdatedAt1"
    FROM "Campaigns" AS c
    LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
    LEFT JOIN "CTAFlowConfigs" AS c1 ON c."CTAFlowConfigId" = c1."Id"
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
    LIMIT 1
) AS t
LEFT JOIN "CampaignButtons" AS c2 ON t."Id" = c2."CampaignId"
ORDER BY t."Id", t."Id0", t."Id1"
2025-09-30 13:48:04.944 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-30 13:48:04.954 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:48:04.965 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 113.0182ms
2025-09-30 13:48:04.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignDto'.
2025-09-30 13:48:04.969 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-30 13:48:04.975 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 200 null application/json; charset=utf-8 164.5978ms
2025-09-30 13:48:04.981 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api) in 133.5739ms
2025-09-30 13:48:04.984 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetCampaignById (xbytechat.api)'
2025-09-30 13:48:04.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 200 null application/json; charset=utf-8 180.8703ms
2025-09-30 13:48:05.027 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - null null
2025-09-30 13:48:05.032 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:05.034 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-30 13:48:05.036 +05:30 [INF] Route matched with {action = "GetSchema", controller = "CampaignCsvSample"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSchema(System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController (xbytechat.api).
2025-09-30 13:48:05.052 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateId", c."MessageTemplate", c."Provider"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1 AND NOT (c."IsDeleted")
LIMIT 1
2025-09-30 13:48:05.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__provider_2='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Provider" = @__provider_2
ORDER BY (SELECT 1) DESC
LIMIT 1
2025-09-30 13:48:05.074 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-30 13:48:05.080 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`3[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType75`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:48:05.083 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api) in 44.2703ms
2025-09-30 13:48:05.086 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignCsvSampleController.GetSchema (xbytechat.api)'
2025-09-30 13:48:05.090 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/csv-sample/schema - 200 null application/json; charset=utf-8 63.2859ms
2025-09-30 13:48:12.525 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:18:12.5216388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:20.836 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - null null
2025-09-30 13:48:20.843 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:20.848 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch - 204 null null 12.0027ms
2025-09-30 13:48:20.856 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/csv/batch - multipart/form-data; boundary=----WebKitFormBoundaryPALZtLG4bLArs4wx 238
2025-09-30 13:48:20.863 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:20.867 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-30 13:48:20.884 +05:30 [INF] Route matched with {action = "Upload", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(xbytechat.api.Features.CampaignModule.DTOs.Requests.CsvBatchUploadForm, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-30 13:48:21.034 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='d2864b77-7c2b-4ec7-8838-113c1073bd50', @p1=NULL (DbType = Guid), @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3=NULL, @p4='2025-09-30T08:18:20.9533240Z' (DbType = DateTime), @p5=NULL (DbType = Guid), @p6=NULL, @p7='csv_two_parameter.csv', @p8=NULL (DbType = Object), @p9='0', @p10='0', @p11='ingesting' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvBatches" ("Id", "AudienceId", "BusinessId", "Checksum", "CreatedAt", "CreatedByUserId", "ErrorMessage", "FileName", "HeadersJson", "RowCount", "SkippedCount", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-09-30 13:48:21.061 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='d2864b77-7c2b-4ec7-8838-113c1073bd50', @p0='["phone","parameter1"]' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "HeadersJson" = @p0
WHERE "Id" = @p1;
2025-09-30 13:48:21.118 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='40ab5d17-5024-4871-9349-267760662574', @p1='d2864b77-7c2b-4ec7-8838-113c1073bd50', @p2='9841bcab-ca71-439f-8691-d85ada887b01', @p3='2025-09-30T08:18:21.0673132Z' (DbType = DateTime), @p4=NULL, @p5=NULL, @p6='0', @p7='{"phone":"8974005240","parameter1":"Robert Nicosta"}' (Nullable = false) (DbType = Object), @p8=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CsvRows" ("Id", "BatchId", "BusinessId", "CreatedAt", "PhoneE164", "PhoneRaw", "RowIndex", "RowJson", "ValidationError")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-09-30 13:48:21.128 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='d2864b77-7c2b-4ec7-8838-113c1073bd50', @p0='1', @p1='ready' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CsvBatches" SET "RowCount" = @p0, "Status" = @p1
WHERE "Id" = @p2;
2025-09-30 13:48:21.135 +05:30 [INF] CsvBatch "d2864b77-7c2b-4ec7-8838-113c1073bd50" ingested: 1 rows; headers=2
2025-09-30 13:48:21.146 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.CampaignModule.DTOs.CsvBatchUploadResultDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:48:21.157 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api) in 267.6631ms
2025-09-30 13:48:21.161 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Upload (xbytechat.api)'
2025-09-30 13:48:21.165 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/csv/batch - 200 null application/json; charset=utf-8 309.687ms
2025-09-30 13:48:21.188 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/d2864b77-7c2b-4ec7-8838-113c1073bd50/sample?take=10 - null null
2025-09-30 13:48:21.196 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:21.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/csv/batch/d2864b77-7c2b-4ec7-8838-113c1073bd50/sample?take=10 - 204 null null 10.7734ms
2025-09-30 13:48:21.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/csv/batch/d2864b77-7c2b-4ec7-8838-113c1073bd50/sample?take=10 - null null
2025-09-30 13:48:21.215 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:21.226 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-30 13:48:21.237 +05:30 [INF] Route matched with {action = "Sample", controller = "CsvBatch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Sample(System.Guid, Int32, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController (xbytechat.api).
2025-09-30 13:48:21.265 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='d2864b77-7c2b-4ec7-8838-113c1073bd50', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."HeadersJson", c."RowCount"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:48:21.296 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__batchId_1='d2864b77-7c2b-4ec7-8838-113c1073bd50', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."RowIndex", c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__batchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-30 13:48:21.304 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType78`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IReadOnlyList`1[[xbytechat.api.Features.CampaignModule.DTOs.CsvRowSampleDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:48:21.311 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api) in 67.9429ms
2025-09-30 13:48:21.315 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CsvBatchController.Sample (xbytechat.api)'
2025-09-30 13:48:21.317 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/csv/batch/d2864b77-7c2b-4ec7-8838-113c1073bd50/sample?take=10 - 200 null application/json; charset=utf-8 111.0749ms
2025-09-30 13:48:21.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=d2864b77-7c2b-4ec7-8838-113c1073bd50 - null null
2025-09-30 13:48:21.330 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:21.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=d2864b77-7c2b-4ec7-8838-113c1073bd50 - 204 null null 7.6923ms
2025-09-30 13:48:21.338 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=d2864b77-7c2b-4ec7-8838-113c1073bd50 - null null
2025-09-30 13:48:21.344 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:21.348 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-30 13:48:21.357 +05:30 [INF] Route matched with {action = "Suggest", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestAsync(System.Guid, System.Guid, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-30 13:48:21.379 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."TemplateParameters"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:48:21.396 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__batchId_0='d2864b77-7c2b-4ec7-8838-113c1073bd50', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."HeadersJson"
FROM "CsvBatches" AS c
WHERE c."Id" = @__batchId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:48:21.408 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 13:48:21.413 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api) in 51.4582ms
2025-09-30 13:48:21.415 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SuggestAsync (xbytechat.api)'
2025-09-30 13:48:21.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings/suggest?batchId=d2864b77-7c2b-4ec7-8838-113c1073bd50 - 200 null application/json; charset=utf-8 79.5031ms
2025-09-30 13:48:22.539 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:18:22.5365262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:23.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - null null
2025-09-30 13:48:23.007 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - 204 null null 8.5691ms
2025-09-30 13:48:23.017 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - application/json 27
2025-09-30 13:48:23.022 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.024 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-30 13:48:23.035 +05:30 [INF] Route matched with {action = "Save", controller = "CampaignMappings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAsync(System.Guid, System.Collections.Generic.Dictionary`2[System.String,System.String], System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController (xbytechat.api).
2025-09-30 13:48:23.072 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-09-30 13:48:23.075 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api) in 34.7558ms
2025-09-30 13:48:23.078 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMappingsController.SaveAsync (xbytechat.api)'
2025-09-30 13:48:23.080 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/mappings - 204 null null 63.357ms
2025-09-30 13:48:23.087 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - null null
2025-09-30 13:48:23.092 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.094 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - 204 null null 7.0877ms
2025-09-30 13:48:23.100 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - application/json 207
2025-09-30 13:48:23.106 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.108 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-30 13:48:23.118 +05:30 [INF] Route matched with {action = "CsvCreate", controller = "CampaignMaterialize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto]] CsvCreate(System.Guid, xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeRequestDto, System.Threading.CancellationToken) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController (xbytechat.api).
2025-09-30 13:48:23.140 +05:30 [INF] 📦 Materialize request: campaign="3eb5f71d-e58a-4853-8621-1ce4d43bd8ee" persist=true batch="d2864b77-7c2b-4ec7-8838-113c1073bd50" audience='Audience 2025-09-30'
2025-09-30 13:48:23.160 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1)
2025-09-30 13:48:23.185 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='d2864b77-7c2b-4ec7-8838-113c1073bd50'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
2025-09-30 13:48:23.203 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__request_CsvBatchId_1='d2864b77-7c2b-4ec7-8838-113c1073bd50', @__p_2='200'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BatchId", c."BusinessId", c."CreatedAt", c."PhoneE164", c."PhoneRaw", c."RowIndex", c."RowJson", c."ValidationError"
FROM "CsvRows" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."BatchId" = @__request_CsvBatchId_1
ORDER BY c."RowIndex"
LIMIT @__p_2
2025-09-30 13:48:23.222 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."MessageTemplate", c."TemplateId"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:48:23.238 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1
ORDER BY CASE
    WHEN w."UpdatedAt" > w."CreatedAt" THEN w."UpdatedAt"
    ELSE w."CreatedAt"
END DESC
LIMIT 1
2025-09-30 13:48:23.324 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__r_Phone_1='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."PhoneNumber" = @__r_Phone_1
LIMIT 1
2025-09-30 13:48:23.403 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p0='f38b2965-63fd-4294-8405-7d8ee84f29e5', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL (DbType = Guid), @p3='2025-09-30T08:18:23.2668204Z' (DbType = DateTime), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL, @p7='False', @p8='Audience 2025-09-30' (Nullable = false), @p9='2025-09-30T08:18:23.2668204Z' (Nullable = true) (DbType = DateTime), @p10='cecf7ae5-ed19-4ccd-943e-f5e3cb7d454a', @p11='{"parameter1":"Robert Nicosta"}' (DbType = Object), @p12='f38b2965-63fd-4294-8405-7d8ee84f29e5', @p13='9841bcab-ca71-439f-8691-d85ada887b01', @p14='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p15='2025-09-30T08:18:23.2668204Z' (DbType = DateTime), @p16=NULL (DbType = Guid), @p17=NULL, @p18='False', @p19='False', @p20=NULL, @p21='918974005240', @p22=NULL, @p23=NULL (DbType = DateTime), @p24='2025-09-30T08:18:23.2668204Z' (Nullable = true) (DbType = DateTime), @p25='fce439c4-89b8-4430-a37d-ca06b2a3c417', @p26='cecf7ae5-ed19-4ccd-943e-f5e3cb7d454a' (Nullable = true), @p27=NULL, @p28='9841bcab-ca71-439f-8691-d85ada887b01', @p29='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @p30=NULL, @p31=NULL, @p32='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p33='82FF6961F0933A9171A96C5C0B9F1296CE91F4FA88A655559B22BEDB9198FA79', @p34='False', @p35='2025-09-30T08:18:23.2668204Z' (Nullable = true) (DbType = DateTime), @p36=NULL, @p37=NULL, @p38='{}' (DbType = Object), @p39='["Robert Nicosta"]' (DbType = Object), @p40=NULL (DbType = DateTime), @p41='Pending' (Nullable = false), @p42='2025-09-30T08:18:23.2668204Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Audiences" ("Id", "BusinessId", "CampaignId", "CreatedAt", "CreatedByUserId", "CsvBatchId", "Description", "IsDeleted", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO "AudienceMembers" ("Id", "AttributesJson", "AudienceId", "BusinessId", "ContactId", "CreatedAt", "CreatedByUserId", "Email", "IsDeleted", "IsTransientContact", "Name", "PhoneE164", "PhoneRaw", "PromotedAt", "UpdatedAt")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "CampaignRecipients" ("Id", "AudienceMemberId", "BotId", "BusinessId", "CampaignId", "CategoryBrowsed", "ClickedCTA", "ContactId", "IdempotencyKey", "IsAutoTagged", "MaterializedAt", "MessagePreview", "ProductBrowsed", "ResolvedButtonUrlsJson", "ResolvedParametersJson", "SentAt", "Status", "UpdatedAt")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
2025-09-30 13:48:23.425 +05:30 [INF] 📦 Materialize result: campaign="3eb5f71d-e58a-4853-8621-1ce4d43bd8ee" materialized=1 skipped=0 audienceId="f38b2965-63fd-4294-8405-7d8ee84f29e5"
2025-09-30 13:48:23.430 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CampaignModule.DTOs.CampaignCsvMaterializeResponseDto'.
2025-09-30 13:48:23.439 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api) in 317.2112ms
2025-09-30 13:48:23.443 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignMaterializeController.CsvCreate (xbytechat.api)'
2025-09-30 13:48:23.447 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaigns/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee/materialize - 200 null application/json; charset=utf-8 346.5537ms
2025-09-30 13:48:23.555 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 13:48:23.562 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.564 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 9.4815ms
2025-09-30 13:48:23.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 13:48:23.579 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:23.582 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 13:48:23.585 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:48:23.594 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 13:48:23.603 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 13:48:23.607 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 17.5899ms
2025-09-30 13:48:23.610 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 13:48:23.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 42.3726ms
2025-09-30 13:48:28.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null null
2025-09-30 13:48:28.253 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:28.255 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 204 null null 13.7836ms
2025-09-30 13:48:28.263 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - null 0
2025-09-30 13:48:28.269 +05:30 [INF] CORS policy execution successful.
2025-09-30 13:48:28.272 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:48:28.274 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 13:48:28.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-30 13:48:28.296 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:48:28.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__campaignId_0='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-30 13:48:28.330 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 13:48:28.335 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:48:28.338 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 13:48:29.270 +05:30 [INF] Received HTTP response headers after 928.9652ms - 200
2025-09-30 13:48:29.275 +05:30 [INF] End processing HTTP request after 939.3976ms - 200
2025-09-30 13:48:29.403 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 13:48:29.413 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 13:48:29.423 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:48:29.425 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 13:48:30.199 +05:30 [INF] Received HTTP response headers after 770.6931ms - 200
2025-09-30 13:48:30.204 +05:30 [INF] End processing HTTP request after 781.1881ms - 200
2025-09-30 13:48:30.211 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='69b83a5a-9210-49bb-bd90-ac690921190d', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 13:48:30.240 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@p2='fce439c4-89b8-4430-a37d-ca06b2a3c417', @p0='c6b471a2ad55e68812d0065cff36dbbc62c11f67db41fad6b247b5b511c77919', @p1='2025-09-30T08:18:29.3821132Z' (DbType = DateTime), @p3='69b83a5a-9210-49bb-bd90-ac690921190d', @p4='9841bcab-ca71-439f-8691-d85ada887b01', @p5='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p6=NULL (DbType = Guid), @p7=NULL (DbType = Guid), @p8='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee' (Nullable = true), @p9='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p10=NULL, @p11=NULL, @p12=NULL (DbType = DateTime), @p13='2025-09-30T08:18:29.3821132Z' (DbType = DateTime), @p14=NULL, @p15=NULL (DbType = Int32), @p16=NULL (DbType = Boolean), @p17='False', @p18='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p19='welcome_video' (Nullable = false), @p20='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA==', @p21=NULL (DbType = Decimal), @p22=NULL, @p23='META_CLOUD', @p24='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA==', @p25='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA==","message_status":"accepted"}]}', @p26='918974005240' (Nullable = false), @p27=NULL (DbType = Guid), @p28=NULL, @p29='9dfbd793-17b2-42bf-9fec-b95781ca9a5f' (Nullable = true), @p30='2025-09-30T08:18:29.3821132Z' (Nullable = true) (DbType = DateTime), @p31='campaign', @p32='Sent' (Nullable = false), @p33='05bb1d53-db98-43c1-bda9-13d0ae5bffee', @p34='9841bcab-ca71-439f-8691-d85ada887b01', @p35=NULL, @p36=NULL, @p37='2025-09-30T08:18:30.2159202+00:00' (DbType = DateTime), @p38='send_response' (Nullable = false), @p39=NULL (DbType = Boolean), @p40='69b83a5a-9210-49bb-bd90-ac690921190d' (Nullable = true), @p41='2025-09-30T08:18:30.2159223+00:00' (DbType = DateTime), @p42='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA==","message_status":"accepted"}]}' (Nullable = false), @p43=NULL (DbType = Decimal), @p44=NULL, @p45='META_CLOUD' (Nullable = false), @p46='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "CampaignRecipients" SET "IdempotencyKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
2025-09-30 13:48:30.257 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='17661aba-bb51-47e4-9306-93e2997fd5e3', @p1='True', @p2=NULL, @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7='3eb5f71d-e58a-4853-8621-1ce4d43bd8ee', @p8=NULL, @p9=NULL, @p10=NULL (DbType = DateTime), @p11='28070734-5dee-47a0-a2f1-d6e809c15458' (Nullable = true), @p12=NULL, @p13='2025-09-30T08:18:29.3821132Z' (DbType = DateTime), @p14='system', @p15=NULL (DbType = DateTime), @p16=NULL, @p17=NULL, @p18=NULL, @p19=NULL, @p20='False', @p21=NULL (DbType = DateTime), @p22=NULL, @p23=NULL, @p24='Hello {{1}} 👋
Aapka order successfully deliver ho chuka hai. 🚚✨
Kya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊
Neeche diye gaye options me se select karke bataye 👇' (Nullable = false), @p25='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNzlGRjI2Q0Q1NDU5QUFBNzk3AA==', @p26='69b83a5a-9210-49bb-bd90-ac690921190d' (Nullable = true), @p27=NULL (DbType = DateTime), @p28='fce439c4-89b8-4430-a37d-ca06b2a3c417', @p29='0', @p30='9dfbd793-17b2-42bf-9fec-b95781ca9a5f' (Nullable = true), @p31='Sent', @p32='2025-09-30T08:18:29.3821132Z' (Nullable = true) (DbType = DateTime), @p33='video_template', @p34='welcome_video', @p35=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CampaignSendLogs" ("Id", "AllowRetry", "Browser", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "City", "ClickType", "ClickedAt", "ContactId", "Country", "CreatedAt", "CreatedBy", "DeliveredAt", "DeviceInfo", "DeviceType", "ErrorMessage", "IpAddress", "IsClicked", "LastRetryAt", "LastRetryStatus", "MacAddress", "MessageBody", "MessageId", "MessageLogId", "ReadAt", "RecipientId", "RetryCount", "RunId", "SendStatus", "SentAt", "SourceChannel", "TemplateId", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-09-30 13:48:30.262 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 13:48:30.266 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 1987.0192ms
2025-09-30 13:48:30.269 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 13:48:30.272 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/3eb5f71d-e58a-4853-8621-1ce4d43bd8ee - 200 null application/json; charset=utf-8 2008.5753ms
2025-09-30 13:48:32.550 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:18:32.5463878+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:42.571 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:18:42.5682369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:48:52.590 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:18:52.5866030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:02.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:02.6029931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:12.617 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:12.6149328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:22.631 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:22.6276386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:32.646 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:32.6429926+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:42.678 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:42.6755410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:49:52.692 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:19:52.6884171+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:02.715 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:20:02.7122054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:12.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:20:12.7348750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:22.752 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:20:22.7465159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:32.939 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:20:32.7683367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:42.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:20:42.9476985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:50:52.957 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:20:52.9530900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:02.971 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:21:02.9659340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:12.985 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:21:12.9822446+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:23.010 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:21:23.0071744+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:33.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:21:33.0167038+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:43.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:21:43.0254568+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:51:53.037 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:21:53.0343113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:03.043 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:03.0397359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:13.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:13.0459620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:23.054 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:23.0515737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:33.075 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:33.0723685+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:43.089 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:43.0862726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:52:53.095 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:22:53.0924230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:03.105 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:23:03.1012587+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:13.126 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:23:13.1239793+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:23.140 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:23:23.1371869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:33.155 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:23:33.1517230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:43.176 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:23:43.1722368+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:53:53.188 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:23:53.1849098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:03.198 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:03.1948183+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:13.212 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:13.2094270+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:23.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:23.2197306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:33.232 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:33.2290634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:43.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:43.2476621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:54:53.270 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:24:53.2661703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:03.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:25:03.2807313+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:13.298 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:25:13.2948477+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:23.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:25:23.2997484+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:33.449 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T08:25:33.3114606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:43.467 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:25:43.4634264+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:55:53.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:25:53.4747685+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:03.489 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:03.4882609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:13.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:13.4962049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:23.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:23.5093549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:33.520 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:33.5182890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:43.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:43.5269056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:56:53.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:26:53.5362217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:03.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:03.5455448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:13.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:13.5610408+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:23.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:23.5684974+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:33.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:33.5766817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:43.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:43.5958337+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:57:53.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:27:53.6040910+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:03.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:28:03.6127359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:13.622 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:28:13.6199779+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:23.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:28:23.6249299+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:33.635 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:28:33.6318994+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:43.644 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:28:43.6421819+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:58:53.663 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:28:53.6612782+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:03.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:03.6644990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:13.674 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:13.6726012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:23.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:23.6764443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:33.688 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:33.6868029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:43.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:43.6945168+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 13:59:53.712 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:29:53.7105120+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:03.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:30:03.7244668+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:13.758 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T08:30:13.7514634+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:23.769 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:30:23.7672029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:33.838 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:30:33.7794372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:43.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:30:43.8494697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:00:53.858 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:30:53.8568404+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:03.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:31:03.8683737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:13.880 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:31:13.8780799+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:23.887 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:31:23.8840896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:33.897 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:31:33.8923921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:43.907 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T08:31:43.9012673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:01:53.915 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:31:53.9119538+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:03.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:32:03.9205403+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:13.933 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:32:13.9311159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:23.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:32:23.9376603+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:33.889 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - null 0
2025-09-30 14:02:33.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:32:33.9477030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:33.896 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:02:33.975 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:02:33.980 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:02:33.987 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:02:33.990 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - 401 0 null 100.984ms
2025-09-30 14:02:43.967 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:32:43.9652808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:02:53.979 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:32:53.9744699+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:03.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:33:03.9927189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:14.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:33:14.0035602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:20.782 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - null 0
2025-09-30 14:03:20.790 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:03:20.794 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:03:20.796 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:03:20.797 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:03:20.798 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - 401 0 null 16.611ms
2025-09-30 14:03:24.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:33:24.0262170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:34.042 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:33:34.0396739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:36.559 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - application/x-www-form-urlencoded 0
2025-09-30 14:03:36.564 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:03:36.566 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:03:36.568 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:03:36.569 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:03:36.570 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - 401 0 null 11.7553ms
2025-09-30 14:03:44.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:33:44.0599569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:54.077 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:33:54.0747301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:03:54.563 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - application/x-www-form-urlencoded 0
2025-09-30 14:03:54.569 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:03:54.571 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:03:54.573 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:03:54.574 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:03:54.576 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/custom-api/keys/create?name=NgrokTest&scopes=direct.send&daysValid=0 - 401 0 null 13.2796ms
2025-09-30 14:04:04.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:34:04.0772395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:04:14.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:34:14.0849087+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:04:24.091 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:34:24.0885749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:04:34.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:34:34.0963551+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:04:44.110 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:34:44.1075377+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:04:54.132 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:34:54.1300058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:04.139 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:35:04.1373382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:14.153 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:35:14.1510181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:24.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:35:24.1653514+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:34.268 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:35:34.1671056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:44.277 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:35:44.2742588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:05:54.283 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:35:54.2807494+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:04.298 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:36:04.2953127+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:14.309 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:36:14.3052539+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:24.323 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:36:24.3186222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:34.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:36:34.3804687+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:44.400 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:36:44.3977608+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:06:54.422 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:36:54.4190129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:04.437 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:37:04.4343113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:14.447 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:37:14.4446673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:24.466 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:37:24.4633434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:34.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:37:34.4676635+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:44.479 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:37:44.4766738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:07:54.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:37:54.4880027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:04.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:38:04.4954518+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:14.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:38:14.5041455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:24.520 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:38:24.5179324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:34.526 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:38:34.5239564+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:44.542 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:38:44.5402238+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:08:54.562 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:38:54.5596626+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:04.579 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:39:04.5762246+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:14.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:39:14.5831261+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:24.608 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:39:24.6054727+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:34.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:39:34.6113627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:44.622 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:39:44.6199046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:09:54.640 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:39:54.6367832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:04.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:40:04.6538976+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:14.673 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:40:14.6706385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:24.691 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:40:24.6881812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:34.827 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T08:40:34.6977323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:44.836 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:40:44.8338036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:10:54.848 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:40:54.8459326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:04.865 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:41:04.8634722+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:14.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:41:14.8701219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:24.890 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:41:24.8857867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:34.896 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:41:34.8934470+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:44.910 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:41:44.9076566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:11:54.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:41:54.9219865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:04.944 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:42:04.9418860+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:14.951 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:42:14.9486384+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:24.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:42:24.9560138+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:34.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:42:34.9619406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:44.977 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:42:44.9736778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:12:54.987 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:42:54.9846121+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:05.007 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:43:05.0050981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:15.024 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:43:15.0212661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:25.047 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:43:25.0435938+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:35.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:43:35.0489665+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:45.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:43:45.0501395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:13:55.067 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:43:55.0645878+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:05.076 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:05.0729806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:15.085 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:15.0828488+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:25.098 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:25.0951574+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:35.108 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:35.1051005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:45.126 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:45.1237349+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:14:55.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:44:55.1492660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:05.171 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T08:45:05.1647379+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:15.174 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:45:15.1708520+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:25.186 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:45:25.1830808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:35.333 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T08:45:35.2040044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:37.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 14:15:37.418 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:37.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 204 null null 8.0163ms
2025-09-30 14:15:37.436 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - null null
2025-09-30 14:15:37.442 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:37.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary - 404 0 null 8.4063ms
2025-09-30 14:15:37.451 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/campaigns/analytics/:campaignId/summary, Response status code: 404
2025-09-30 14:15:43.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 14:15:43.996 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:43.999 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 13.0725ms
2025-09-30 14:15:44.008 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 14:15:44.013 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:44.015 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 14:15:44.019 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 14:15:44.032 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 14:15:44.037 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:15:44.040 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 17.7319ms
2025-09-30 14:15:44.043 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 14:15:44.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 36.8387ms
2025-09-30 14:15:45.339 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:45:45.3364537+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:15:46.790 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 14:15:46.795 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:46.798 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 14:15:46.800 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 14:15:46.812 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 14:15:46.822 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:15:46.825 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 20.5679ms
2025-09-30 14:15:46.827 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 14:15:46.833 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 42.9124ms
2025-09-30 14:15:52.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-30 14:15:52.604 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-30 14:15:52.606 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:52.615 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:52.617 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 204 null null 22.1479ms
2025-09-30 14:15:52.619 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 204 null null 15.3536ms
2025-09-30 14:15:52.628 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - null null
2025-09-30 14:15:52.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - null null
2025-09-30 14:15:52.638 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:52.646 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:15:52.646 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-30 14:15:52.648 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-30 14:15:52.657 +05:30 [INF] Route matched with {action = "GetSenders", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSenders(System.Guid) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 14:15:52.658 +05:30 [INF] Route matched with {action = "List", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.Guid, System.String, System.String, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-30 14:15:52.677 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:15:52.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.WhatsAppSettings.DTOs.WhatsAppSenderDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:15:52.691 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__status_1='APPROVED'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Name", w."Language", w."Status", w."Category", w."PlaceholderCount", w."HasImageHeader", w."ButtonsJson"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Status" = @__status_1
ORDER BY w."Name"
2025-09-30 14:15:52.699 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api) in 37.191ms
2025-09-30 14:15:52.700 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType175`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType262`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:15:52.702 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetSenders (xbytechat.api)'
2025-09-30 14:15:52.706 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppSettings/senders/9841bcab-ca71-439f-8691-d85ada887b01 - 200 null application/json; charset=utf-8 77.7315ms
2025-09-30 14:15:52.713 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api) in 47.695ms
2025-09-30 14:15:52.716 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.List (xbytechat.api)'
2025-09-30 14:15:52.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01?status=APPROVED - 200 null application/json; charset=utf-8 84.2447ms
2025-09-30 14:15:55.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:45:55.3523020+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:00.060 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-30 14:16:00.065 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:16:00.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 204 null null 6.6204ms
2025-09-30 14:16:00.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - null null
2025-09-30 14:16:00.083 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:16:00.089 +05:30 [INF] Executing endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-30 14:16:00.101 +05:30 [INF] Route matched with {action = "GetOne", controller = "Templates"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOne(System.Guid, System.String, System.String) on controller xbytechat.api.WhatsAppSettings.Controllers.TemplatesController (xbytechat.api).
2025-09-30 14:16:00.121 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__name_1='welcome_video'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Name" = @__name_1
LIMIT 1
2025-09-30 14:16:00.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__templateName_1='welcome_video', @__language_2='en_US'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."Name" = @__templateName_1 AND w."Language" = @__language_2
ORDER BY w."Language" = @__language_2 DESC
LIMIT 1
2025-09-30 14:16:00.165 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType263`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:16:00.174 +05:30 [INF] Executed action xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api) in 68.9334ms
2025-09-30 14:16:00.177 +05:30 [INF] Executed endpoint 'xbytechat.api.WhatsAppSettings.Controllers.TemplatesController.GetOne (xbytechat.api)'
2025-09-30 14:16:00.180 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/templates/9841bcab-ca71-439f-8691-d85ada887b01/welcome_video - 200 null application/json; charset=utf-8 102.9297ms
2025-09-30 14:16:05.376 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:46:05.3736318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:15.393 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T08:46:15.3862119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:25.427 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:46:25.4243366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:35.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:46:35.4428731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:45.452 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:46:45.4495673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:16:55.490 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:46:55.4881105+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:05.495 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:47:05.4923509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:15.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:47:15.5032169+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:25.523 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:47:25.5198602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:29.839 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 14:17:29.851 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 14:17:29.860 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:29.864 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:29.867 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 28.1141ms
2025-09-30 14:17:29.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 17.5792ms
2025-09-30 14:17:29.876 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 14:17:29.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 14:17:29.886 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:29.892 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:29.894 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:29.896 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:17:29.898 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:17:29.900 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 14:17:29.908 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:17:29.923 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:17:29.934 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 29.6529ms
2025-09-30 14:17:29.937 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:29.940 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 63.9827ms
2025-09-30 14:17:30.057 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:17:30.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 14:17:30.066 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 153.2351ms
2025-09-30 14:17:30.068 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:17:30.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 189.1183ms
2025-09-30 14:17:30.076 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:17:30.079 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:17:30.082 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:30.087 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:30.088 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 12.2031ms
2025-09-30 14:17:30.090 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 11.0916ms
2025-09-30 14:17:30.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:17:30.104 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:30.107 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:30.109 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:17:30.116 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:17:30.123 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:17:30.126 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 13.8588ms
2025-09-30 14:17:30.127 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:17:30.129 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:30.134 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:30.136 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 35.4275ms
2025-09-30 14:17:30.137 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:30.144 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:17:30.156 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:17:30.163 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:17:30.166 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 16.8278ms
2025-09-30 14:17:30.169 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:17:30.171 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 44.12ms
2025-09-30 14:17:35.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:47:35.5332789+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:45.559 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:47:45.5535896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:55.568 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:47:55.5653352+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:17:58.215 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 277
2025-09-30 14:17:58.221 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:17:58.223 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:17:58.227 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:17:58.230 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:17:58.239 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:17:58.242 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:17:58.245 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 14:17:58.247 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 31.7395ms
2025-09-30 14:18:05.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:48:05.5754719+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:18:15.593 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:48:15.5899875+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:18:25.606 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:48:25.6032035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:18:34.628 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 277
2025-09-30 14:18:34.633 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:18:34.635 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-30 14:18:34.639 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:18:34.641 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-09-30 14:18:34.644 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:18:34.646 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:18:34.648 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 14:18:34.649 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 21.6096ms
2025-09-30 14:18:35.624 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:48:35.6215970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:18:45.639 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:48:45.6359644+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:18:55.650 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:48:55.6471564+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:05.662 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:49:05.6586398+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:15.682 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:49:15.6789367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:25.689 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:49:25.6858074+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:35.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:49:35.6988534+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:45.710 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:49:45.7063614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:19:55.716 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:49:55.7133627+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:05.746 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:50:05.7408115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:15.770 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:50:15.7661649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:25.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:50:25.7745587+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:35.903 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:50:35.7904485+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:45.920 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:50:45.9176677+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:20:55.929 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:50:55.9262917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:05.948 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:05.9453366+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:15.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:15.9622848+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:25.829 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/_bootstrap/create-api-key?businessId=%3Cyour%20BusinessId%20GUID%3E&name=CustomerA&scopes=direct.send&daysValid=0 - application/x-www-form-urlencoded 0
2025-09-30 14:21:25.834 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/_bootstrap/create-api-key?businessId=%3Cyour%20BusinessId%20GUID%3E&name=CustomerA&scopes=direct.send&daysValid=0 - 404 0 null 5.9589ms
2025-09-30 14:21:25.841 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://b2ed20924f9a.ngrok-free.app/api/_bootstrap/create-api-key, Response status code: 404
2025-09-30 14:21:25.983 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:25.9806385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:35.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:35.9914696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:46.005 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:46.0024054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:21:56.014 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:51:56.0109136+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:06.030 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:52:06.0269433+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:16.057 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:52:16.0536135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:26.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:52:26.0703904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:36.095 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:52:36.0922851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:46.107 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:52:46.1044453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:22:56.117 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:52:56.1138487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:06.126 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:53:06.1225666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:16.147 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:53:16.1429558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:26.163 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:53:26.1599052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:36.187 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:53:36.1838719+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:46.206 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:53:46.2017137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:23:56.225 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:53:56.2219598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:06.260 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:54:06.2573052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:16.282 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:54:16.2762191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:26.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:54:26.2904497+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:36.313 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:54:36.3100777+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:46.328 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:54:46.3245435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:24:56.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:54:56.3435390+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:06.359 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:55:06.3556411+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:16.370 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:55:16.3667785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:26.393 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:55:26.3792917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:36.531 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:55:36.4109129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:46.563 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='2025-09-30T08:55:46.5422654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:25:56.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:55:56.5784988+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:06.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:06.5910412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:16.622 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:16.6199406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:26.636 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:26.6328747+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:36.657 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:36.6536862+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:46.665 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:46.6622351+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:26:56.676 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:56:56.6734827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:06.685 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:57:06.6825385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:16.706 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:57:16.7024816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:26.736 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:57:26.7331618+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:36.746 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T08:57:36.7421910+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:46.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:57:46.7707208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:27:56.787 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:57:56.7847069+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:06.844 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T08:58:06.7925288+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:16.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:58:16.8535301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:26.877 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:58:26.8743353+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:36.891 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:58:36.8884359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:46.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:58:46.9132654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:28:56.921 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:58:56.9191049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:06.950 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:59:06.9475679+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:16.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T08:59:16.9809081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:26.995 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:59:26.9917013+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:37.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:59:37.0117787+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:47.043 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:59:47.0395855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:29:57.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T08:59:57.0623801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:07.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:00:07.0833808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:17.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:00:17.0889946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:27.108 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:00:27.1058912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:37.268 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T09:00:37.1135695+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:47.288 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:00:47.2847868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:30:57.310 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:00:57.3065570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:31:07.344 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:01:07.3409521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:31:17.363 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:01:17.3601822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:51:04.268 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 14:51:04.373 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 14:51:04.404 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 14:51:06.543 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 14:51:08.102 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 14:51:08.139 +05:30 [INF] ClickLogWorker started
2025-09-30 14:51:10.619 +05:30 [INF] ClickLogWorker stopped
2025-09-30 14:51:10.805 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 14:51:10.861 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__cutoff_0='2025-09-23T09:21:04.6710073Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 14:51:10.969 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 14:51:10.971 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 14:51:10.973 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 14:51:10.975 +05:30 [INF] Hosting environment: Development
2025-09-30 14:51:10.977 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 14:51:13.310 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='2025-09-30T09:21:13.1582104+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:51:17.887 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 14:51:18.231 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 14:51:18.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 396.388ms
2025-09-30 14:51:18.363 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:51:18.366 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 14:51:18.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.6951ms
2025-09-30 14:51:18.424 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 14:51:18.434 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 14:51:18.439 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 14:51:18.461 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:51:18.470 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 14:51:18.503 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 14:51:18.539 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 14:51:18.545 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 14:51:18.572 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.3839ms
2025-09-30 14:51:18.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 14:51:19.398 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 550.1439ms
2025-09-30 14:51:23.329 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:21:23.3243418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:51:30.048 +05:30 [WRN] TemplateSyncWorker: sync failed for biz "9841bcab-ca71-439f-8691-d85ada887b01"
System.Net.Http.HttpRequestException: No such host is known. (graph.facebook.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at xbytechat.api.WhatsAppSettings.Providers.MetaTemplateCatalogProvider.ListAsync(WhatsAppSettingEntity s, CancellationToken ct) in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Providers\MetaTemplateCatalogProvider.cs:line 31
   at TemplateSyncService.SyncBusinessTemplatesAsync(Guid businessId, Boolean force, CancellationToken ct) in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Services\TemplateSyncService.cs:line 69
   at xbytechat.api.WhatsAppSettings.Services.TemplateSyncWorker.<>c__DisplayClass6_2.<<ExecuteAsync>b__2>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Services\TemplateSyncWorker.cs:line 92
2025-09-30 14:51:30.101 +05:30 [INF] TemplateSyncWorker: sweep finished in 11943 ms; processed=1; next run ~"2025-09-30T15:21:18.1578194Z"
2025-09-30 14:51:33.353 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:21:33.3491342+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:51:43.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:21:43.3603130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:51:53.382 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:21:53.3782328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:03.405 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:03.4017317+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:13.419 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:13.4160617+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:23.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:23.4261882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:33.443 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:33.4392242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:43.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:43.4537030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:52:53.480 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:22:53.4770461+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:03.505 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:23:03.5008866+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:13.524 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:23:13.5192876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:23.552 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:23:23.5482828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:33.568 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:23:33.5632995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:43.586 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:23:43.5820410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:53:53.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:23:53.5958798+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:03.623 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:03.6200624+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:13.640 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:13.6362505+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:23.650 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:23.6457863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:33.666 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:33.6623489+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:43.695 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:43.6915972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:54:53.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:24:53.7020646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:03.730 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:03.7259506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:13.742 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:13.7389558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:23.755 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:23.7501536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:33.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:33.7711480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:43.803 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:43.7995432+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:55:53.819 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:25:53.8158995+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:03.830 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:26:03.8269302+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:13.968 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T09:26:13.8424649+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:23.986 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:26:23.9819968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:34.012 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:26:34.0096868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:44.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:26:44.0248174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:56:52.584 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 279
2025-09-30 14:56:52.611 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 14:56:52.690 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:56:52.842 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:56:52.852 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:56:52.856 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 14:56:52.860 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 275.6372ms
2025-09-30 14:56:54.038 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:26:54.0347479+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:04.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:27:04.0498269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:14.063 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:27:14.0592997+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:24.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:27:24.0829213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:34.102 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:27:34.0985724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:37.262 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 14:57:37.282 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:37.285 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 22.4513ms
2025-09-30 14:57:37.291 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 14:57:37.299 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:37.498 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 09:16:22 AM', Current time (UTC): '30-09-2025 09:27:37 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 14:57:37.510 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 09:16:22 AM', Current time (UTC): '30-09-2025 09:27:37 AM'.
2025-09-30 14:57:37.515 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 14:57:37.554 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 14:57:37.626 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 14:57:37.761 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 14:57:37.921 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 14:57:38.138 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 14:57:38.155 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 14:57:38.176 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 14:57:38.186 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 14:57:38.203 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:38.217 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 653.1239ms
2025-09-30 14:57:38.222 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 14:57:38.399 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-30 14:57:38.415 +05:30 [ERR] Response has already started, unable to write error response for path: /api/auth/login
2025-09-30 14:57:38.423 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json 1132.5236ms
2025-09-30 14:57:40.192 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 14:57:40.199 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.201 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 14:57:40.204 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 14:57:40.214 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 14:57:40.220 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 14:57:40.231 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 14:57:40.242 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 14:57:40.247 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 14:57:40.249 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 14:57:40.251 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 14:57:40.255 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.275 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 66.3444ms
2025-09-30 14:57:40.278 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 14:57:40.281 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 89.0416ms
2025-09-30 14:57:40.289 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.296 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.298 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 8.5491ms
2025-09-30 14:57:40.311 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.321 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.340 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.349 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 14:57:40.371 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 14:57:40.421 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 14:57:40.428 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.457 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 102.4934ms
2025-09-30 14:57:40.460 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.463 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 151.7782ms
2025-09-30 14:57:40.497 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.525 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.530 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.532 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 34.7571ms
2025-09-30 14:57:40.533 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 30.5295ms
2025-09-30 14:57:40.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.548 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.553 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.555 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 14:57:40.565 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 14:57:40.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.573 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 14.457ms
2025-09-30 14:57:40.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.576 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.580 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.582 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 38.418ms
2025-09-30 14:57:40.584 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.592 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 14:57:40.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 14:57:40.608 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.611 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.4094ms
2025-09-30 14:57:40.613 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 40.5824ms
2025-09-30 14:57:40.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.717 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.723 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.728 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 14:57:40.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 14:57:40.748 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.752 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 19.232ms
2025-09-30 14:57:40.756 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 50.9411ms
2025-09-30 14:57:40.789 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 14:57:40.798 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 14:57:40.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 14:57:40.815 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.823 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.830 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.830 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.831 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 34.4223ms
2025-09-30 14:57:40.832 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 40.6755ms
2025-09-30 14:57:40.834 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 14:57:40.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 14:57:40.856 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 14:57:40.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 14:57:40.861 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.865 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:40.870 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:40.873 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:40.875 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 22.8449ms
2025-09-30 14:57:40.877 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:57:40.881 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 14:57:40.885 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:40.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 96.4037ms
2025-09-30 14:57:40.889 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 14:57:40.911 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:40.924 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:40.949 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 58.3999ms
2025-09-30 14:57:40.952 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:40.954 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 112.4178ms
2025-09-30 14:57:41.039 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:57:41.098 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 14:57:41.110 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 211.55ms
2025-09-30 14:57:41.113 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:57:41.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 267.3924ms
2025-09-30 14:57:41.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:41.125 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:41.128 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:41.133 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:41.134 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 11.327ms
2025-09-30 14:57:41.136 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 11.0699ms
2025-09-30 14:57:41.149 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:41.154 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:41.157 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:41.160 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:41.169 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:41.184 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:41.197 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 33.4018ms
2025-09-30 14:57:41.200 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:41.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:41.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 54.0077ms
2025-09-30 14:57:41.208 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:41.217 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:41.219 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:41.231 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:41.240 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:41.244 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 20.4315ms
2025-09-30 14:57:41.246 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:41.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 48.5636ms
2025-09-30 14:57:44.113 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:27:44.1108330+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:57:45.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 14:57:45.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 14:57:45.262 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:45.267 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:45.270 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:57:45.270 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.273 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 14:57:45.275 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:45.287 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:57:45.289 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:45.298 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 14:57:45.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:45.305 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 25.5336ms
2025-09-30 14:57:45.307 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 24.8765ms
2025-09-30 14:57:45.310 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 14:57:45.312 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.315 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 66.5779ms
2025-09-30 14:57:45.317 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 56.4303ms
2025-09-30 14:57:45.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:45.336 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:45.339 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.341 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:45.349 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:45.357 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:45.360 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 14.323ms
2025-09-30 14:57:45.363 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 35.0556ms
2025-09-30 14:57:45.407 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 14:57:45.412 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:45.414 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.416 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 14:57:45.423 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 14:57:45.430 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:57:45.432 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 12.5164ms
2025-09-30 14:57:45.434 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 14:57:45.438 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 30.8568ms
2025-09-30 14:57:47.226 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/test-connection/current - null null
2025-09-30 14:57:47.232 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:47.235 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/test-connection/current - 204 null null 9.0778ms
2025-09-30 14:57:47.242 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/test-connection/current - application/json 2
2025-09-30 14:57:47.247 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:57:47.250 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api)'
2025-09-30 14:57:47.258 +05:30 [INF] Route matched with {action = "TestConnectionCurrent", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] TestConnectionCurrent() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 14:57:47.269 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 14:57:47.282 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/673199269218077
2025-09-30 14:57:47.285 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/673199269218077
2025-09-30 14:57:49.122 +05:30 [INF] Received HTTP response headers after 1830.0463ms - 200
2025-09-30 14:57:49.125 +05:30 [INF] End processing HTTP request after 1843.066ms - 200
2025-09-30 14:57:49.135 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 14:57:49.142 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api) in 1880.3464ms
2025-09-30 14:57:49.144 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.TestConnectionCurrent (xbytechat.api)'
2025-09-30 14:57:49.146 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/whatsappsettings/test-connection/current - 200 null application/json; charset=utf-8 1904.6698ms
2025-09-30 14:57:54.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:27:54.1311464+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:04.153 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:28:04.1504889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:08.821 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 279
2025-09-30 14:58:08.828 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:58:08.831 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 14:58:08.833 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 14:58:08.835 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 14:58:08.838 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 16.6635ms
2025-09-30 14:58:14.156 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:28:14.1537703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:24.171 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:28:24.1680840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:34.183 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:28:34.1807637+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:44.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:28:44.1930122+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:58:54.208 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:28:54.2059908+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:04.226 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:29:04.2234610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:14.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:29:14.2469124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:24.263 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:29:24.2608870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:34.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:29:34.2805394+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:44.301 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:29:44.2990606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 14:59:54.314 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:29:54.3114156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:04.326 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:30:04.3234056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:14.351 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:30:14.3477419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:24.370 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:30:24.3668985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:34.393 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:30:34.3896456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:44.413 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:30:44.4098463+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:00:54.438 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:30:54.4341268+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:04.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:31:04.4518827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:14.591 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T09:31:14.4671200+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:24.597 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:31:24.5947526+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:34.607 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:31:34.6048232+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:44.638 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:31:44.6352267+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:01:54.653 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:31:54.6508647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:04.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:32:04.6618091+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:14.677 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:32:14.6742406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:24.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:32:24.7613780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:34.787 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:32:34.7836604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:44.809 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:32:44.8051204+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:02:54.825 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:32:54.8227158+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:04.840 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:33:04.8369252+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:14.851 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T09:33:14.8479960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:24.867 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:33:24.8642533+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:34.891 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:33:34.8896495+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:44.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:33:44.8958409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:03:54.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:33:54.9137566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:04:04.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:34:04.9189821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:04:14.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:34:14.9358495+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:04:24.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:34:24.9458231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:04:34.958 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:34:34.9552974+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:04:59.838 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 15:04:59.874 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 15:04:59.887 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 15:05:00.666 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 15:05:01.194 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 15:05:01.211 +05:30 [INF] ClickLogWorker started
2025-09-30 15:05:01.395 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 15:05:01.413 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 15:05:01.414 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 15:05:01.415 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 15:05:01.416 +05:30 [INF] Hosting environment: Development
2025-09-30 15:05:01.417 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 15:05:01.419 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__cutoff_0='2025-09-23T09:34:59.9686355Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 15:05:02.255 +05:30 [INF] ClickLogWorker stopped
2025-09-30 15:05:06.302 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='2025-09-30T09:35:06.2320386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:05:06.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 15:05:06.463 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 136.5333ms
2025-09-30 15:05:06.568 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 15:05:06.568 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 15:05:06.576 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.8122ms
2025-09-30 15:05:06.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.1015ms
2025-09-30 15:05:06.693 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 15:05:06.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 208.6819ms
2025-09-30 15:05:11.261 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 15:05:11.308 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:05:11.330 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:05:11.334 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 15:05:11.336 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 15:05:11.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:05:11.351 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:05:11.384 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:05:11.386 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:05:12.513 +05:30 [INF] Received HTTP response headers after 1123.499ms - 200
2025-09-30 15:05:12.515 +05:30 [INF] End processing HTTP request after 1135.1286ms - 200
2025-09-30 15:05:12.745 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 15:05:12.912 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p1='011cbbb2-c2bb-4496-9192-a3d6b774b8d4', @p0='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p3='016d56cc-6729-4843-9959-d835d45f58fa', @p2='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p5='0370e011-5a1d-4a67-854a-0fbcf5648331', @p4='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p7='13493525-00e9-44ea-99a1-66796a44932e', @p6='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p9='165006ca-f706-435f-93c0-cd89ef7773fc', @p8='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p11='21533538-1fc0-41e8-aa1c-cf69db568733', @p10='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p13='2377d482-9fb9-4c93-ae00-3719af536b2a', @p12='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p15='29f5c5dc-6e02-4cee-ae04-f0aa3edc4d9a', @p14='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p17='2df07743-35ab-4a38-a40f-4a32a022334e', @p16='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p19='3027a02a-c6a7-4d5c-8520-3b7967cecb4b', @p18='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p21='3370ba3e-c344-4cf2-91f7-1924856ec046', @p20='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p23='38c67e31-0848-4149-a324-cdc34c04bc54', @p22='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p25='4be5ea24-fa7b-4bc7-ac2c-ec460bd69972', @p24='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p27='5046cab8-e27a-4b52-841b-3218bec2f52b', @p26='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p29='519a3271-0786-4495-9a30-fe45b93b477b', @p28='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p31='5ed88fcc-3d15-4f82-af6f-e23e2d71fbb7', @p30='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p33='73267220-a9e5-44aa-8af9-84636f9919e8', @p32='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p35='832116b1-e2ab-48a8-bc91-29ffd3dea322', @p34='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p37='89c4fe4f-8060-41f1-ac86-9764a35100ba', @p36='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p39='90d4429e-23ae-42e2-8e68-82574e0a3284', @p38='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p43='9a3f869d-79ad-4c4a-aa4e-f59df48712ef', @p40='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p41='{"name":"pdf_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"DOCUMENT","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/534415257_508230149051927_6330429317144744326_n.pdf?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=tmB0TaYYwK0Q7kNvwGFKrOd&_nc_oc=AdnFcbBv1gZ5Visf9PS7CI-ci18CEl355oye6pKkwjtogcya6wnfhKFSE4PRHWIhGaLqeTF8PNphcb-2EBIrkH9m&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=DfU0DyBzoNfEkqgixKhBMQ&oh=01_Q5Aa2gEMQKnUUxAp7z5lbnVW4Mza5dOWZdoqmtWveR4Dzj67XA&oe=69032BF5"]}},{"type":"BODY","text":"Hello {{1}},\n\nPlease find your Invoice.","example":{"body_text":[["Usernmok"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Recieved"},{"type":"QUICK_REPLY","text":"No Received"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"508230145718594"}' (Nullable = false), @p42='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p47='9b4b4389-ff80-4861-bd61-1e01cf0a91ea', @p44='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p45='{"name":"welcome_video","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/534417141_1284099973020036_5812680847202991712_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=P78mNx-uGb8Q7kNvwFPf39f&_nc_oc=AdnODxX2yhK3ThcyyDRrs-blSdMH078gMOG_nlpzASR0GYpVEfUjSLbFQLYjhQz0AHolnZQS1Q2mu8inkBATdkAo&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=DfU0DyBzoNfEkqgixKhBMQ&oh=01_Q5Aa2gHNcqEDEKyJ_jLVKiT9oDa-jl2vbMmMhPIU9Kr7UTDfkQ&oe=690321C3"]}},{"type":"BODY","text":"Hello {{1}} 👋\nAapka order successfully deliver ho chuka hai. 🚚✨\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊\nNeeche diye gaye options me se select karke bataye 👇","example":{"body_text":[["Nicolus"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"},{"type":"QUICK_REPLY","text":"No"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1284099969686703"}' (Nullable = false), @p46='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p49='9b75c680-c36f-4cc1-a717-8dcbbdb09998', @p48='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p51='a24a8aa5-00d6-4e27-ae00-5251480ba7ee', @p50='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p55='a7690842-f899-4064-872f-42ee1e0ea934', @p52='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p53='{"name":"shoe_launch_offer","parameter_format":"NAMED","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/534420374_1100798475349987_2054812548274537975_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=9lFBNPUqdVAQ7kNvwFOR9kG&_nc_oc=AdkgfSJ82Yy0k2BgRAiNS2WeCb90nrCsCuteQSRtNUeHl1jllkpxnHTOOk_9B5U5vFGwZ03-knHp_EcRplXD_B-V&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=DfU0DyBzoNfEkqgixKhBMQ&oh=01_Q5Aa2gFP74Mq2RFT2LS8S25irAqghxWijq-Mk3uUwur5W1WI8A&oe=690319CF"]}},{"type":"BODY","text":"Hello {{}}! The moment has arrived! 🎉\n\nOur new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!\n\nFor the next 48 hours, get an **exclusive 15% discount** on your purchase. Don't just follow the trend—set it.\n\nUse code: **LAUNCH15**\n\nThis offer won't last long. Step into the future today!"},{"type":"FOOTER","text":"The XploreByte Team"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop now","url":"https://xplorebytesolutions.com/"},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1100798472016654"}' (Nullable = false), @p54='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p57='be892679-3fc5-4687-85cc-0ca879983766', @p56='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p59='c2984897-fef2-4f79-a068-eca5a820bd5e', @p58='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p61='e14238a0-03ae-4130-9369-92c3948aaa0d', @p60='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p63='e679348c-7124-4f79-bea4-ddb5f147d596', @p62='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p65='ef2d8d19-8144-475a-a2cd-51ed38c59af6', @p64='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p66='45bc982b-adcf-49fb-a888-e86412ae3aa7', @p67='Hello {{}},

I would like to infrom you that you have a appointment for {{}}

So please {{}} reach at the office before {{}}' (Nullable = false), @p68='9841bcab-ca71-439f-8691-d85ada887b01', @p69='[{"Type":"QUICK_REPLY","Text":"Agree","SubType":"quick_reply","Index":0,"ParameterValue":""},{"Type":"QUICK_REPLY","Text":"Not come","SubType":"quick_reply","Index":1,"ParameterValue":""},{"Type":"QUICK_REPLY","Text":"Need Recheduling","SubType":"quick_reply","Index":2,"ParameterValue":""}]' (Nullable = false), @p70='MARKETING', @p71='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p72='4132147790393152', @p73='False', @p74='True', @p75='en_US' (Nullable = false), @p76='2025-09-30T09:35:11.3491357Z' (DbType = DateTime), @p77='three_var_template' (Nullable = false), @p78='4', @p79='meta_cloud' (Nullable = false), @p80='{"name":"three_var_template","parameter_format":"NAMED","components":[{"type":"HEADER","format":"TEXT","text":"LeadsCone"},{"type":"BODY","text":"Hello {{}},\n\nI would like to infrom you that you have a appointment for {{}}\n\nSo please {{}} reach at the office before {{}}"},{"type":"FOOTER","text":"Sent From Lendscone"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Agree"},{"type":"QUICK_REPLY","text":"Not come"},{"type":"QUICK_REPLY","text":"Need Recheduling"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"4132147790393152"}' (Nullable = false), @p81='APPROVED' (Nullable = false), @p82='2025-09-30T09:35:11.3491357Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p0
WHERE "Id" = @p1;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p2
WHERE "Id" = @p3;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p4
WHERE "Id" = @p5;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p6
WHERE "Id" = @p7;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p8
WHERE "Id" = @p9;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p10
WHERE "Id" = @p11;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p12
WHERE "Id" = @p13;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p14
WHERE "Id" = @p15;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p16
WHERE "Id" = @p17;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p18
WHERE "Id" = @p19;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p20
WHERE "Id" = @p21;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p22
WHERE "Id" = @p23;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p24
WHERE "Id" = @p25;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p26
WHERE "Id" = @p27;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p28
WHERE "Id" = @p29;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p30
WHERE "Id" = @p31;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p32
WHERE "Id" = @p33;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p34
WHERE "Id" = @p35;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p36
WHERE "Id" = @p37;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p38
WHERE "Id" = @p39;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p40, "RawJson" = @p41, "UpdatedAt" = @p42
WHERE "Id" = @p43;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p44, "RawJson" = @p45, "UpdatedAt" = @p46
WHERE "Id" = @p47;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p48
WHERE "Id" = @p49;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p50
WHERE "Id" = @p51;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p52, "RawJson" = @p53, "UpdatedAt" = @p54
WHERE "Id" = @p55;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p56
WHERE "Id" = @p57;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p58
WHERE "Id" = @p59;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p60
WHERE "Id" = @p61;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p62
WHERE "Id" = @p63;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p64
WHERE "Id" = @p65;
INSERT INTO "WhatsAppTemplates" ("Id", "Body", "BusinessId", "ButtonsJson", "Category", "CreatedAt", "ExternalId", "HasImageHeader", "IsActive", "Language", "LastSyncedAt", "Name", "PlaceholderCount", "Provider", "RawJson", "Status", "UpdatedAt")
VALUES (@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82);
2025-09-30 15:05:12.930 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=1 updated=3 skipped=27 syncedAt="2025-09-30T09:35:11.3491357Z"
2025-09-30 15:05:12.932 +05:30 [INF] TemplateSyncWorker: sweep finished in 1696 ms; processed=2; next run ~"2025-09-30T15:35:11.2360718Z"
2025-09-30 15:05:16.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:35:16.3193063+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:05:26.336 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:35:26.3330079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:05:36.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:35:36.3380224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:05:46.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:35:46.3510999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:05:56.369 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:35:56.3667883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:06.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:36:06.3851094+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:06.679 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 279
2025-09-30 15:06:06.684 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 15:06:06.734 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:06:06.802 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:06:06.820 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:06:06.865 +05:30 [INF] [CustomAPI:"585006ab-be70-4e99-ba81-9de18f0e1bf3"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 15:06:06.891 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:06:06.912 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:06:06.957 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:06:06.959 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:06:07.751 +05:30 [INF] Received HTTP response headers after 790.3008ms - 200
2025-09-30 15:06:07.753 +05:30 [INF] End processing HTTP request after 796.063ms - 200
2025-09-30 15:06:07.827 +05:30 [INF] [CustomAPI:"585006ab-be70-4e99-ba81-9de18f0e1bf3"] Meta resolved. header=TEXT lang=en_US
2025-09-30 15:06:07.829 +05:30 [WRN] [CustomAPI:"585006ab-be70-4e99-ba81-9de18f0e1bf3"] Unsupported header for this endpoint. header=TEXT
2025-09-30 15:06:07.836 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 15:06:07.852 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 1027.6954ms
2025-09-30 15:06:07.854 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:06:07.859 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 1180.215ms
2025-09-30 15:06:16.405 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:36:16.4023424+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:26.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:36:26.4172304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:36.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:36:36.4223950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:46.440 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:36:46.4372666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:06:56.447 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:36:56.4447761+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:06.459 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:37:06.4554776+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:16.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:37:16.4776623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:26.495 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:37:26.4928226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:36.510 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:37:36.5078929+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:46.519 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:37:46.5174700+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:07:56.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:37:56.5213394+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:06.538 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:06.5367151+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:16.547 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:16.5449725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:26.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:26.5573682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:36.569 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:36.5670812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:46.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:46.5749726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:08:56.583 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:38:56.5811558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:06.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:39:06.5914800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:16.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:39:16.5996360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:26.620 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:39:26.6183976+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:36.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:39:36.6232205+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:46.635 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:39:46.6338434+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:09:56.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:39:56.6449878+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:06.705 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:06.6455265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:16.710 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:16.7087418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:26.722 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:26.7205348+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:36.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:36.7217183+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:46.728 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:46.7263231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:10:56.738 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:40:56.7360224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:06.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:41:06.7426338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:16.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:41:16.7547525+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:26.766 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:41:26.7646409+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:36.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:41:36.7711558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:46.783 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:41:46.7800785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:11:56.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:41:56.7996598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:06.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:06.8133257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:16.824 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:16.8225509+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:26.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:26.8333258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:36.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:36.8413676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:46.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:46.8501128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:12:56.861 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:42:56.8595723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:06.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:43:06.8683030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:16.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:43:16.8821592+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:26.900 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:43:26.8976201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:36.910 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:43:36.9085872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:46.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:43:46.9191863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:13:56.931 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T09:43:56.9289984+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:06.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:06.9442868+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:16.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:16.9590720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:26.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:26.9643818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:36.970 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:36.9687588+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:46.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:46.9750689+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:14:56.982 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T09:44:56.9803679+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:45:13.419 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 15:45:13.473 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 15:45:13.491 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 15:45:14.370 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 15:45:14.929 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 15:45:14.950 +05:30 [INF] ClickLogWorker started
2025-09-30 15:45:15.141 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 15:45:15.172 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__cutoff_0='2025-09-23T10:15:13.6234774Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 15:45:15.206 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 15:45:15.207 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 15:45:15.208 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 15:45:15.209 +05:30 [INF] Hosting environment: Development
2025-09-30 15:45:15.210 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 15:45:16.001 +05:30 [INF] ClickLogWorker stopped
2025-09-30 15:45:20.034 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-30T10:15:19.9662479+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:45:21.169 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 15:45:21.370 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 214.1329ms
2025-09-30 15:45:21.408 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 15:45:21.417 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.9074ms
2025-09-30 15:45:21.475 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 15:45:21.514 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.4205ms
2025-09-30 15:45:21.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 15:45:21.918 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 239.2009ms
2025-09-30 15:45:24.993 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 15:45:25.031 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:45:25.055 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:45:25.058 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 15:45:25.059 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 15:45:25.067 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:45:25.071 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:45:25.073 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 15:45:25.073 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 15:45:25.075 +05:30 [INF] TemplateSyncWorker: sweep finished in 107 ms; processed=2; next run ~"2025-09-30T16:15:24.9678216Z"
2025-09-30 15:45:30.045 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:15:30.0422207+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:45:40.057 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:15:40.0543345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:45:50.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:15:50.0619002+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:00.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:00.0735304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:10.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:10.0902134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:20.100 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:20.0977553+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:30.120 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:30.1182527+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:40.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:40.1302867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:46:50.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:16:50.1495227+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:00.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:17:00.1628703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:10.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:17:10.1815836+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:20.192 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:17:20.1896985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:30.197 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:17:30.1953723+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:40.202 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:17:40.2003105+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:47:50.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:17:50.2177780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:00.239 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:18:00.2374834+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:10.249 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:18:10.2473663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:20.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:18:20.2623864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:30.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:18:30.2724040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:40.289 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:18:40.2870816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:43.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 15:48:43.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 15:48:43.346 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 15:48:43.460 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.460 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.466 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 132.7609ms
2025-09-30 15:48:43.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 133.5139ms
2025-09-30 15:48:43.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 15:48:43.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 15:48:43.498 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.498 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.689 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.692 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 15:48:43.710 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 15:48:43.711 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:48:43.729 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:48:43.754 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:48:43.768 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:43.809 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 88.5614ms
2025-09-30 15:48:43.812 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 336.4726ms
2025-09-30 15:48:43.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 15:48:43.836 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 122.4122ms
2025-09-30 15:48:43.839 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 15:48:43.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 359.373ms
2025-09-30 15:48:43.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:48:43.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:48:43.867 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.871 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.872 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 9.8569ms
2025-09-30 15:48:43.874 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 10.7339ms
2025-09-30 15:48:43.884 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:48:43.888 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.893 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.895 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:48:43.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:48:43.907 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:43.909 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 11.3647ms
2025-09-30 15:48:43.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:48:43.911 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.915 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:43.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 32.3763ms
2025-09-30 15:48:43.918 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.923 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:48:43.930 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:48:43.935 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:43.937 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 12.2566ms
2025-09-30 15:48:43.939 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:48:43.941 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 30.2475ms
2025-09-30 15:48:48.973 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-draft - null null
2025-09-30 15:48:48.979 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:48.981 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-draft - 204 null null 8.3186ms
2025-09-30 15:48:48.999 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-draft - null null
2025-09-30 15:48:49.005 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:49.007 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api)'
2025-09-30 15:48:49.016 +05:30 [INF] Route matched with {action = "GetAllDraftFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDraftFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:48:49.060 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."CreatedAt", c."IsPublished"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND NOT (c."IsPublished") AND c."IsActive"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:48:49.069 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:49.074 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api) in 54.5891ms
2025-09-30 15:48:49.077 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api)'
2025-09-30 15:48:49.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-draft - 200 null application/json; charset=utf-8 80.8215ms
2025-09-30 15:48:50.300 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:18:50.2971070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:48:50.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:48:50.364 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:50.366 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - 204 null null 7.5796ms
2025-09-30 15:48:50.415 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:48:50.424 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:50.428 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:48:50.435 +05:30 [INF] Route matched with {action = "GetPublishedFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublishedFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:48:50.455 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."IsPublished", c."CreatedAt"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsPublished"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:48:50.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:50.468 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api) in 27.1836ms
2025-09-30 15:48:50.471 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:48:50.474 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - 200 null application/json; charset=utf-8 58.5538ms
2025-09-30 15:48:54.077 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/by-id/04ebd1f2-f239-4cc5-905a-54d9a6040d34 - null null
2025-09-30 15:48:54.086 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:54.090 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/by-id/04ebd1f2-f239-4cc5-905a-54d9a6040d34 - 204 null null 13.2546ms
2025-09-30 15:48:54.095 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/by-id/04ebd1f2-f239-4cc5-905a-54d9a6040d34 - null null
2025-09-30 15:48:54.101 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:54.104 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api)'
2025-09-30 15:48:54.111 +05:30 [INF] Route matched with {action = "GetById", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:48:54.276 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-30 15:48:54.302 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__flowId_0='04ebd1f2-f239-4cc5-905a-54d9a6040d34', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-30 15:48:54.467 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:48:54.475 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:54.481 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:55.592 +05:30 [INF] Received HTTP response headers after 1105.4382ms - 401
2025-09-30 15:48:55.596 +05:30 [INF] End processing HTTP request after 1121.9701ms - 401
2025-09-30 15:48:55.601 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:18:57 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AJKa_O2-8o6OAiMRhpXbwd4"}}
2025-09-30 15:48:55.608 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:48:55.612 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:55.614 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:55.992 +05:30 [INF] Received HTTP response headers after 376.0838ms - 401
2025-09-30 15:48:55.995 +05:30 [INF] End processing HTTP request after 382.383ms - 401
2025-09-30 15:48:55.997 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:18:58 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"Arjh6DugT9S6NpHGJV7p2xl"}}
2025-09-30 15:48:56.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:48:56.007 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:56.009 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:56.639 +05:30 [INF] Received HTTP response headers after 627.2719ms - 401
2025-09-30 15:48:56.641 +05:30 [INF] End processing HTTP request after 633.3294ms - 401
2025-09-30 15:48:56.642 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:18:58 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AqXAWRSV3D9JBX9M_M2YcFD"}}
2025-09-30 15:48:56.647 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:48:56.651 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:56.654 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:56.958 +05:30 [INF] Received HTTP response headers after 302.5811ms - 401
2025-09-30 15:48:56.961 +05:30 [INF] End processing HTTP request after 309.7334ms - 401
2025-09-30 15:48:56.963 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:18:59 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"Avq0hyDLqA26kaoK6rbHx_A"}}
2025-09-30 15:48:56.969 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:48:56.972 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:56.974 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:48:57.304 +05:30 [INF] Received HTTP response headers after 327.7388ms - 401
2025-09-30 15:48:57.307 +05:30 [INF] End processing HTTP request after 334.2936ms - 401
2025-09-30 15:48:57.308 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:18:59 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ACi3Ch78_NWY9sQsH8EHFUY"}}
2025-09-30 15:48:57.324 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CTAFlowBuilder.DTOs.SaveVisualFlowDto'.
2025-09-30 15:48:57.356 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api) in 3240.0841ms
2025-09-30 15:48:57.358 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api)'
2025-09-30 15:48:57.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/by-id/04ebd1f2-f239-4cc5-905a-54d9a6040d34 - 200 null application/json; charset=utf-8 3264.2902ms
2025-09-30 15:48:59.831 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:48:59.836 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:59.838 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - 204 null null 6.4569ms
2025-09-30 15:48:59.858 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:48:59.862 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:48:59.865 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:48:59.867 +05:30 [INF] Route matched with {action = "GetPublishedFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublishedFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:48:59.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."IsPublished", c."CreatedAt"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsPublished"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:48:59.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:48:59.883 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api) in 12.5409ms
2025-09-30 15:48:59.886 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:48:59.888 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - 200 null application/json; charset=utf-8 30.6803ms
2025-09-30 15:49:00.315 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:00.3114822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:49:01.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/by-id/b4fce1df-c03b-4801-92d1-21756d6877f4 - null null
2025-09-30 15:49:01.798 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:01.799 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/by-id/b4fce1df-c03b-4801-92d1-21756d6877f4 - 204 null null 5.5148ms
2025-09-30 15:49:01.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/by-id/b4fce1df-c03b-4801-92d1-21756d6877f4 - null null
2025-09-30 15:49:01.813 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:01.819 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api)'
2025-09-30 15:49:01.849 +05:30 [INF] Route matched with {action = "GetById", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:49:01.864 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__flowId_0='b4fce1df-c03b-4801-92d1-21756d6877f4', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."BusinessId", t."CreatedAt", t."CreatedBy", t."FlowName", t."IsActive", t."IsPublished", t."UpdatedAt", t0."Id", t0."CTAFlowConfigId", t0."PositionX", t0."PositionY", t0."ProfileNameSlot", t0."RequiredSource", t0."RequiredTag", t0."StepOrder", t0."TemplateToSend", t0."TemplateType", t0."TriggerButtonText", t0."TriggerButtonType", t0."UseProfileName", t0."Id0", t0."ButtonIndex", t0."ButtonSubType", t0."ButtonText", t0."ButtonType", t0."ButtonValue", t0."CTAFlowStepId", t0."NextStepId"
FROM (
    SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
    FROM "CTAFlowConfigs" AS c
    WHERE c."Id" = @__flowId_0 AND c."BusinessId" = @__businessId_1 AND c."IsActive"
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."CTAFlowConfigId", c0."PositionX", c0."PositionY", c0."ProfileNameSlot", c0."RequiredSource", c0."RequiredTag", c0."StepOrder", c0."TemplateToSend", c0."TemplateType", c0."TriggerButtonText", c0."TriggerButtonType", c0."UseProfileName", f."Id" AS "Id0", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
    FROM "CTAFlowSteps" AS c0
    LEFT JOIN "FlowButtonLinks" AS f ON c0."Id" = f."CTAFlowStepId"
) AS t0 ON t."Id" = t0."CTAFlowConfigId"
ORDER BY t."Id", t0."Id"
2025-09-30 15:49:01.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:49:01.876 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:49:01.879 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:49:02.222 +05:30 [INF] Received HTTP response headers after 339.719ms - 401
2025-09-30 15:49:02.224 +05:30 [INF] End processing HTTP request after 347.5596ms - 401
2025-09-30 15:49:02.226 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:19:04 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AoS8tBJb8rExxb1Sou_Y65g"}}
2025-09-30 15:49:02.232 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:49:02.238 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:49:02.240 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:49:02.733 +05:30 [INF] Received HTTP response headers after 491.165ms - 401
2025-09-30 15:49:02.735 +05:30 [INF] End processing HTTP request after 497.5601ms - 401
2025-09-30 15:49:02.737 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 03:00:00 PDT. The current time is Tuesday, 30-Sep-25 03:19:04 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"A9l726nHNRhaZ0u4CTbM2YE"}}
2025-09-30 15:49:02.740 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.CTAFlowBuilder.DTOs.SaveVisualFlowDto'.
2025-09-30 15:49:02.743 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api) in 885.4164ms
2025-09-30 15:49:02.745 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetById (xbytechat.api)'
2025-09-30 15:49:02.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/by-id/b4fce1df-c03b-4801-92d1-21756d6877f4 - 200 null application/json; charset=utf-8 941.7632ms
2025-09-30 15:49:04.865 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:49:04.870 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:04.873 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:49:04.875 +05:30 [INF] Route matched with {action = "GetPublishedFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublishedFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:49:04.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-draft - null null
2025-09-30 15:49:04.887 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."IsPublished", c."CreatedAt"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsPublished"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:49:04.891 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:04.894 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:49:04.897 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api) in 14.4007ms
2025-09-30 15:49:04.899 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:49:04.895 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-draft - 204 null null 16.6344ms
2025-09-30 15:49:04.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - 200 null application/json; charset=utf-8 36.9209ms
2025-09-30 15:49:04.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-draft - null null
2025-09-30 15:49:04.948 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:04.950 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api)'
2025-09-30 15:49:04.952 +05:30 [INF] Route matched with {action = "GetAllDraftFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllDraftFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:49:04.960 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."CreatedAt", c."IsPublished"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND NOT (c."IsPublished") AND c."IsActive"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:49:04.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:49:04.970 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api) in 16.1067ms
2025-09-30 15:49:04.972 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetAllDraftFlows (xbytechat.api)'
2025-09-30 15:49:04.974 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-draft - 200 null application/json; charset=utf-8 30.0805ms
2025-09-30 15:49:10.338 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:10.3362134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:49:20.350 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:20.3473442+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:49:22.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 15:49:22.922 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:22.923 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 5.6738ms
2025-09-30 15:49:22.930 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 15:49:22.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 15:49:22.934 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:22.939 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:22.940 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 10.4051ms
2025-09-30 15:49:22.944 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 15:49:22.946 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 15:49:22.948 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 15:49:22.952 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:22.956 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:22.959 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:49:22.960 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:49:22.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 15:49:22.970 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:49:22.972 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 17.246ms
2025-09-30 15:49:22.976 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:49:22.979 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 15:49:22.981 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 14.6631ms
2025-09-30 15:49:22.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 49.5122ms
2025-09-30 15:49:22.986 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:22.992 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:49:22.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 47.2965ms
2025-09-30 15:49:22.998 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:23.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 13.1887ms
2025-09-30 15:49:23.011 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:49:23.016 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:23.019 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:23.021 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:49:23.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:49:23.034 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:49:23.037 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 12.9768ms
2025-09-30 15:49:23.040 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:23.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 15:49:23.043 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 32.14ms
2025-09-30 15:49:23.050 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:23.057 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:23.058 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 15:49:23.066 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 15:49:23.073 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:49:23.076 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 13.7336ms
2025-09-30 15:49:23.079 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 15:49:23.081 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 38.5191ms
2025-09-30 15:49:27.952 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-30 15:49:27.956 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:27.958 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 6.726ms
2025-09-30 15:49:27.966 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 568
2025-09-30 15:49:27.970 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:49:27.975 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 15:49:27.982 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 15:49:28.024 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-30 15:49:28.141 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPnoNdgRZAbiB1GUEbLoxn546MW34utKRDSlygpEnG3xeuZBv2uRZCpZC4WpZAl2vsZA7BAqhuDZCF8xfm319bSas1E5Py2vaP0rua7ehWD2c1sNK38ALEw40C7TcZA1VZCnfCPPE1fZB6W9yEXIbeo8mHqlpJ27Y0SfAlL7ZC9ltvub5Aksqi10iIGRZBbTonJMAOdJHb0v3aCz21wYIhw8QzDi3uQbE1TJmcc93ObKgBsC6ZB12SRDyadQZDZD' (Nullable = false), @p1='2025-09-30T10:19:28.0315040Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-30 15:49:28.157 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:49:28.164 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 178.6328ms
2025-09-30 15:49:28.166 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 15:49:28.168 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 202.5009ms
2025-09-30 15:49:30.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:30.3526938+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:49:40.360 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:40.3581249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:49:50.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:19:50.3726211+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:00.389 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:20:00.3856903+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:10.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:20:10.3948044+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:13.842 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 336
2025-09-30 15:50:13.847 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:50:13.852 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:50:13.870 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:50:13.900 +05:30 [INF] [CustomAPI:"336fb70b-d9a5-4223-a833-bd9ead734199"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 15:50:13.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:50:13.937 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:50:13.941 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:50:13.943 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:50:16.038 +05:30 [INF] Received HTTP response headers after 2092.8311ms - 200
2025-09-30 15:50:16.041 +05:30 [INF] End processing HTTP request after 2099.7947ms - 200
2025-09-30 15:50:16.613 +05:30 [INF] [CustomAPI:"336fb70b-d9a5-4223-a833-bd9ead734199"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 15:50:16.742 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 15:50:16.754 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 15:50:16.771 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:50:16.773 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:50:17.691 +05:30 [INF] Received HTTP response headers after 916.3028ms - 400
2025-09-30 15:50:17.694 +05:30 [INF] End processing HTTP request after 922.9458ms - 400
2025-09-30 15:50:17.696 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"ACkS5Al_pnKhUT-kZOUrBH5"}}
2025-09-30 15:50:17.877 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='9b191a00-7d01-44d3-a332-ab8716926ee3', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T10:20:17.7000071Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21=NULL, @p22='{"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"ACkS5Al_pnKhUT-kZOUrBH5"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 15:50:17.915 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__messageLogId_0='9b191a00-7d01-44d3-a332-ab8716926ee3', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 15:50:17.974 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='5a6997a7-1502-4c8e-83b4-b4af78b9ad52', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T10:20:17.9194223+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='9b191a00-7d01-44d3-a332-ab8716926ee3' (Nullable = true), @p8='2025-09-30T10:20:17.9199586+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"ACkS5Al_pnKhUT-kZOUrBH5"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:50:17.979 +05:30 [INF] [CustomAPI:"336fb70b-d9a5-4223-a833-bd9ead734199"] Done. success=false msgId=null flow=null step=null
2025-09-30 15:50:17.984 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 15:50:17.990 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 4116.4967ms
2025-09-30 15:50:17.993 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:50:17.994 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 4152.5981ms
2025-09-30 15:50:20.411 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:20:20.4082435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:30.426 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T10:20:30.4229792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:40.450 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:20:40.4477102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:50:50.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:20:50.4593944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:00.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:21:00.4779927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:10.487 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:21:10.4856263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:16.940 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 336
2025-09-30 15:51:16.945 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:51:16.948 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:51:16.950 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:51:16.955 +05:30 [INF] [CustomAPI:"5d89c1e9-c175-453a-afb9-f8c31be66d6e"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 15:51:16.961 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:51:16.969 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:51:17.004 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:51:17.006 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:51:18.949 +05:30 [INF] Received HTTP response headers after 1941.1914ms - 200
2025-09-30 15:51:18.951 +05:30 [INF] End processing HTTP request after 1946.9667ms - 200
2025-09-30 15:51:19.140 +05:30 [INF] [CustomAPI:"5d89c1e9-c175-453a-afb9-f8c31be66d6e"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 15:51:19.145 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 15:51:19.151 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 15:51:19.155 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:51:19.157 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:51:19.949 +05:30 [INF] Received HTTP response headers after 790.2461ms - 400
2025-09-30 15:51:19.952 +05:30 [INF] End processing HTTP request after 796.1468ms - 400
2025-09-30 15:51:19.953 +05:30 [WRN] MetaCloud send failed (HTTP 400): {"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"Aesx13YbspE0-qN9YCzqXk1"}}
2025-09-30 15:51:19.977 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='b9e2d11f-3eef-45fd-a1d7-cdbea2e8e86b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3=NULL (DbType = Guid), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T10:21:19.9555416Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21=NULL, @p22='{"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"Aesx13YbspE0-qN9YCzqXk1"}}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 15:51:19.984 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='b9e2d11f-3eef-45fd-a1d7-cdbea2e8e86b', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 15:51:19.990 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='1cde876b-6880-4221-81f1-a187df6c112c', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T10:21:19.9872206+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='b9e2d11f-3eef-45fd-a1d7-cdbea2e8e86b' (Nullable = true), @p8='2025-09-30T10:21:19.9872222+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#132000) Number of parameters does not match the expected number of params","type":"OAuthException","code":132000,"error_data":{"messaging_product":"whatsapp","details":"body: number of localizable_params (2) does not match the expected number of params (1)"},"fbtrace_id":"Aesx13YbspE0-qN9YCzqXk1"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:51:19.994 +05:30 [INF] [CustomAPI:"5d89c1e9-c175-453a-afb9-f8c31be66d6e"] Done. success=false msgId=null flow=null step=null
2025-09-30 15:51:19.996 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 15:51:19.998 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 3045.4364ms
2025-09-30 15:51:20.000 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:51:20.004 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 3063.7762ms
2025-09-30 15:51:20.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:21:20.4994030+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:30.516 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:21:30.5131184+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:40.537 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:21:40.5344272+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:47.035 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:51:47.041 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:51:47.042 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 204 null null 6.9866ms
2025-09-30 15:51:47.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:51:47.053 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:51:47.054 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:51:47.059 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 15:51:47.067 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 15:51:47.076 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:51:47.082 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:51:47.083 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:51:48.214 +05:30 [INF] Received HTTP response headers after 1129.6329ms - 200
2025-09-30 15:51:48.216 +05:30 [INF] End processing HTTP request after 1134.7115ms - 200
2025-09-30 15:51:48.318 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"data":[{"name":"three_var_template","parameter_format":"NAMED","components":[{"type":"HEADER","format":"TEXT","text":"LeadsCone"},{"type":"BODY","text":"Hello {{}},\n\nI would like to infrom you that you have a appointment for {{}}\n\nSo please {{}} reach at the office before {{}}"},{"type":"FOOTER","text":"Sent From Lendscone"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Agree"},{"type":"QUICK_REPLY","text":"Not come"},{"type":"QUICK_REPLY","text":"Need Recheduling"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"4132147790393152"},{"name":"pdf_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"DOCUMENT","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534415257_508230149051927_6330429317144744326_n.pdf?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=tmB0TaYYwK0Q7kNvwEKMZrW&_nc_oc=AdlRgTUHxZtYVDY6OIaO2Isgw7OCi0hovTpVko-e5DgJTaLDzZhwqZbI0nR2mEb97CpUCqOOffvL4LISKtDZ_ArM&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=ASoQH9Je0Sx6AymlupRUnA&oh=01_Q5Aa2gH_S4eukmYiZ9tv8iGnKd87vZ5dlE6XaHoAuOeQUKf-pw&oe=69032BF5"]}},{"type":"BODY","text":"Hello {{1}},\n\nPlease find your Invoice.","example":{"body_text":[["Usernmok"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Recieved"},{"type":"QUICK_REPLY","text":"No Received"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"508230145718594"},{"name":"welcome_video","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534417141_1284099973020036_5812680847202991712_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=P78mNx-uGb8Q7kNvwG45Bkd&_nc_oc=AdmKn6AhkQQPknp7jqxZAeod-Rs8qDFA0IjImBnCmM9iC75yAmEaH6wU20d6Tx4CoVctDmEKyPl_IcfPw97wDUN_&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=ASoQH9Je0Sx6AymlupRUnA&oh=01_Q5Aa2gFmCz_20oWrjmJ8bSmRO1_lrAmQsPJ8Ir6TvpJwZCKjqg&oe=690321C3"]}},{"type":"BODY","text":"Hello {{1}} \ud83d\udc4b\nAapka order successfully deliver ho chuka hai. \ud83d\ude9a\u2728\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? \ud83d\udc8a\nNeeche diye gaye options me se select karke bataye \ud83d\udc47","example":{"body_text":[["Nicolus"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"},{"type":"QUICK_REPLY","text":"No"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1284099969686703"},{"name":"single_variable_body","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\nWe are sedning {{1}} items.","example":{"body_text":[["five"]]}},{"type":"FOOTER","text":"Sent by xplorebyte"}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1209106791238164"},{"name":"variable_csv_demo","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Dear  {{1}},\n\nWe are happy to announce that we are going to launch our new product on {{2}}.\n\nRegards,\nLeadsCone","example":{"body_text":[["Nicolaus","Monaday"]]}}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1463763351520294"},{"name":"demo","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Demo Template"},{"type":"BODY","text":"Demo Template Message."},{"type":"FOOTER","text":"sent by ExploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/visit"]},{"type":"URL","text":"Shop Now","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/shopnow"]},{"type":"PHONE_NUMBER","text":"Call Us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"757818770430461"},{"name":"welcome_menu_minds","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello! Thank you for contacting MindsMiratus.\n\nIf you're a new visitor, we're happy to help you get started. If you're an existing customer, we're here to support you. Please choose from the options below."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Explore Our Services"},{"type":"QUICK_REPLY","text":"View Our Products"},{"type":"QUICK_REPLY","text":"Customer Support"},{"type":"QUICK_REPLY","text":"Contact Sales"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1115530356706526"},{"name":"human_takeover_confirmation_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Thank you! We've received your request. One of our experts will get in touch with you shortly.\n\nIs there anything else I can help you with in the meantime?"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1304432401406654"},{"name":"support_report_issue_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We're sorry to hear you're experiencing an issue.\n\nTo help us resolve it quickly, please tap the button below to connect with our technical support team. Please be ready to provide a brief description of the problem."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Connect to Technical Team"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"755167220845328"},{"name":"support_project_status_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"To check the status of your ongoing project, please provide your registered email address or project ID, and one of our project managers will get back to you with a detailed update shortly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Project Manager"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1599668577490835"},{"name":"support_gst_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"You've reached support for our GST Software. How can we help?\n\n\ud83d\udd27 Technical Help: For installation issues, errors, or bugs.\n\ud83d\udca1 Feature Questions: To understand how to use a specific feature.\n\ud83d\udcda View FAQs: Get answers to common questions instantly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Support Agent"},{"type":"QUICK_REPLY","text":"View FAQs"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1305308197880244"},{"name":"support_main_menu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Welcome to the MindsMiratus Support Center. We're here to help you with any questions or issues you may have.\n\nPlease select an option so we can assist you faster."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"GST Software Support"},{"type":"QUICK_REPLY","text":"Check Project Status"},{"type":"QUICK_REPLY","text":"Report Technical Issues"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en","status":"APPROVED","category":"MARKETING","id":"679342281096115"},{"name":"marketing_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We help you reach your target audience and grow your brand effectively. Explore our marketing services:\n\n\ud83d\udcc8 Digital Marketing: SEO, Social Media Marketing, and targeted PPC campaigns.\n\ud83d\udcde Tele-Marketing: IVR systems, Bulk SMS, Voice Calls, and official WhatsApp API solutions."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Get a Marketing Plan"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1683803515627636"},{"name":"dev_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our expert developers build robust and scalable solutions tailored to your business needs. Which area of development interests you?\n\n\ud83d\udcbb Web & Software Dev: Custom applications and software solutions.\n\ud83d\udcf1 Mobile App Dev: Engaging and high-performance apps for iOS and Android.\n\ud83d\uded2 E-commerce Dev: Powerful online stores that drive sales and growth."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Discuss a Project"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3118090155157247"},{"name":"design_services_submenu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our creative team delivers stunning and effective designs to make your brand stand out. Which design service would you like to know more about?\n\n\ud83c\udfa8 Website Designing: We build beautiful, responsive, and user-friendly websites.\n\ud83d\udd8c\ufe0f Graphic Designing: We create compelling visuals, logos, and branding materials."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a Design Quote"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3291988187631744"},{"name":"contact_sales_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We'd love to discuss how we can help your business grow. You can reach our sales team via email at info\u0040mindsmiratus.com or call us at +91-321-123-4321.\n\nWould you like one of our experts to call you back?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes, call me back"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"954501560165102"},{"name":"products_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We are proud to offer our powerful and easy-to-use GST Software, designed to simplify your tax compliance, invoicing, and financial management.\n\nWhat would you like to do?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a GST Demo"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2567632853585898"},{"name":"services_menu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We offer a wide range of services to power your business's growth. Please select a category you are interested in:"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Design Services"},{"type":"QUICK_REPLY","text":"Development Services"},{"type":"QUICK_REPLY","text":"Digital & Tele-Marketing"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"738253949023987"},{"name":"about_us_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"MindsMiratus is a leading IT solutions company dedicated to helping businesses grow through innovative and effective digital services. From design to development and marketing, we provide comprehensive solutions to elevate your brand.\n\nWhat would you like to do next?"},{"type":"FOOTER","text":"sent by Mindsmirtus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"},{"type":"QUICK_REPLY","text":"Talk to an Expert"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1971204310331370"},{"name":"track_url_after_flow_integ","message_send_ttl_seconds":86400,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BODY","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/vosiatstore"]},{"type":"URL","text":"Visit Demo","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/demo"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1084981273615848"},{"name":"template_3","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 3"},{"type":"BODY","text":"This is themplate : 3"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1760623375330098"},{"name":"template_2","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 2"},{"type":"BODY","text":"This is teh template 2"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1222093123248950"},{"name":"template_1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 1"},{"type":"BODY","text":"This is the Template : 1"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 2"},{"type":"QUICK_REPLY","text":"Show Me Template 3"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2381212765606675"},{"name":"call_log","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is the checking for call log event."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Explore","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/seeme"]},{"type":"URL","text":"Call Us","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/callme"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1286058192539680"},{"name":"build_urltracking","parameter_format":"NAMED","components":[{"type":"BODY","text":"Hello \n\nThis is the test message to check wheather redirecting url is working or not."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop Now","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/softwaredev"]},{"type":"URL","text":"Explore More","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/moreopt"]},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"788214393726841"},{"name":"url_tracking","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is used to check wheather url redirection is woking or not."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/tutrials"]},{"type":"URL","text":"View Demo","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/trackingurl"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1322949819198164"},{"name":"offer_aiboat","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nPlease check our newaly launched Ai Boat."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"watch Video","url":"https:\/\/www.youtube.com\/{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"663456696777015"},{"name":"bot_launch","parameter_format":"NAMED","components":[{"type":"BODY","text":"\u26a1\ufe0f Feature Annoucement ! \u26a1\ufe0f\nHi,\nWe rre happy to tell you that our most awaited feature Bot Integartion is live now."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/\u00257B\u00257BI\u00257D\u00257D{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"View Tutorials","url":"https:\/\/www.youtube.com\/\u00257B\u00257Bi\u00257D\u00257D{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3255438291278546"},{"name":"shoe_launch_offer","parameter_format":"NAMED","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534420374_1100798475349987_2054812548274537975_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=9lFBNPUqdVAQ7kNvwEOwxqS&_nc_oc=AdlKsG6WfzXoRLxFWL86pqNhwa2HZl0KQ5aSsB7V_Sl62nR0PmCIK5reU8--ZDmPIW0pyoSC8E_daITGui2f7UMS&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=ASoQH9Je0Sx6AymlupRUnA&oh=01_Q5Aa2gGijtotDavWWiFy4Wmp0FNrPC3yJ5Q9wfCvg5MpdTm7xw&oe=690319CF"]}},{"type":"BODY","text":"Hello {{}}! The moment has arrived! \ud83c\udf89\n\nOur new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!\n\nFor the next 48 hours, get an **exclusive 15\u0025 discount** on your purchase. Don't just follow the trend\u2014set it.\n\nUse code: **LAUNCH15**\n\nThis offer won't last long. Step into the future today!"},{"type":"FOOTER","text":"The XploreByte Team"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop now","url":"https:\/\/xplorebytesolutions.com\/"},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1100798472016654"},{"name":"account_creation_confirmation_3","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Finalize account set-up"},{"type":"BODY","text":"Hi {{1}},\n\nYour new account has been created successfully. \n\nPlease verify {{2}} to complete your profile.","example":{"body_text":[["John","your email address"]]}},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Verify account","url":"https:\/\/www.qwexample.com\/"}]}],"language":"en_US","status":"APPROVED","category":"UTILITY","library_template_name":"account_creation_confirmation_3","id":"817241660991962"},{"name":"hello_world","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Hello World"},{"type":"BODY","text":"Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta. Thank you for taking the time to test with us."},{"type":"FOOTER","text":"WhatsApp Business Platform sample message"}],"language":"en_US","status":"APPROVED","category":"UTILITY","id":"617143187619824"}],"paging":{"cursors":{"before":"QVFIU0J2MmdnTXRZAOTFhVWJWcTEySi1RODlUb2dnVXhSSG40d1dkZAzZAGempwaWs1Y3dpLWNsWGJTOHhFcjRFNmxyOHYzTWJuYi1SS21XNXJoamRqZAXpyQXFn","after":"QVFIU0RFT19Cel9oMjJyQkU4eXRRTTBYUHJGN01la0VELWlBbHZAoRzNBT1ZAvMEdLaUVremtjNVNKbk1BUVJ1WEN2TGtXSmNMR09UNFRicl9nVWhGbmtJd0x3"}}}
2025-09-30 15:51:48.365 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType175`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:51:48.377 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 1314.9764ms
2025-09-30 15:51:48.379 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:51:48.381 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 200 null application/json; charset=utf-8 1331.8809ms
2025-09-30 15:51:50.553 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:21:50.5518454+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:51:53.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:51:53.047 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:51:53.049 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 204 null null 6.2291ms
2025-09-30 15:51:53.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:51:53.069 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:51:53.071 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:51:53.073 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 15:51:53.077 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 15:51:53.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:51:53.086 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:51:53.088 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:51:54.333 +05:30 [INF] Received HTTP response headers after 1242.4263ms - 200
2025-09-30 15:51:54.335 +05:30 [INF] End processing HTTP request after 1248.9301ms - 200
2025-09-30 15:51:54.462 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"data":[{"name":"three_var_template","parameter_format":"NAMED","components":[{"type":"HEADER","format":"TEXT","text":"LeadsCone"},{"type":"BODY","text":"Hello {{}},\n\nI would like to infrom you that you have a appointment for {{}}\n\nSo please {{}} reach at the office before {{}}"},{"type":"FOOTER","text":"Sent From Lendscone"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Agree"},{"type":"QUICK_REPLY","text":"Not come"},{"type":"QUICK_REPLY","text":"Need Recheduling"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"4132147790393152"},{"name":"pdf_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"DOCUMENT","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534415257_508230149051927_6330429317144744326_n.pdf?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=tmB0TaYYwK0Q7kNvwEKMZrW&_nc_oc=AdlRgTUHxZtYVDY6OIaO2Isgw7OCi0hovTpVko-e5DgJTaLDzZhwqZbI0nR2mEb97CpUCqOOffvL4LISKtDZ_ArM&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=m5AVlY7bQBKlmtsdgqZN7g&oh=01_Q5Aa2gH-nu04DQh3gfet8FgkqQcV14cBVftQBFB56FTn56fTZQ&oe=69032BF5"]}},{"type":"BODY","text":"Hello {{1}},\n\nPlease find your Invoice.","example":{"body_text":[["Usernmok"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Recieved"},{"type":"QUICK_REPLY","text":"No Received"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"508230145718594"},{"name":"welcome_video","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534417141_1284099973020036_5812680847202991712_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=P78mNx-uGb8Q7kNvwG45Bkd&_nc_oc=AdmKn6AhkQQPknp7jqxZAeod-Rs8qDFA0IjImBnCmM9iC75yAmEaH6wU20d6Tx4CoVctDmEKyPl_IcfPw97wDUN_&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=m5AVlY7bQBKlmtsdgqZN7g&oh=01_Q5Aa2gEmFI2dfbNFSHcjtI0jtbL0v2QBPQrY4yCkiAuZ0eP1Fg&oe=690321C3"]}},{"type":"BODY","text":"Hello {{1}} \ud83d\udc4b\nAapka order successfully deliver ho chuka hai. \ud83d\ude9a\u2728\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? \ud83d\udc8a\nNeeche diye gaye options me se select karke bataye \ud83d\udc47","example":{"body_text":[["Nicolus"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"},{"type":"QUICK_REPLY","text":"No"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1284099969686703"},{"name":"single_variable_body","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\nWe are sedning {{1}} items.","example":{"body_text":[["five"]]}},{"type":"FOOTER","text":"Sent by xplorebyte"}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1209106791238164"},{"name":"variable_csv_demo","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Dear  {{1}},\n\nWe are happy to announce that we are going to launch our new product on {{2}}.\n\nRegards,\nLeadsCone","example":{"body_text":[["Nicolaus","Monaday"]]}}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1463763351520294"},{"name":"demo","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Demo Template"},{"type":"BODY","text":"Demo Template Message."},{"type":"FOOTER","text":"sent by ExploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/visit"]},{"type":"URL","text":"Shop Now","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/shopnow"]},{"type":"PHONE_NUMBER","text":"Call Us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"757818770430461"},{"name":"welcome_menu_minds","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello! Thank you for contacting MindsMiratus.\n\nIf you're a new visitor, we're happy to help you get started. If you're an existing customer, we're here to support you. Please choose from the options below."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Explore Our Services"},{"type":"QUICK_REPLY","text":"View Our Products"},{"type":"QUICK_REPLY","text":"Customer Support"},{"type":"QUICK_REPLY","text":"Contact Sales"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1115530356706526"},{"name":"human_takeover_confirmation_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Thank you! We've received your request. One of our experts will get in touch with you shortly.\n\nIs there anything else I can help you with in the meantime?"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1304432401406654"},{"name":"support_report_issue_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We're sorry to hear you're experiencing an issue.\n\nTo help us resolve it quickly, please tap the button below to connect with our technical support team. Please be ready to provide a brief description of the problem."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Connect to Technical Team"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"755167220845328"},{"name":"support_project_status_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"To check the status of your ongoing project, please provide your registered email address or project ID, and one of our project managers will get back to you with a detailed update shortly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Project Manager"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1599668577490835"},{"name":"support_gst_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"You've reached support for our GST Software. How can we help?\n\n\ud83d\udd27 Technical Help: For installation issues, errors, or bugs.\n\ud83d\udca1 Feature Questions: To understand how to use a specific feature.\n\ud83d\udcda View FAQs: Get answers to common questions instantly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Support Agent"},{"type":"QUICK_REPLY","text":"View FAQs"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1305308197880244"},{"name":"support_main_menu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Welcome to the MindsMiratus Support Center. We're here to help you with any questions or issues you may have.\n\nPlease select an option so we can assist you faster."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"GST Software Support"},{"type":"QUICK_REPLY","text":"Check Project Status"},{"type":"QUICK_REPLY","text":"Report Technical Issues"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en","status":"APPROVED","category":"MARKETING","id":"679342281096115"},{"name":"marketing_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We help you reach your target audience and grow your brand effectively. Explore our marketing services:\n\n\ud83d\udcc8 Digital Marketing: SEO, Social Media Marketing, and targeted PPC campaigns.\n\ud83d\udcde Tele-Marketing: IVR systems, Bulk SMS, Voice Calls, and official WhatsApp API solutions."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Get a Marketing Plan"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1683803515627636"},{"name":"dev_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our expert developers build robust and scalable solutions tailored to your business needs. Which area of development interests you?\n\n\ud83d\udcbb Web & Software Dev: Custom applications and software solutions.\n\ud83d\udcf1 Mobile App Dev: Engaging and high-performance apps for iOS and Android.\n\ud83d\uded2 E-commerce Dev: Powerful online stores that drive sales and growth."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Discuss a Project"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3118090155157247"},{"name":"design_services_submenu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our creative team delivers stunning and effective designs to make your brand stand out. Which design service would you like to know more about?\n\n\ud83c\udfa8 Website Designing: We build beautiful, responsive, and user-friendly websites.\n\ud83d\udd8c\ufe0f Graphic Designing: We create compelling visuals, logos, and branding materials."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a Design Quote"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3291988187631744"},{"name":"contact_sales_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We'd love to discuss how we can help your business grow. You can reach our sales team via email at info\u0040mindsmiratus.com or call us at +91-321-123-4321.\n\nWould you like one of our experts to call you back?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes, call me back"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"954501560165102"},{"name":"products_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We are proud to offer our powerful and easy-to-use GST Software, designed to simplify your tax compliance, invoicing, and financial management.\n\nWhat would you like to do?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a GST Demo"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2567632853585898"},{"name":"services_menu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We offer a wide range of services to power your business's growth. Please select a category you are interested in:"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Design Services"},{"type":"QUICK_REPLY","text":"Development Services"},{"type":"QUICK_REPLY","text":"Digital & Tele-Marketing"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"738253949023987"},{"name":"about_us_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"MindsMiratus is a leading IT solutions company dedicated to helping businesses grow through innovative and effective digital services. From design to development and marketing, we provide comprehensive solutions to elevate your brand.\n\nWhat would you like to do next?"},{"type":"FOOTER","text":"sent by Mindsmirtus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"},{"type":"QUICK_REPLY","text":"Talk to an Expert"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1971204310331370"},{"name":"track_url_after_flow_integ","message_send_ttl_seconds":86400,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BODY","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/vosiatstore"]},{"type":"URL","text":"Visit Demo","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/demo"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1084981273615848"},{"name":"template_3","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 3"},{"type":"BODY","text":"This is themplate : 3"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1760623375330098"},{"name":"template_2","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 2"},{"type":"BODY","text":"This is teh template 2"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1222093123248950"},{"name":"template_1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 1"},{"type":"BODY","text":"This is the Template : 1"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 2"},{"type":"QUICK_REPLY","text":"Show Me Template 3"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2381212765606675"},{"name":"call_log","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is the checking for call log event."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Explore","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/seeme"]},{"type":"URL","text":"Call Us","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/callme"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1286058192539680"},{"name":"build_urltracking","parameter_format":"NAMED","components":[{"type":"BODY","text":"Hello \n\nThis is the test message to check wheather redirecting url is working or not."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop Now","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/softwaredev"]},{"type":"URL","text":"Explore More","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/moreopt"]},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"788214393726841"},{"name":"url_tracking","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is used to check wheather url redirection is woking or not."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/tutrials"]},{"type":"URL","text":"View Demo","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/trackingurl"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1322949819198164"},{"name":"offer_aiboat","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nPlease check our newaly launched Ai Boat."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"watch Video","url":"https:\/\/www.youtube.com\/{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"663456696777015"},{"name":"bot_launch","parameter_format":"NAMED","components":[{"type":"BODY","text":"\u26a1\ufe0f Feature Annoucement ! \u26a1\ufe0f\nHi,\nWe rre happy to tell you that our most awaited feature Bot Integartion is live now."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/\u00257B\u00257BI\u00257D\u00257D{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"View Tutorials","url":"https:\/\/www.youtube.com\/\u00257B\u00257Bi\u00257D\u00257D{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3255438291278546"},{"name":"shoe_launch_offer","parameter_format":"NAMED","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534420374_1100798475349987_2054812548274537975_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=9lFBNPUqdVAQ7kNvwEOwxqS&_nc_oc=AdlKsG6WfzXoRLxFWL86pqNhwa2HZl0KQ5aSsB7V_Sl62nR0PmCIK5reU8--ZDmPIW0pyoSC8E_daITGui2f7UMS&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=m5AVlY7bQBKlmtsdgqZN7g&oh=01_Q5Aa2gG532-5kakhFckzQsSfFifpUWaF-ZcTxXDyYE_huADEAA&oe=690319CF"]}},{"type":"BODY","text":"Hello {{}}! The moment has arrived! \ud83c\udf89\n\nOur new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!\n\nFor the next 48 hours, get an **exclusive 15\u0025 discount** on your purchase. Don't just follow the trend\u2014set it.\n\nUse code: **LAUNCH15**\n\nThis offer won't last long. Step into the future today!"},{"type":"FOOTER","text":"The XploreByte Team"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop now","url":"https:\/\/xplorebytesolutions.com\/"},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1100798472016654"},{"name":"account_creation_confirmation_3","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Finalize account set-up"},{"type":"BODY","text":"Hi {{1}},\n\nYour new account has been created successfully. \n\nPlease verify {{2}} to complete your profile.","example":{"body_text":[["John","your email address"]]}},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Verify account","url":"https:\/\/www.qwexample.com\/"}]}],"language":"en_US","status":"APPROVED","category":"UTILITY","library_template_name":"account_creation_confirmation_3","id":"817241660991962"},{"name":"hello_world","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Hello World"},{"type":"BODY","text":"Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta. Thank you for taking the time to test with us."},{"type":"FOOTER","text":"WhatsApp Business Platform sample message"}],"language":"en_US","status":"APPROVED","category":"UTILITY","id":"617143187619824"}],"paging":{"cursors":{"before":"QVFIU0J2MmdnTXRZAOTFhVWJWcTEySi1RODlUb2dnVXhSSG40d1dkZAzZAGempwaWs1Y3dpLWNsWGJTOHhFcjRFNmxyOHYzTWJuYi1SS21XNXJoamRqZAXpyQXFn","after":"QVFIU0RFT19Cel9oMjJyQkU4eXRRTTBYUHJGN01la0VELWlBbHZAoRzNBT1ZAvMEdLaUVremtjNVNKbk1BUVJ1WEN2TGtXSmNMR09UNFRicl9nVWhGbmtJd0x3"}}}
2025-09-30 15:51:54.469 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType175`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:51:54.471 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 1394.74ms
2025-09-30 15:51:54.473 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:51:54.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 200 null application/json; charset=utf-8 1409.2275ms
2025-09-30 15:52:00.566 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:22:00.5639998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:52:08.339 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:52:08.345 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:08.347 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 204 null null 7.7515ms
2025-09-30 15:52:08.354 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - null null
2025-09-30 15:52:08.359 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:08.380 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:52:08.382 +05:30 [INF] Route matched with {action = "GetAllTemplates", controller = "WhatsAppTemplateFetcher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTemplatesAsync() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController (xbytechat.api).
2025-09-30 15:52:08.388 +05:30 [INF] 🔎 Fetching templates for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 15:52:08.392 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:52:08.398 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:52:08.399 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 15:52:09.534 +05:30 [INF] Received HTTP response headers after 1132.6908ms - 200
2025-09-30 15:52:09.535 +05:30 [INF] End processing HTTP request after 1137.5934ms - 200
2025-09-30 15:52:09.617 +05:30 [INF] 📦 Meta Template API (Biz "9841bcab-ca71-439f-8691-d85ada887b01") payload:
{"data":[{"name":"three_var_template","parameter_format":"NAMED","components":[{"type":"HEADER","format":"TEXT","text":"LeadsCone"},{"type":"BODY","text":"Hello {{}},\n\nI would like to infrom you that you have a appointment for {{}}\n\nSo please {{}} reach at the office before {{}}"},{"type":"FOOTER","text":"Sent From Lendscone"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Agree"},{"type":"QUICK_REPLY","text":"Not come"},{"type":"QUICK_REPLY","text":"Need Recheduling"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"4132147790393152"},{"name":"pdf_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"DOCUMENT","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534415257_508230149051927_6330429317144744326_n.pdf?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=tmB0TaYYwK0Q7kNvwEKMZrW&_nc_oc=AdlRgTUHxZtYVDY6OIaO2Isgw7OCi0hovTpVko-e5DgJTaLDzZhwqZbI0nR2mEb97CpUCqOOffvL4LISKtDZ_ArM&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=RDkVRR4wn7ENKcsnmDT3aA&oh=01_Q5Aa2gF1D6aAxIj9Lll3koMTNO663XK1XkpSMR6eP1pwmExdFA&oe=69032BF5"]}},{"type":"BODY","text":"Hello {{1}},\n\nPlease find your Invoice.","example":{"body_text":[["Usernmok"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Recieved"},{"type":"QUICK_REPLY","text":"No Received"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"508230145718594"},{"name":"welcome_video","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534417141_1284099973020036_5812680847202991712_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=P78mNx-uGb8Q7kNvwG45Bkd&_nc_oc=AdmKn6AhkQQPknp7jqxZAeod-Rs8qDFA0IjImBnCmM9iC75yAmEaH6wU20d6Tx4CoVctDmEKyPl_IcfPw97wDUN_&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=RDkVRR4wn7ENKcsnmDT3aA&oh=01_Q5Aa2gFHMweWc0hXck2QZPTOkdANLflN1jMbY7Qj_6tUOx0Qbg&oe=690321C3"]}},{"type":"BODY","text":"Hello {{1}} \ud83d\udc4b\nAapka order successfully deliver ho chuka hai. \ud83d\ude9a\u2728\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? \ud83d\udc8a\nNeeche diye gaye options me se select karke bataye \ud83d\udc47","example":{"body_text":[["Nicolus"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"},{"type":"QUICK_REPLY","text":"No"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1284099969686703"},{"name":"single_variable_body","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\nWe are sedning {{1}} items.","example":{"body_text":[["five"]]}},{"type":"FOOTER","text":"Sent by xplorebyte"}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1209106791238164"},{"name":"variable_csv_demo","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Dear  {{1}},\n\nWe are happy to announce that we are going to launch our new product on {{2}}.\n\nRegards,\nLeadsCone","example":{"body_text":[["Nicolaus","Monaday"]]}}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1463763351520294"},{"name":"demo","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Demo Template"},{"type":"BODY","text":"Demo Template Message."},{"type":"FOOTER","text":"sent by ExploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/visit"]},{"type":"URL","text":"Shop Now","url":"https:\/\/1c5e318901b7.ngrok-free.app\/r\/{{1}}","example":["https:\/\/1c5e318901b7.ngrok-free.app\/r\/shopnow"]},{"type":"PHONE_NUMBER","text":"Call Us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"757818770430461"},{"name":"welcome_menu_minds","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello! Thank you for contacting MindsMiratus.\n\nIf you're a new visitor, we're happy to help you get started. If you're an existing customer, we're here to support you. Please choose from the options below."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Explore Our Services"},{"type":"QUICK_REPLY","text":"View Our Products"},{"type":"QUICK_REPLY","text":"Customer Support"},{"type":"QUICK_REPLY","text":"Contact Sales"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1115530356706526"},{"name":"human_takeover_confirmation_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Thank you! We've received your request. One of our experts will get in touch with you shortly.\n\nIs there anything else I can help you with in the meantime?"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1304432401406654"},{"name":"support_report_issue_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We're sorry to hear you're experiencing an issue.\n\nTo help us resolve it quickly, please tap the button below to connect with our technical support team. Please be ready to provide a brief description of the problem."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Connect to Technical Team"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"755167220845328"},{"name":"support_project_status_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"To check the status of your ongoing project, please provide your registered email address or project ID, and one of our project managers will get back to you with a detailed update shortly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Project Manager"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1599668577490835"},{"name":"support_gst_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"You've reached support for our GST Software. How can we help?\n\n\ud83d\udd27 Technical Help: For installation issues, errors, or bugs.\n\ud83d\udca1 Feature Questions: To understand how to use a specific feature.\n\ud83d\udcda View FAQs: Get answers to common questions instantly."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Talk to a Support Agent"},{"type":"QUICK_REPLY","text":"View FAQs"},{"type":"QUICK_REPLY","text":"Back to Support Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1305308197880244"},{"name":"support_main_menu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Welcome to the MindsMiratus Support Center. We're here to help you with any questions or issues you may have.\n\nPlease select an option so we can assist you faster."},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"GST Software Support"},{"type":"QUICK_REPLY","text":"Check Project Status"},{"type":"QUICK_REPLY","text":"Report Technical Issues"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en","status":"APPROVED","category":"MARKETING","id":"679342281096115"},{"name":"marketing_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We help you reach your target audience and grow your brand effectively. Explore our marketing services:\n\n\ud83d\udcc8 Digital Marketing: SEO, Social Media Marketing, and targeted PPC campaigns.\n\ud83d\udcde Tele-Marketing: IVR systems, Bulk SMS, Voice Calls, and official WhatsApp API solutions."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Get a Marketing Plan"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1683803515627636"},{"name":"dev_services_submenu_v1","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our expert developers build robust and scalable solutions tailored to your business needs. Which area of development interests you?\n\n\ud83d\udcbb Web & Software Dev: Custom applications and software solutions.\n\ud83d\udcf1 Mobile App Dev: Engaging and high-performance apps for iOS and Android.\n\ud83d\uded2 E-commerce Dev: Powerful online stores that drive sales and growth."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Discuss a Project"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3118090155157247"},{"name":"design_services_submenu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Our creative team delivers stunning and effective designs to make your brand stand out. Which design service would you like to know more about?\n\n\ud83c\udfa8 Website Designing: We build beautiful, responsive, and user-friendly websites.\n\ud83d\udd8c\ufe0f Graphic Designing: We create compelling visuals, logos, and branding materials."},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a Design Quote"},{"type":"QUICK_REPLY","text":"Back to Services Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3291988187631744"},{"name":"contact_sales_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We'd love to discuss how we can help your business grow. You can reach our sales team via email at info\u0040mindsmiratus.com or call us at +91-321-123-4321.\n\nWould you like one of our experts to call you back?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes, call me back"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"954501560165102"},{"name":"products_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We are proud to offer our powerful and easy-to-use GST Software, designed to simplify your tax compliance, invoicing, and financial management.\n\nWhat would you like to do?"},{"type":"FOOTER","text":"sent by Mindsmiratus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Request a GST Demo"},{"type":"QUICK_REPLY","text":"Back to Main Menu"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2567632853585898"},{"name":"services_menu_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"We offer a wide range of services to power your business's growth. Please select a category you are interested in:"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Design Services"},{"type":"QUICK_REPLY","text":"Development Services"},{"type":"QUICK_REPLY","text":"Digital & Tele-Marketing"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"738253949023987"},{"name":"about_us_info_v1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"MindsMiratus is a leading IT solutions company dedicated to helping businesses grow through innovative and effective digital services. From design to development and marketing, we provide comprehensive solutions to elevate your brand.\n\nWhat would you like to do next?"},{"type":"FOOTER","text":"sent by Mindsmirtus"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Back to Main Menu"},{"type":"QUICK_REPLY","text":"Talk to an Expert"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1971204310331370"},{"name":"track_url_after_flow_integ","message_send_ttl_seconds":86400,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BODY","text":"Tracking Test after FlowIntergartion in Journey"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/vosiatstore"]},{"type":"URL","text":"Visit Demo","url":"https:\/\/2a611865c2cd.ngrok-free.app\/r\/{{1}}","example":["https:\/\/2a611865c2cd.ngrok-free.app\/demo"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1084981273615848"},{"name":"template_3","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 3"},{"type":"BODY","text":"This is themplate : 3"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1760623375330098"},{"name":"template_2","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 2"},{"type":"BODY","text":"This is teh template 2"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 1"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1222093123248950"},{"name":"template_1","message_send_ttl_seconds":43200,"parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Template 1"},{"type":"BODY","text":"This is the Template : 1"},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Show Me Template 2"},{"type":"QUICK_REPLY","text":"Show Me Template 3"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"2381212765606675"},{"name":"call_log","parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is the checking for call log event."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Explore","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/seeme"]},{"type":"URL","text":"Call Us","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/callme"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1286058192539680"},{"name":"build_urltracking","parameter_format":"NAMED","components":[{"type":"BODY","text":"Hello \n\nThis is the test message to check wheather redirecting url is working or not."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop Now","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/softwaredev"]},{"type":"URL","text":"Explore More","url":"https:\/\/077903ad22d3.ngrok-free.app\/r\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/r\/moreopt"]},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"788214393726841"},{"name":"url_tracking","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nThis is used to check wheather url redirection is woking or not."},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/tutrials"]},{"type":"URL","text":"View Demo","url":"https:\/\/077903ad22d3.ngrok-free.app\/{{1}}","example":["https:\/\/077903ad22d3.ngrok-free.app\/trackingurl"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1322949819198164"},{"name":"offer_aiboat","message_send_ttl_seconds":604800,"parameter_format":"POSITIONAL","components":[{"type":"BODY","text":"Hello\n\nPlease check our newaly launched Ai Boat."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"watch Video","url":"https:\/\/www.youtube.com\/{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"663456696777015"},{"name":"bot_launch","parameter_format":"NAMED","components":[{"type":"BODY","text":"\u26a1\ufe0f Feature Annoucement ! \u26a1\ufe0f\nHi,\nWe rre happy to tell you that our most awaited feature Bot Integartion is live now."},{"type":"FOOTER","text":"Team XploreByte"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Visit website","url":"https:\/\/www.mindsmiratus.com\/\u00257B\u00257BI\u00257D\u00257D{{1}}","example":["https:\/\/www.mindsmiratus.com\/software-development"]},{"type":"URL","text":"View Tutorials","url":"https:\/\/www.youtube.com\/\u00257B\u00257Bi\u00257D\u00257D{{1}}","example":["https:\/\/www.youtube.com\/shorts\/tQF_xAb8Yfw"]}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"3255438291278546"},{"name":"shoe_launch_offer","parameter_format":"NAMED","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https:\/\/scontent.whatsapp.net\/v\/t61.29466-34\/534420374_1100798475349987_2054812548274537975_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=9lFBNPUqdVAQ7kNvwEOwxqS&_nc_oc=AdlKsG6WfzXoRLxFWL86pqNhwa2HZl0KQ5aSsB7V_Sl62nR0PmCIK5reU8--ZDmPIW0pyoSC8E_daITGui2f7UMS&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=RDkVRR4wn7ENKcsnmDT3aA&oh=01_Q5Aa2gFHfj9-XhXOYm6FVxsFdOuo7HdhVaI4qj0XfbiR1z412Q&oe=690319CF"]}},{"type":"BODY","text":"Hello {{}}! The moment has arrived! \ud83c\udf89\n\nOur new **[Shoe Model Name]** is officially here, and we're celebrating with a special offer just for our WhatsApp family!\n\nFor the next 48 hours, get an **exclusive 15\u0025 discount** on your purchase. Don't just follow the trend\u2014set it.\n\nUse code: **LAUNCH15**\n\nThis offer won't last long. Step into the future today!"},{"type":"FOOTER","text":"The XploreByte Team"},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Shop now","url":"https:\/\/xplorebytesolutions.com\/"},{"type":"PHONE_NUMBER","text":"Call us","phone_number":"+917082156227"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","sub_category":"CUSTOM","id":"1100798472016654"},{"name":"account_creation_confirmation_3","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Finalize account set-up"},{"type":"BODY","text":"Hi {{1}},\n\nYour new account has been created successfully. \n\nPlease verify {{2}} to complete your profile.","example":{"body_text":[["John","your email address"]]}},{"type":"BUTTONS","buttons":[{"type":"URL","text":"Verify account","url":"https:\/\/www.qwexample.com\/"}]}],"language":"en_US","status":"APPROVED","category":"UTILITY","library_template_name":"account_creation_confirmation_3","id":"817241660991962"},{"name":"hello_world","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"TEXT","text":"Hello World"},{"type":"BODY","text":"Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta. Thank you for taking the time to test with us."},{"type":"FOOTER","text":"WhatsApp Business Platform sample message"}],"language":"en_US","status":"APPROVED","category":"UTILITY","id":"617143187619824"}],"paging":{"cursors":{"before":"QVFIU0J2MmdnTXRZAOTFhVWJWcTEySi1RODlUb2dnVXhSSG40d1dkZAzZAGempwaWs1Y3dpLWNsWGJTOHhFcjRFNmxyOHYzTWJuYi1SS21XNXJoamRqZAXpyQXFn","after":"QVFIU0RFT19Cel9oMjJyQkU4eXRRTTBYUHJGN01la0VELWlBbHZAoRzNBT1ZAvMEdLaUVremtjNVNKbk1BUVJ1WEN2TGtXSmNMR09UNFRicl9nVWhGbmtJd0x3"}}}
2025-09-30 15:52:09.624 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType175`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[TemplateForUIResponseDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:52:09.627 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api) in 1240.0177ms
2025-09-30 15:52:09.632 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppTemplateFetcherController.GetAllTemplatesAsync (xbytechat.api)'
2025-09-30 15:52:09.636 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/WhatsAppTemplateFetcher/get-template-all - 200 null application/json; charset=utf-8 1282.0806ms
2025-09-30 15:52:10.578 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T10:22:10.5749440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:52:20.593 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T10:22:20.5874598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:52:30.612 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:22:30.6098985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:52:40.188 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/save-visual - null null
2025-09-30 15:52:40.194 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.195 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/save-visual - 204 null null 7.0945ms
2025-09-30 15:52:40.201 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/cta-flow/save-visual - application/json 2004
2025-09-30 15:52:40.205 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.207 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.SaveVisualFlow (xbytechat.api)'
2025-09-30 15:52:40.213 +05:30 [INF] Route matched with {action = "SaveVisualFlow", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveVisualFlow(xbytechat.api.Features.CTAFlowBuilder.DTOs.SaveVisualFlowDto) on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:52:40.250 +05:30 [INF] 📦 Saving CTA Flow: API-FLOW by Test Org.
2025-09-30 15:52:40.260 +05:30 [INF] 🧠 SaveVisualFlow (create-only) | FlowName: API-FLOW | Biz: "9841bcab-ca71-439f-8691-d85ada887b01"
2025-09-30 15:52:40.266 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__trimmedName_1='API-FLOW'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CTAFlowConfigs" AS c
    WHERE c."BusinessId" = @__8__locals1_businessId_0 AND c."FlowName" = @__trimmedName_1 AND c."IsActive")
2025-09-30 15:52:40.366 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='0c5e1825-c899-41f0-b947-388dbffed015', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='2025-09-30T10:22:40.2893531Z' (DbType = DateTime), @p3='Test Org.', @p4='API-FLOW' (Nullable = false), @p5='True', @p6='False', @p7='2025-09-30T10:22:40.2893935Z' (Nullable = true) (DbType = DateTime), @p8='00e8efb2-eb9d-4c6d-a516-1ea299da5c61', @p9='0c5e1825-c899-41f0-b947-388dbffed015', @p10='640' (Nullable = true), @p11='240' (Nullable = true), @p12=NULL (DbType = Int32), @p13=NULL, @p14=NULL, @p15='1', @p16='template_1' (Nullable = false), @p17='text_template', @p18='Yes' (Nullable = false), @p19='quick_reply' (Nullable = false), @p20='False', @p21='0f631cc5-7088-49ad-82c6-2f7a13484896', @p22='0c5e1825-c899-41f0-b947-388dbffed015', @p23='384' (Nullable = true), @p24='400' (Nullable = true), @p25=NULL (DbType = Int32), @p26=NULL, @p27=NULL, @p28='2', @p29='template_2' (Nullable = false), @p30='text_template', @p31='Show Me Template 2' (Nullable = false), @p32='quick_reply' (Nullable = false), @p33='False', @p34='f468d694-c120-4e84-8ef1-024085736ca8', @p35='0c5e1825-c899-41f0-b947-388dbffed015', @p36='-16' (Nullable = true), @p37='208' (Nullable = true), @p38=NULL (DbType = Int32), @p39=NULL, @p40=NULL, @p41='0', @p42='welcome_video' (Nullable = false), @p43='text_template', @p44='Yes' (Nullable = false), @p45='cta' (Nullable = false), @p46='False', @p47='4e88cc05-7608-44b3-a0fd-b045c60de83c', @p48='0', @p49='quick_reply' (Nullable = false), @p50='Show Me Template 2' (Nullable = false), @p51='QUICK_REPLY' (Nullable = false), @p52='' (Nullable = false), @p53='00e8efb2-eb9d-4c6d-a516-1ea299da5c61', @p54='0f631cc5-7088-49ad-82c6-2f7a13484896' (Nullable = true), @p55='926f7eb6-e11f-4aa7-9a53-8991c9284fb6', @p56='0', @p57='quick_reply' (Nullable = false), @p58='Yes' (Nullable = false), @p59='QUICK_REPLY' (Nullable = false), @p60='' (Nullable = false), @p61='f468d694-c120-4e84-8ef1-024085736ca8', @p62='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CTAFlowConfigs" ("Id", "BusinessId", "CreatedAt", "CreatedBy", "FlowName", "IsActive", "IsPublished", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO "CTAFlowSteps" ("Id", "CTAFlowConfigId", "PositionX", "PositionY", "ProfileNameSlot", "RequiredSource", "RequiredTag", "StepOrder", "TemplateToSend", "TemplateType", "TriggerButtonText", "TriggerButtonType", "UseProfileName")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
INSERT INTO "CTAFlowSteps" ("Id", "CTAFlowConfigId", "PositionX", "PositionY", "ProfileNameSlot", "RequiredSource", "RequiredTag", "StepOrder", "TemplateToSend", "TemplateType", "TriggerButtonText", "TriggerButtonType", "UseProfileName")
VALUES (@p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33);
INSERT INTO "CTAFlowSteps" ("Id", "CTAFlowConfigId", "PositionX", "PositionY", "ProfileNameSlot", "RequiredSource", "RequiredTag", "StepOrder", "TemplateToSend", "TemplateType", "TriggerButtonText", "TriggerButtonType", "UseProfileName")
VALUES (@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46);
INSERT INTO "FlowButtonLinks" ("Id", "ButtonIndex", "ButtonSubType", "ButtonText", "ButtonType", "ButtonValue", "CTAFlowStepId", "NextStepId")
VALUES (@p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54);
INSERT INTO "FlowButtonLinks" ("Id", "ButtonIndex", "ButtonSubType", "ButtonText", "ButtonType", "ButtonValue", "CTAFlowStepId", "NextStepId")
VALUES (@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62);
2025-09-30 15:52:40.394 +05:30 [INF] ✅ Flow created 'API-FLOW' | Steps: 3 | Links: 4
2025-09-30 15:52:40.405 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType126`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:52:40.411 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.SaveVisualFlow (xbytechat.api) in 195.1962ms
2025-09-30 15:52:40.414 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.SaveVisualFlow (xbytechat.api)'
2025-09-30 15:52:40.416 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/cta-flow/save-visual - 200 null application/json; charset=utf-8 214.8388ms
2025-09-30 15:52:40.423 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/0c5e1825-c899-41f0-b947-388dbffed015/publish - null null
2025-09-30 15:52:40.428 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/0c5e1825-c899-41f0-b947-388dbffed015/publish - 204 null null 7.0067ms
2025-09-30 15:52:40.435 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/cta-flow/0c5e1825-c899-41f0-b947-388dbffed015/publish - null 0
2025-09-30 15:52:40.440 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.442 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.Publish (xbytechat.api)'
2025-09-30 15:52:40.447 +05:30 [INF] Route matched with {action = "Publish", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Publish(System.Guid) on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:52:40.458 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__flowId_0='0c5e1825-c899-41f0-b947-388dbffed015', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BusinessId", c."CreatedAt", c."CreatedBy", c."FlowName", c."IsActive", c."IsPublished", c."UpdatedAt"
FROM "CTAFlowConfigs" AS c
WHERE c."Id" = @__flowId_0 AND c."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 15:52:40.468 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='0c5e1825-c899-41f0-b947-388dbffed015', @p0='True', @p1='2025-09-30T10:22:40.4636369Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CTAFlowConfigs" SET "IsPublished" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-30 15:52:40.472 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:52:40.475 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.Publish (xbytechat.api) in 25.7546ms
2025-09-30 15:52:40.477 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.Publish (xbytechat.api)'
2025-09-30 15:52:40.478 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/cta-flow/0c5e1825-c899-41f0-b947-388dbffed015/publish - 200 null application/json; charset=utf-8 43.2213ms
2025-09-30 15:52:40.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:52:40.556 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.558 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/all-published - 204 null null 6.6043ms
2025-09-30 15:52:40.567 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - null null
2025-09-30 15:52:40.572 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:52:40.573 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:52:40.575 +05:30 [INF] Route matched with {action = "GetPublishedFlows", controller = "CTAFlow"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPublishedFlows() on controller xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController (xbytechat.api).
2025-09-30 15:52:40.580 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."FlowName", c."IsPublished", c."CreatedAt"
FROM "CTAFlowConfigs" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsPublished"
ORDER BY c."CreatedAt" DESC
2025-09-30 15:52:40.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CTAFlowBuilder.DTOs.VisualFlowSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 15:52:40.588 +05:30 [INF] Executed action xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api) in 10.0051ms
2025-09-30 15:52:40.590 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAFlowBuilder.Controllers.CTAFlowController.GetPublishedFlows (xbytechat.api)'
2025-09-30 15:52:40.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/all-published - 200 null application/json; charset=utf-8 23.8401ms
2025-09-30 15:52:40.631 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:22:40.6292962+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:52:50.647 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:22:50.6452350+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:00.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:23:00.6539942+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:10.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:23:10.6627572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:20.677 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:23:20.6750529+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:30.688 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:23:30.6860124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:40.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:23:40.7040999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:53:50.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:23:50.7136712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:00.728 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:24:00.7224762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:10.730 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:24:10.7273845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:20.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:24:20.7421163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:30.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:24:30.7494534+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:40.766 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:24:40.7623581+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:54:50.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:24:50.7820124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:00.787 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:25:00.7847524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:07.278 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 339
2025-09-30 15:55:07.282 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:55:07.284 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:55:07.285 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:55:07.318 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-30 15:55:07.335 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 47.422ms
2025-09-30 15:55:07.338 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:55:07.339 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 61.0523ms
2025-09-30 15:55:10.800 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:25:10.7985153+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:20.911 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T10:25:20.8055336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:30.932 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:25:30.9295123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:40.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:25:40.9403119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:50.959 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:25:50.9576217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:55:56.451 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 341
2025-09-30 15:55:56.455 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:55:56.456 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:55:56.458 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:55:56.483 +05:30 [INF] [CustomAPI:"1679f13a-bc9b-4370-a53b-062b8814818b"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 15:55:56.489 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:55:56.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:55:56.498 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:55:56.500 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:55:57.621 +05:30 [INF] Received HTTP response headers after 1120.1149ms - 200
2025-09-30 15:55:57.625 +05:30 [INF] End processing HTTP request after 1126.2775ms - 200
2025-09-30 15:55:59.051 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 15:55:59.057 +05:30 [INF] [CustomAPI:"1679f13a-bc9b-4370-a53b-062b8814818b"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 15:55:59.063 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 15:55:59.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 15:55:59.071 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:55:59.073 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:56:00.046 +05:30 [INF] Received HTTP response headers after 972.5954ms - 200
2025-09-30 15:56:00.048 +05:30 [INF] End processing HTTP request after 976.9813ms - 200
2025-09-30 15:56:00.071 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='4e528153-373b-4128-97b2-fb99d2f008ab', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4='f468d694-c120-4e84-8ef1-024085736ca8' (Nullable = true), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T10:26:00.0646773Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T10:26:00.0646773Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 15:56:00.079 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='4e528153-373b-4128-97b2-fb99d2f008ab', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 15:56:00.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='15b5ef42-de88-4cf2-a797-1fcd5407bbb8', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T10:26:00.0832860+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='4e528153-373b-4128-97b2-fb99d2f008ab' (Nullable = true), @p8='2025-09-30T10:26:00.0832875+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:56:00.088 +05:30 [INF] [CustomAPI:"1679f13a-bc9b-4370-a53b-062b8814818b"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQzVBRjRGRDBGODU3NEY3MzRFAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step="f468d694-c120-4e84-8ef1-024085736ca8"
2025-09-30 15:56:00.091 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 15:56:00.097 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 3636.6002ms
2025-09-30 15:56:00.099 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:56:00.101 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 200 null application/json; charset=utf-8 3649.8977ms
2025-09-30 15:56:00.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:26:00.9628638+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:56:10.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:26:10.9714320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:56:20.997 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T10:26:20.9922965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:56:31.006 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:26:31.0041179+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:56:41.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:26:41.0128346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:56:51.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:26:51.0276459+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:01.042 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:27:01.0398425+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:11.048 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:27:11.0452923+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:21.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:27:21.0706697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:31.084 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:27:31.0818435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:41.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:27:41.0916870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:51.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:27:51.1120407+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:57:54.819 +05:30 [INF] Request starting HTTP/1.1 GET http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1189074896&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - null null
2025-09-30 15:57:54.832 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 15:57:54.836 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 15:57:54.841 +05:30 [INF] ✅ WhatsApp webhook verified successfully.
2025-09-30 15:57:54.843 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-09-30 15:57:54.845 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 7.1103ms
2025-09-30 15:57:54.848 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 15:57:54.850 +05:30 [INF] Request finished HTTP/1.1 GET http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1189074896&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - 200 null text/plain; charset=utf-8 31.3621ms
2025-09-30 15:57:59.130 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 341
2025-09-30 15:57:59.134 +05:30 [INF] CORS policy execution successful.
2025-09-30 15:57:59.136 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:57:59.137 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 15:57:59.140 +05:30 [INF] [CustomAPI:"196ec927-af65-4f09-bf79-ff2403f749ac"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 15:57:59.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:57:59.152 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:57:59.156 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:57:59.158 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:58:01.131 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:28:01.1285912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:58:11.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:28:11.1402899+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:58:21.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:28:21.1492647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:58:22.762 +05:30 [INF] Received HTTP response headers after 23602.8263ms - 200
2025-09-30 15:58:22.766 +05:30 [INF] End processing HTTP request after 23609.8233ms - 200
2025-09-30 15:58:23.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 15:58:23.155 +05:30 [INF] [CustomAPI:"196ec927-af65-4f09-bf79-ff2403f749ac"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 15:58:23.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 15:58:23.171 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 15:58:23.174 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:58:23.176 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:58:31.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:28:31.1585132+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:58:37.003 +05:30 [INF] Received HTTP response headers after 13825.4566ms - 200
2025-09-30 15:58:37.005 +05:30 [INF] End processing HTTP request after 13830.6312ms - 200
2025-09-30 15:58:37.014 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='d515543f-17af-4764-8b68-a4eec0ce1fad', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4='f468d694-c120-4e84-8ef1-024085736ca8' (Nullable = true), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T10:28:37.0067771Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T10:28:37.0067771Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 15:58:37.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='d515543f-17af-4764-8b68-a4eec0ce1fad', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 15:58:37.025 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='6864ceda-5f8f-4fea-b8fb-32664bb9f10f', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T10:28:37.0225326+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='d515543f-17af-4764-8b68-a4eec0ce1fad' (Nullable = true), @p8='2025-09-30T10:28:37.0225342+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:58:37.029 +05:30 [INF] [CustomAPI:"196ec927-af65-4f09-bf79-ff2403f749ac"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step="f468d694-c120-4e84-8ef1-024085736ca8"
2025-09-30 15:58:37.032 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 15:58:37.033 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 37894.0221ms
2025-09-30 15:58:37.035 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 15:58:37.037 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 200 null application/json; charset=utf-8 37906.5181ms
2025-09-30 15:58:41.170 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:28:41.1681788+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:58:53.370 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 15:58:53.421 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 15:58:53.435 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 15:58:54.587 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 15:58:55.274 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 15:58:55.296 +05:30 [INF] ClickLogWorker started
2025-09-30 15:58:55.499 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 15:58:55.501 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 15:58:55.502 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 15:58:55.503 +05:30 [INF] Hosting environment: Development
2025-09-30 15:58:55.504 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 15:58:55.506 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 15:58:55.526 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__cutoff_0='2025-09-23T10:28:53.5520690Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 15:58:56.348 +05:30 [INF] ClickLogWorker stopped
2025-09-30 15:59:00.470 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='2025-09-30T10:29:00.3190596+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:59:01.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 15:59:01.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 304.9828ms
2025-09-30 15:59:01.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 15:59:01.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.8108ms
2025-09-30 15:59:01.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 15:59:01.612 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.0978ms
2025-09-30 15:59:01.856 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 15:59:02.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 367.6644ms
2025-09-30 15:59:05.345 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 15:59:05.407 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:59:05.439 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:59:05.445 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 15:59:05.448 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 15:59:05.458 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 15:59:05.464 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 15:59:05.468 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 15:59:05.469 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 15:59:05.472 +05:30 [INF] TemplateSyncWorker: sweep finished in 163 ms; processed=2; next run ~"2025-09-30T16:29:05.3087728Z"
2025-09-30 15:59:10.487 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:29:10.4804696+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:59:20.502 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T10:29:20.4982375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:59:30.525 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:29:30.5211429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:59:38.590 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - application/json 603
2025-09-30 15:59:38.597 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 15:59:38.736 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:38.756 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 15:59:38.806 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMTQ0NEY1RjE0QTNERDlCRkQ1Q0RCODAyMzhDOUQ1ODQA","timestamp":"1759228179","type":"button","button":{"payload":"Yes","text":"Yes"}}]},"field":"messages"}]}]}
2025-09-30 15:59:38.811 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 15:59:38.820 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:59:38.836 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 73.17ms
2025-09-30 15:59:38.838 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:38.841 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 251.4219ms
2025-09-30 15:59:38.996 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMTQ0NEY1RjE0QTNERDlCRkQ1Q0RCODAyMzhDOUQ1ODQA","timestamp":"1759228179","type":"button","button":{"payload":"Yes","text":"Yes"}}]},"field":"messages"}]}]}
2025-09-30 15:59:38.998 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-30 15:59:39.011 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-30 15:59:39.014 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMTQ0NEY1RjE0QTNERDlCRkQ1Q0RCODAyMzhDOUQ1ODQA, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==, Text: Yes
2025-09-30 15:59:39.037 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-30 15:59:39.057 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__origin_Id_0='d515543f-17af-4764-8b68-a4eec0ce1fad' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:39.072 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-30 15:59:39.210 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-30 15:59:39.246 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="0c5e1825-c899-41f0-b947-388dbffed015", step="f468d694-c120-4e84-8ef1-024085736ca8")
2025-09-30 15:59:39.329 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__sourceStepId_0='f468d694-c120-4e84-8ef1-024085736ca8', @__flowId_1='0c5e1825-c899-41f0-b947-388dbffed015', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-30 15:59:39.340 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-30 15:59:39.588 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@p0='04b5223f-6450-4613-ae18-eba6189129f7', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T10:29:39.3451761Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='d515543f-17af-4764-8b68-a4eec0ce1fad' (Nullable = true), @p9=NULL, @p10='0ba4b504-ed95-4055-a02b-ec9ce3e34250' (Nullable = true), @p11=NULL (DbType = Guid), @p12='f468d694-c120-4e84-8ef1-024085736ca8', @p13='welcome_video' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Yes'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-30 15:59:39.675 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_context_TargetStepId_0='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @__8__locals1_context_FlowId_1='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-30 15:59:39.749 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 15:59:39.795 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:59:39.798 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 15:59:40.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:29:40.5349876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 15:59:40.883 +05:30 [INF] Received HTTP response headers after 1081.3036ms - 200
2025-09-30 15:59:40.886 +05:30 [INF] End processing HTTP request after 1093.0017ms - 200
2025-09-30 15:59:41.148 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_context_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__8__locals1_context_BusinessId_0 AND w."IsActive"
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 15:59:41.152 +05:30 [INF] ➡️ SEND-INTENT flow="0c5e1825-c899-41f0-b947-388dbffed015" step="00e8efb2-eb9d-4c6d-a516-1ea299da5c61" tmpl=template_1 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-30 15:59:41.175 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 15:59:41.190 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 15:59:41.212 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:59:41.213 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 15:59:42.300 +05:30 [INF] Received HTTP response headers after 1085.5618ms - 200
2025-09-30 15:59:42.302 +05:30 [INF] End processing HTTP request after 1090.6472ms - 200
2025-09-30 15:59:42.502 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='8609c0d0-74f7-47c3-b500-4ac3c173cf44', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T10:29:42.4253094Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='0c1188fc-490e-4ea3-8400-ecae07351dbd' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","message_status":"accepted"}]}', @p10='c7d7733d-b244-4c56-83d0-cd372b59d365' (Nullable = true), @p11=NULL (DbType = Guid), @p12='00e8efb2-eb9d-4c6d-a516-1ea299da5c61', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='0c1188fc-490e-4ea3-8400-ecae07351dbd', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 2","ty":"QUICK_REPLY","v":"","ns":"0f631cc5-7088-49ad-82c6-2f7a13484896"}]', @p22='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p23='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-30T10:29:42.3224148Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_1' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='d515543f-17af-4764-8b68-a4eec0ce1fad' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-30T10:29:42.3232188Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-30 15:59:43.793 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-30 15:59:43.808 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:43.810 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 15:59:43.815 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"sent","timestamp":"1759228184","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","expiration_timestamp":"1759228185","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:43.817 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 15:59:43.819 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:59:43.821 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.5071ms
2025-09-30 15:59:43.822 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"sent","timestamp":"1759228184","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","expiration_timestamp":"1759228185","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:43.823 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:43.826 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 33.085ms
2025-09-30 15:59:43.850 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-30 15:59:43.858 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 15:59:43.883 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:43.924 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:43.941 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:43.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='e52e5235d015b1cee6e42ce40e2a534e'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:43.973 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='3dfff111-884b-4a82-9956-6bb12901764a', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='e52e5235d015b1cee6e42ce40e2a534e', @p4='2025-09-30T10:29:43.8902152+00:00' (DbType = DateTime), @p5='sent' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T10:29:44.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"sent","timestamp":"1759228184","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","expiration_timestamp":"1759228185","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==', @p14='6bccf477-06b1-4a4c-920e-41fff68372c9', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='e52e5235d015b1cee6e42ce40e2a534e', @p18='2025-09-30T10:29:43.9272719+00:00' (DbType = DateTime), @p19='pricing_update' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-30T10:29:44.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"sent","timestamp":"1759228184","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","expiration_timestamp":"1759228185","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-30 15:59:43.999 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 15:59:44.013 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 15:59:44.196 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-30 15:59:44.212 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:44.216 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 15:59:44.223 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"delivered","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:44.226 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 15:59:44.227 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:59:44.228 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.2802ms
2025-09-30 15:59:44.230 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:44.232 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 36.5018ms
2025-09-30 15:59:44.242 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"delivered","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:44.244 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 15:59:44.250 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:44.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:44.261 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:44.268 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='e52e5235d015b1cee6e42ce40e2a534e'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:44.274 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='b718dd07-a3be-4751-a971-0ff8b24cb8b5', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='e52e5235d015b1cee6e42ce40e2a534e', @p4='2025-09-30T10:29:44.2541013+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T10:29:45.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"delivered","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:59:44.279 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 15:59:44.286 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 15:59:44.300 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='0c1188fc-490e-4ea3-8400-ecae07351dbd', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 15:59:44.468 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-30 15:59:44.472 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:44.473 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 15:59:44.476 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"read","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:44.478 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 15:59:44.479 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"read","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 15:59:44.480 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 15:59:44.481 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 15:59:44.484 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 7.9213ms
2025-09-30 15:59:44.487 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 15:59:44.489 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:44.490 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 22.2055ms
2025-09-30 15:59:44.496 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 15:59:44.508 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:44.514 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='e52e5235d015b1cee6e42ce40e2a534e'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 15:59:44.521 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='6f1f6ea3-f149-4d97-bcb5-50eeaca2ca21', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='e52e5235d015b1cee6e42ce40e2a534e', @p4='2025-09-30T10:29:44.4937613+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T10:29:45.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA==","status":"read","timestamp":"1759228185","recipient_id":"918974005240","conversation":{"id":"e52e5235d015b1cee6e42ce40e2a534e","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 15:59:44.527 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 15:59:44.532 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQUU5QzE4MEE2QjdGRkIwNjhGAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 15:59:44.538 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='0c1188fc-490e-4ea3-8400-ecae07351dbd', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 15:59:50.547 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:29:50.5435667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:02.880 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:30:02.8780340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:12.889 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:30:12.8869514+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:14.467 +05:30 [INF] Request starting HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-30 16:00:14.473 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 16:00:14.476 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 16:00:14.479 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","status":"read","timestamp":"1759228134","recipient_id":"918974005240","conversation":{"id":"2364522cb962b1046da6975d9637be47","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 16:00:14.482 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 16:00:14.483 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","status":"read","timestamp":"1759228134","recipient_id":"918974005240","conversation":{"id":"2364522cb962b1046da6975d9637be47","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 16:00:14.484 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 16:00:14.485 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 16:00:14.487 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.6381ms
2025-09-30 16:00:14.493 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 16:00:14.494 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 16:00:14.497 +05:30 [INF] Request finished HTTP/1.1 POST http://b2ed20924f9a.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 30.7823ms
2025-09-30 16:00:14.509 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 16:00:14.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 16:00:14.527 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='d515543f-17af-4764-8b68-a4eec0ce1fad', @p0='marketing', @p1='2364522cb962b1046da6975d9637be47', @p2='True' (Nullable = true), @p4='290f0b86-8be7-4047-a830-a766e9317bf7', @p5='9841bcab-ca71-439f-8691-d85ada887b01', @p6='marketing', @p7='2364522cb962b1046da6975d9637be47', @p8='2025-09-30T10:30:14.5055613+00:00' (DbType = DateTime), @p9='read' (Nullable = false), @p10='True' (Nullable = true), @p11=NULL (DbType = Guid), @p12='2025-09-30T10:28:54.0000000+00:00' (DbType = DateTime), @p13='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","status":"read","timestamp":"1759228134","recipient_id":"918974005240","conversation":{"id":"2364522cb962b1046da6975d9637be47","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p14=NULL (DbType = Decimal), @p15=NULL, @p16='META_CLOUD' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==', @p18='7e64129a-570c-4459-be32-bf19844ef2de', @p19='9841bcab-ca71-439f-8691-d85ada887b01', @p20='marketing', @p21='2364522cb962b1046da6975d9637be47', @p22='2025-09-30T10:30:14.5163090+00:00' (DbType = DateTime), @p23='pricing_update' (Nullable = false), @p24='True' (Nullable = true), @p25=NULL (DbType = Guid), @p26='2025-09-30T10:28:54.0000000+00:00' (DbType = DateTime), @p27='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA==","status":"read","timestamp":"1759228134","recipient_id":"918974005240","conversation":{"id":"2364522cb962b1046da6975d9637be47","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p28=NULL (DbType = Decimal), @p29=NULL, @p30='META_CLOUD' (Nullable = false), @p31='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "ConversationCategory" = @p0, "ConversationId" = @p1, "IsChargeable" = @p2
WHERE "Id" = @p3
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-30 16:00:14.549 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 16:00:14.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSNDVGRkMxMjIxQkU3Q0FCMDdBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 16:00:14.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='d515543f-17af-4764-8b68-a4eec0ce1fad', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 16:00:22.897 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:30:22.8941682+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:32.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:30:32.9137407+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:42.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T10:30:42.9252927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:00:52.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T10:30:52.9370231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:03:51.221 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 16:04:17.862 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 16:04:18.353 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 16:04:18.366 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-30 16:04:18.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 16:04:18.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-09-30 16:04:18.475 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-09-30 16:04:18.482 +05:30 [INF] Applying migration '20250930103352_AddCustomApiOnServer'.
2025-09-30 16:04:18.584 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250930103352_AddCustomApiOnServer', '8.0.18');
2025-09-30 16:32:07.155 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 16:32:07.219 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 16:32:07.241 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 16:32:08.350 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 16:32:09.108 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 16:32:09.123 +05:30 [INF] ClickLogWorker started
2025-09-30 16:32:09.436 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 16:32:09.438 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 16:32:09.440 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 16:32:09.441 +05:30 [INF] Hosting environment: Development
2025-09-30 16:32:09.442 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 16:32:10.179 +05:30 [INF] ClickLogWorker stopped
2025-09-30 16:32:17.587 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 16:32:17.606 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__cutoff_0='2025-09-23T11:02:07.3918536Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 16:32:18.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 16:32:18.386 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 177.0049ms
2025-09-30 16:32:18.413 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 16:32:18.422 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.9654ms
2025-09-30 16:32:18.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 16:32:18.512 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.2724ms
2025-09-30 16:32:18.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 16:32:18.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 265.9991ms
2025-09-30 16:32:19.234 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 16:32:19.353 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 16:32:19.464 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 16:32:19.496 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 16:32:19.505 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 16:32:20.044 +05:30 [INF] Received HTTP response headers after 534.8159ms - 401
2025-09-30 16:32:20.046 +05:30 [INF] End processing HTTP request after 556.1354ms - 401
2025-09-30 16:32:20.175 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 16:32:20.304 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:02:19.3637548Z"
2025-09-30 16:32:20.392 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 16:32:20.471 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 16:32:20.474 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 16:32:20.475 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 16:32:20.552 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 16:32:20.637 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 16:32:20.639 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 16:32:20.640 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 16:32:20.956 +05:30 [INF] Received HTTP response headers after 315.2094ms - 401
2025-09-30 16:32:20.958 +05:30 [INF] End processing HTTP request after 318.6284ms - 401
2025-09-30 16:32:21.042 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 16:32:21.166 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:02:20.5548010Z"
2025-09-30 16:32:21.168 +05:30 [INF] TemplateSyncWorker: sweep finished in 2027 ms; processed=3; next run ~"2025-09-30T17:02:19.1405258Z"
2025-09-30 16:32:22.302 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:02:14.1355401+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:32:32.390 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='2025-09-30T11:02:32.3192909+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:32:42.495 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T11:02:42.3933895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:32:52.583 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:02:52.5018922+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:02.672 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:03:02.5869536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:12.775 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:03:12.6867360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:22.871 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:03:22.7917531+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:32.967 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:03:32.8837716+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:44.820 +05:30 [INF] Executed DbCommand (161ms) [Parameters=[@__now_0='2025-09-30T11:03:44.6580005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:33:54.900 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:03:54.8278308+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:05.037 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__now_0='2025-09-30T11:04:04.9114196+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:15.170 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T11:04:15.0456952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:25.254 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:04:25.1786792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:35.355 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:04:35.2683947+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:45.538 +05:30 [INF] Executed DbCommand (173ms) [Parameters=[@__now_0='2025-09-30T11:04:45.3647003+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:34:55.634 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:04:55.5442721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:05.712 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:05:05.6387323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:15.799 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:05:15.7167163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:25.882 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='2025-09-30T11:05:25.8108559+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:35.964 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:05:35.8859162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:46.070 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T11:05:45.9777820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:35:56.167 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:05:56.0874770+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:06.275 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:06:06.1860549+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:16.362 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:06:16.2889900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:26.455 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:06:26.3750569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:36.556 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T11:06:36.4654949+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:46.645 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:06:46.5564961+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:36:56.737 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:06:56.6540610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:37:07.170 +05:30 [INF] Executed DbCommand (422ms) [Parameters=[@__now_0='2025-09-30T11:07:06.7478027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:37:17.259 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:07:17.1839755+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:37:36.748 +05:30 [INF] Executed DbCommand (365ms) [Parameters=[@__now_0='2025-09-30T11:07:27.2656058+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:37:46.981 +05:30 [INF] Executed DbCommand (231ms) [Parameters=[@__now_0='2025-09-30T11:07:46.7496283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:37:57.114 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__now_0='2025-09-30T11:07:56.9887166+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:07.198 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:08:07.1199955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:17.289 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:08:17.2079745+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:27.379 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:08:27.2954888+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:37.479 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:08:37.3929636+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:47.571 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:08:47.4896842+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:38:57.646 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T11:08:57.5744443+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:07.739 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T11:09:07.6488968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:17.821 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:09:17.7427976+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:27.926 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T11:09:27.8348176+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:38.020 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:09:37.9334706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:48.198 +05:30 [INF] Executed DbCommand (161ms) [Parameters=[@__now_0='2025-09-30T11:09:48.0365346+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:39:58.309 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__now_0='2025-09-30T11:09:58.2112011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:08.400 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:10:08.3171009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:18.510 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__now_0='2025-09-30T11:10:18.4126665+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:28.600 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:10:28.5194219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:38.775 +05:30 [INF] Executed DbCommand (169ms) [Parameters=[@__now_0='2025-09-30T11:10:38.6055369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:48.880 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:10:48.7919143+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:40:58.983 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:10:58.8954543+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:09.082 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:11:08.9987814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:19.180 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:11:19.0946583+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:29.283 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:11:29.1953785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:39.371 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:11:39.2911252+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:49.473 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T11:11:49.3746374+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:41:59.562 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:11:59.4895182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:42:09.677 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@__now_0='2025-09-30T11:12:09.5684619+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:42:19.764 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:12:19.6815073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:42:29.870 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:12:29.7820448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:42:48.061 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__now_0='2025-09-30T11:12:39.8847022+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:42:58.156 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:12:58.0761165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:08.245 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:13:08.1675179+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:18.344 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:13:18.2591011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:28.425 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T11:13:28.3533505+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:38.504 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:13:38.4310792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:48.591 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T11:13:48.5150604+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:43:58.690 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__now_0='2025-09-30T11:13:58.5982363+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:08.786 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:14:08.6979796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:18.885 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:14:18.8034528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:28.963 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='2025-09-30T11:14:28.8932024+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:39.061 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__now_0='2025-09-30T11:14:38.9687712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:49.146 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:14:49.0741386+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:44:59.225 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:14:59.1514328+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:09.305 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T11:15:09.2281079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:19.384 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T11:15:19.3082399+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:29.465 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:15:29.3878640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:39.547 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:15:39.4737119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:49.645 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:15:49.5623259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:45:59.760 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__now_0='2025-09-30T11:15:59.6582015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:46:09.847 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:16:09.7700089+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:46:19.946 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:16:19.8609913+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:46:30.034 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:16:29.9535790+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:46:41.679 +05:30 [INF] Executed DbCommand (1,641ms) [Parameters=[@__now_0='2025-09-30T11:16:40.0378887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:46:51.767 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:16:51.6843575+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:47:01.848 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:17:01.7737042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:47:11.930 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:17:11.8518857+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:47:22.101 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[@__now_0='2025-09-30T11:17:21.9371662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:47:32.188 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:17:32.1059268+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:47:42.309 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__now_0='2025-09-30T11:17:42.1959444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:00.392 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:17:52.3166047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:10.489 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:18:10.4044718+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:20.595 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__now_0='2025-09-30T11:18:20.5026970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:30.680 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:18:30.6061573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:40.775 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:18:40.6888845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:48:50.886 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T11:18:50.7881814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:00.969 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:19:00.8904249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:11.051 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:19:10.9737156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:21.149 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:19:21.0598111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:31.250 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:19:31.1620233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:41.330 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:19:41.2543615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:49:51.439 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__now_0='2025-09-30T11:19:51.3461567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:01.534 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:20:01.4517397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:11.610 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:20:11.5377524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:21.701 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:20:21.6288717+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:31.791 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:20:31.7116572+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:41.881 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:20:41.8053745+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:50:51.961 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:20:51.8865340+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:02.059 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:21:01.9725334+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:12.144 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:21:12.0622118+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:22.233 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:21:22.1489326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:32.326 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:21:32.2389112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:42.448 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T11:21:42.3339939+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:51:52.530 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:21:52.4580958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:02.615 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:22:02.5332060+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:12.730 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__now_0='2025-09-30T11:22:12.6236937+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:22.824 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:22:22.7431684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:32.925 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:22:32.8427922+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:43.024 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:22:42.9376528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:52:53.117 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:22:53.0336226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:53:11.303 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T11:23:03.1336259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:53:21.403 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:23:21.3187890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:53:31.483 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:23:31.4059472+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:53:41.587 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:23:41.4997108+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:53:51.713 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T11:23:51.5941886+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:01.810 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:24:01.7212487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:11.913 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:24:11.8271494+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:21.998 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:24:21.9154757+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:32.103 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T11:24:32.0158889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:42.185 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:24:42.1101194+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:54:52.289 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:24:52.1996061+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:02.385 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:25:02.3045811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:12.464 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:25:12.3924670+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:22.547 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:25:22.4678662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:32.642 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:25:32.5555047+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:42.750 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__now_0='2025-09-30T11:25:42.6525448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:55:52.859 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[@__now_0='2025-09-30T11:25:52.7596115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:02.947 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:26:02.8694728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:13.050 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:26:12.9642427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:23.149 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:26:23.0628663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:33.225 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:26:33.1526040+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:43.317 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:26:43.2388338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:56:53.403 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T11:26:53.3270784+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:03.496 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:27:03.4137731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:13.577 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:27:13.4996662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:23.668 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:27:23.5900758+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:33.762 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:27:33.6805237+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:43.851 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:27:43.7678257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:57:53.947 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:27:53.8685673+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:58:04.028 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:28:03.9491170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:58:22.155 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:28:14.0432538+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:58:32.244 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:28:32.1602179+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:58:42.379 +05:30 [INF] Executed DbCommand (132ms) [Parameters=[@__now_0='2025-09-30T11:28:42.2473410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:58:52.467 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T11:28:52.3891306+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:02.550 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:29:02.4642358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:12.633 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:29:12.5582172+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:22.743 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@__now_0='2025-09-30T11:29:22.6466529+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:32.830 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:29:32.7466348+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:42.915 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:29:42.8376702+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 16:59:53.031 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__now_0='2025-09-30T11:29:52.9252737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:03.133 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:30:03.0480423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:13.225 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:30:13.1416288+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:23.310 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T11:30:23.2334633+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:33.412 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:30:33.3251760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:43.492 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T11:30:43.4172663+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:00:53.593 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:30:53.5142994+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:03.684 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:31:03.6021622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:13.777 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T11:31:13.6907841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:23.856 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T11:31:23.7835855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:33.956 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T11:31:33.8684823+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:44.051 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:31:43.9669897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:01:54.141 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:31:54.0598067+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:04.227 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:32:04.1436279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:14.319 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T11:32:14.2422236+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:24.409 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:32:24.3290911+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:34.906 +05:30 [INF] Executed DbCommand (485ms) [Parameters=[@__now_0='2025-09-30T11:32:34.4210863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:46.493 +05:30 [INF] Executed DbCommand (1,579ms) [Parameters=[@__now_0='2025-09-30T11:32:44.9137615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:02:56.954 +05:30 [INF] Executed DbCommand (448ms) [Parameters=[@__now_0='2025-09-30T11:32:56.5060513+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:03:07.678 +05:30 [INF] Executed DbCommand (713ms) [Parameters=[@__now_0='2025-09-30T11:33:06.9646174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:03:18.218 +05:30 [INF] Executed DbCommand (531ms) [Parameters=[@__now_0='2025-09-30T11:33:17.6876831+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:03:36.684 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:33:28.2355946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:03:46.950 +05:30 [INF] Executed DbCommand (262ms) [Parameters=[@__now_0='2025-09-30T11:33:46.6879887+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:03:57.045 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:33:56.9609222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:07.732 +05:30 [INF] Executed DbCommand (669ms) [Parameters=[@__now_0='2025-09-30T11:34:07.0624628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:18.502 +05:30 [INF] Executed DbCommand (766ms) [Parameters=[@__now_0='2025-09-30T11:34:17.7364056+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:28.907 +05:30 [INF] Executed DbCommand (391ms) [Parameters=[@__now_0='2025-09-30T11:34:28.5160312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:38.997 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:34:38.9155756+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:49.200 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@__now_0='2025-09-30T11:34:48.9998282+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:04:59.295 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T11:34:59.2036522+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:05:09.791 +05:30 [INF] Executed DbCommand (486ms) [Parameters=[@__now_0='2025-09-30T11:35:09.3053450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:05:20.299 +05:30 [INF] Executed DbCommand (504ms) [Parameters=[@__now_0='2025-09-30T11:35:19.7956550+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:05:30.386 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:35:30.3026936+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:05:40.906 +05:30 [INF] Executed DbCommand (511ms) [Parameters=[@__now_0='2025-09-30T11:35:40.3951206+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:05:50.992 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:35:50.9121648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:01.090 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:36:01.0081166+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:11.176 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:36:11.1010290+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:21.271 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T11:36:21.1919307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:31.350 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T11:36:31.2784186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:41.439 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:36:41.3549832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:06:51.520 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T11:36:51.4456827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:07:01.610 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T11:37:01.5276280+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:07:11.711 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:37:11.6256284+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:07:21.803 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T11:37:21.7142393+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:07:27.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:07:27.566 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 29.71ms
2025-09-30 17:07:27.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:07:27.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:07:27.686 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.0456ms
2025-09-30 17:07:27.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1242ms
2025-09-30 17:07:28.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:07:28.191 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/favicon-32x32.png - null null
2025-09-30 17:07:28.212 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-30 17:07:28.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/favicon-32x32.png - 200 628 image/png 23.4554ms
2025-09-30 17:07:28.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.6267ms
2025-09-30 17:07:31.889 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T11:37:31.8063344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:07:41.993 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:37:41.9196742+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:08:12.217 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 17:08:12.265 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 17:08:12.282 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 17:08:13.435 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 17:08:14.232 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 17:08:14.254 +05:30 [INF] ClickLogWorker started
2025-09-30 17:08:14.465 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 17:08:14.466 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 17:08:14.468 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 17:08:14.468 +05:30 [INF] Hosting environment: Development
2025-09-30 17:08:14.469 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 17:08:15.320 +05:30 [INF] ClickLogWorker stopped
2025-09-30 17:08:18.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:08:18.889 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 177.7492ms
2025-09-30 17:08:18.974 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:08:18.974 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:08:18.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.4834ms
2025-09-30 17:08:19.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.1077ms
2025-09-30 17:08:19.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:08:19.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.7748ms
2025-09-30 17:08:22.550 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 17:08:22.578 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__cutoff_0='2025-09-23T11:38:12.3976772Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 17:08:24.372 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 17:08:24.492 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:08:24.572 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:08:24.593 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:08:24.596 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:08:25.072 +05:30 [INF] Received HTTP response headers after 473.4267ms - 401
2025-09-30 17:08:25.074 +05:30 [INF] End processing HTTP request after 483.6094ms - 401
2025-09-30 17:08:25.171 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:08:25.289 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:38:24.5001497Z"
2025-09-30 17:08:25.374 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:08:25.458 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:08:25.460 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 17:08:25.461 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 17:08:25.537 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:08:25.615 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:08:25.618 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:08:25.619 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:08:25.907 +05:30 [INF] Received HTTP response headers after 286.9637ms - 401
2025-09-30 17:08:25.908 +05:30 [INF] End processing HTTP request after 290.6035ms - 401
2025-09-30 17:08:26.017 +05:30 [INF] Executed DbCommand (107ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:08:26.106 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:38:25.5409675Z"
2025-09-30 17:08:26.108 +05:30 [INF] TemplateSyncWorker: sweep finished in 1841 ms; processed=3; next run ~"2025-09-30T17:38:24.2670310Z"
2025-09-30 17:08:27.480 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T11:38:19.2802004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:08:37.618 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T11:38:37.4866623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:08:47.716 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T11:38:47.6346974+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:08:57.795 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T11:38:57.7225298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:09:07.892 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T11:39:07.8073343+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:09:09.723 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 356
2025-09-30 17:09:09.728 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 17:09:09.857 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:09:09.882 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 17:09:26.628 +05:30 [INF] Executed DbCommand (5,805ms) [Parameters=[@__now_0='2025-09-30T11:39:20.8171367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:09:26.660 +05:30 [ERR] ❌ Exception in CustomApiService.SendTemplateAsync
System.InvalidOperationException: BusinessId claim is missing.
   at xbytechat.api.Features.CustomeApi.Services.CustomApiService.GetBusinessIdOrThrow() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CustomeApi\Services\CustomApiService.cs:line 229
   at xbytechat.api.Features.CustomeApi.Services.CustomApiService.SendTemplateAsync(DirectTemplateSendRequest req, CancellationToken ct) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CustomeApi\Services\CustomApiService.cs:line 59
2025-09-30 17:09:48.276 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 17:09:48.289 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 38402.1095ms
2025-09-30 17:09:48.291 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:09:48.293 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 38569.8068ms
2025-09-30 17:09:48.345 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T11:39:48.2578918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:09:58.442 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T11:39:58.3518712+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:10:08.533 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T11:40:08.4520706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:15:42.640 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 17:15:42.727 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 17:15:42.762 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 17:15:43.878 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 17:15:44.400 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 17:15:44.418 +05:30 [INF] ClickLogWorker started
2025-09-30 17:15:44.590 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 17:15:44.591 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 17:15:44.591 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 17:15:44.592 +05:30 [INF] Hosting environment: Development
2025-09-30 17:15:44.593 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 17:15:45.461 +05:30 [INF] ClickLogWorker stopped
2025-09-30 17:15:50.689 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:15:50.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 217.6456ms
2025-09-30 17:15:51.085 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:15:51.085 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:15:51.099 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 13.5343ms
2025-09-30 17:15:51.141 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.976ms
2025-09-30 17:15:51.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:15:51.703 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 346.03ms
2025-09-30 17:15:52.714 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 17:15:52.742 +05:30 [INF] Executed DbCommand (126ms) [Parameters=[@__cutoff_0='2025-09-23T11:45:42.9158139Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 17:15:54.542 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 17:15:54.660 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:15:54.784 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:15:54.806 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:15:54.808 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:15:55.385 +05:30 [INF] Received HTTP response headers after 574.276ms - 401
2025-09-30 17:15:55.387 +05:30 [INF] End processing HTTP request after 583.6829ms - 401
2025-09-30 17:15:55.481 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:15:55.761 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:45:54.6688694Z"
2025-09-30 17:15:55.853 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:15:55.953 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:15:55.955 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 17:15:55.956 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 17:15:56.058 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:15:56.151 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:15:56.155 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:15:56.156 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:15:56.456 +05:30 [INF] Received HTTP response headers after 298.5973ms - 401
2025-09-30 17:15:56.457 +05:30 [INF] End processing HTTP request after 302.817ms - 401
2025-09-30 17:15:56.701 +05:30 [INF] Executed DbCommand (242ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:15:56.799 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T11:45:56.0617551Z"
2025-09-30 17:15:56.801 +05:30 [INF] TemplateSyncWorker: sweep finished in 2363 ms; processed=3; next run ~"2025-09-30T17:45:54.4380876Z"
2025-09-30 17:15:57.594 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__now_0='2025-09-30T11:45:49.4328474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:16:05.593 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:16:05.596 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 17:16:05.687 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:16:05.705 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 17:16:17.612 +05:30 [INF] Executed DbCommand (1,061ms) [Parameters=[@__now_0='2025-09-30T11:46:14.8443209+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:32:04.599 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 17:32:04.635 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 17:32:04.654 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 17:32:05.548 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 17:32:07.730 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 17:32:07.749 +05:30 [INF] ClickLogWorker started
2025-09-30 17:32:07.945 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 17:32:07.946 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 17:32:07.947 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 17:32:07.948 +05:30 [INF] Hosting environment: Development
2025-09-30 17:32:07.949 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 17:32:08.793 +05:30 [INF] ClickLogWorker stopped
2025-09-30 17:32:12.676 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:32:12.856 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 189.5251ms
2025-09-30 17:32:12.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:32:12.895 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.6087ms
2025-09-30 17:32:12.946 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:32:12.982 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.1038ms
2025-09-30 17:32:13.150 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:32:13.394 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.8373ms
2025-09-30 17:32:16.150 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 17:32:16.165 +05:30 [INF] Executed DbCommand (112ms) [Parameters=[@__cutoff_0='2025-09-23T12:02:04.7609906Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 17:32:17.938 +05:30 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 17:32:18.063 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:32:18.205 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:32:18.234 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:32:18.237 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:32:19.607 +05:30 [INF] Received HTTP response headers after 1367.2957ms - 401
2025-09-30 17:32:19.609 +05:30 [INF] End processing HTTP request after 1378.1531ms - 401
2025-09-30 17:32:19.770 +05:30 [INF] Executed DbCommand (154ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:32:20.081 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:02:18.0788470Z"
2025-09-30 17:32:20.172 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:32:20.268 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:32:20.270 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 17:32:20.275 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 17:32:20.373 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:32:20.453 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:32:20.454 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:32:20.455 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:32:20.793 +05:30 [INF] Received HTTP response headers after 336.5802ms - 401
2025-09-30 17:32:20.794 +05:30 [INF] End processing HTTP request after 339.1845ms - 401
2025-09-30 17:32:20.943 +05:30 [INF] Executed DbCommand (148ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:32:21.174 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:02:20.3756357Z"
2025-09-30 17:32:21.176 +05:30 [INF] TemplateSyncWorker: sweep finished in 3412 ms; processed=3; next run ~"2025-09-30T18:02:17.7630873Z"
2025-09-30 17:32:21.347 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:02:12.7604147+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:32:31.449 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__now_0='2025-09-30T12:02:31.3560002+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:32:41.542 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T12:02:41.4661921+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:32:51.622 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T12:02:51.5467725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:33:01.719 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T12:03:01.6386775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:33:11.842 +05:30 [INF] Executed DbCommand (109ms) [Parameters=[@__now_0='2025-09-30T12:03:11.7325170+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:33:21.983 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T12:03:21.8532375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:33:23.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:33:23.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 19.8938ms
2025-09-30 17:33:23.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:33:23.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:33:23.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.1055ms
2025-09-30 17:33:23.824 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.5992ms
2025-09-30 17:33:23.935 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:33:24.028 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.7655ms
2025-09-30 17:33:32.103 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@__now_0='2025-09-30T12:03:31.9947523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:33:35.162 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:33:35.166 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 17:34:00.696 +05:30 [INF] Executed DbCommand (18,195ms) [Parameters=[@__now_0='2025-09-30T12:03:42.4993335+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:39:50.389 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 17:39:50.393 +05:30 [ERR] Failed executing DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T12:09:50.3189060+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:39:50.395 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 17:39:50.397 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 375235.1359ms
2025-09-30 17:39:50.449 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The connection was previously broken because of the following exception
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SyncReadWriteAdapter.ReadAsync(Stream stream, Memory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.PerformKeepAlive(Object state)
   at Npgsql.ThrowHelper.ThrowNpgsqlException(String message, Exception innerException)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserActionWithKeepAlive|280_1(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The connection was previously broken because of the following exception
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SyncReadWriteAdapter.ReadAsync(Stream stream, Memory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.PerformKeepAlive(Object state)
   at Npgsql.ThrowHelper.ThrowNpgsqlException(String message, Exception innerException)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserActionWithKeepAlive|280_1(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 17:39:50.496 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The connection was previously broken because of the following exception
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SyncReadWriteAdapter.ReadAsync(Stream stream, Memory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.PerformKeepAlive(Object state)
   at Npgsql.ThrowHelper.ThrowNpgsqlException(String message, Exception innerException)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserActionWithKeepAlive|280_1(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken)
2025-09-30 17:39:54.867 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:40:57.556 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 17:40:57.571 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 17:40:57.573 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 62706.0362ms
2025-09-30 17:40:57.655 +05:30 [ERR] An error occurred using the connection to database 'postgresql-database-jow4kcw0s8s8o8c0og4scok8' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-30 17:40:57.662 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 17:40:57.740 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken)
2025-09-30 17:41:12.178 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:42:35.809 +05:30 [INF] ApiKey was not authenticated. Failure message: Invalid API key.
2025-09-30 17:42:35.810 +05:30 [ERR] An error occurred using the connection to database 'postgresql-database-jow4kcw0s8s8o8c0og4scok8' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-30 17:42:35.810 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 17:42:35.813 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 17:42:35.814 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 83635.2143ms
2025-09-30 17:42:35.814 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 17:42:35.872 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken)
2025-09-30 17:42:53.945 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:12:45.8963900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:04.045 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T12:13:03.9609776+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:14.147 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T12:13:14.0650833+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:16.839 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:43:20.095 +05:30 [INF] ApiKey was not authenticated. Failure message: Invalid API key.
2025-09-30 17:43:20.096 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 17:43:20.097 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 17:43:20.098 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 3259.5224ms
2025-09-30 17:43:24.222 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__now_0='2025-09-30T12:13:24.1506769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:34.302 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T12:13:34.2273135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:44.382 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__now_0='2025-09-30T12:13:44.3126621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:43:54.465 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T12:13:54.3897242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:04.700 +05:30 [INF] Executed DbCommand (221ms) [Parameters=[@__now_0='2025-09-30T12:14:04.4786440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:14.784 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T12:14:14.7025128+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:24.865 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T12:14:24.7934796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:34.963 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T12:14:34.8832765+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:45.045 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T12:14:44.9662988+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:44:55.204 +05:30 [INF] Executed DbCommand (142ms) [Parameters=[@__now_0='2025-09-30T12:14:55.0612305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:45:05.305 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T12:15:05.2215193+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:45:06.350 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:46:35.915 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 17:46:35.966 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 17:46:35.983 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 17:46:37.208 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 17:46:37.944 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 17:46:37.967 +05:30 [INF] ClickLogWorker started
2025-09-30 17:46:38.171 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 17:46:38.172 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 17:46:38.174 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 17:46:38.175 +05:30 [INF] Hosting environment: Development
2025-09-30 17:46:38.176 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 17:46:39.015 +05:30 [INF] ClickLogWorker stopped
2025-09-30 17:46:42.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 17:46:42.575 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 224.3864ms
2025-09-30 17:46:42.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 17:46:42.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.5672ms
2025-09-30 17:46:42.686 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 17:46:42.722 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.4809ms
2025-09-30 17:46:42.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 17:46:43.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.0656ms
2025-09-30 17:46:46.293 +05:30 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 17:46:46.374 +05:30 [INF] Executed DbCommand (184ms) [Parameters=[@__cutoff_0='2025-09-23T12:16:36.0994708Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 17:46:48.088 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 17:46:48.226 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:46:48.345 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:46:48.368 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:46:48.370 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:46:48.902 +05:30 [INF] Received HTTP response headers after 529.2295ms - 401
2025-09-30 17:46:48.904 +05:30 [INF] End processing HTTP request after 537.6888ms - 401
2025-09-30 17:46:49.025 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:46:49.228 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:16:48.2337565Z"
2025-09-30 17:46:49.308 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:46:49.449 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:46:49.451 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 17:46:49.452 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 17:46:49.560 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 17:46:49.685 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 17:46:49.688 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:46:49.689 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 17:46:50.008 +05:30 [INF] Received HTTP response headers after 318.0141ms - 401
2025-09-30 17:46:50.010 +05:30 [INF] End processing HTTP request after 321.9196ms - 401
2025-09-30 17:46:50.126 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 17:46:50.222 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:16:49.5636030Z"
2025-09-30 17:46:50.224 +05:30 [INF] TemplateSyncWorker: sweep finished in 2236 ms; processed=3; next run ~"2025-09-30T18:16:47.9879163Z"
2025-09-30 17:46:51.648 +05:30 [INF] Executed DbCommand (215ms) [Parameters=[@__now_0='2025-09-30T12:16:42.9862867+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:47:01.755 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@__now_0='2025-09-30T12:17:01.6542405+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:47:04.715 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:47:04.719 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 17:48:03.512 +05:30 [INF] Executed DbCommand (50,582ms) [Parameters=[@__now_0='2025-09-30T12:17:11.7653335+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:48:03.518 +05:30 [INF] ApiKey was not authenticated. Failure message: Invalid API key.
2025-09-30 17:48:03.540 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 17:48:03.543 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 17:48:03.544 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 58829.3137ms
2025-09-30 17:48:13.667 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T12:18:13.5357629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:48:13.821 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:48:27.300 +05:30 [INF] Executed DbCommand (730ms) [Parameters=[@__now_0='2025-09-30T12:18:25.7251174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:48:47.507 +05:30 [INF] Executed DbCommand (2,071ms) [Parameters=[@__now_0='2025-09-30T12:18:44.5135319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:48:47.510 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:48:47.532 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 17:49:07.009 +05:30 [INF] Executed DbCommand (8,534ms) [Parameters=[@__now_0='2025-09-30T12:18:58.4652274+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:49:12.243 +05:30 [INF] [CustomAPI:"7b0810b5-ddbd-49fe-b342-84edc5ac1c65"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=625287680672035 to=********3746 template=1535990
2025-09-30 17:49:13.078 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 17:49:17.254 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 17:49:17.269 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 29732.3423ms
2025-09-30 17:49:17.270 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:49:17.276 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 63455.2703ms
2025-09-30 17:49:18.888 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T12:19:18.8139423+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:49:29.028 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T12:19:28.8981152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:49:39.139 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__now_0='2025-09-30T12:19:39.0312749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:49:49.224 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T12:19:49.1458188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:49:59.374 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@__now_0='2025-09-30T12:19:59.2299882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:50:09.492 +05:30 [INF] Executed DbCommand (110ms) [Parameters=[@__now_0='2025-09-30T12:20:09.3817245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:50:19.587 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:20:19.5011847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:50:29.732 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T12:20:29.5970738+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:50:39.863 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T12:20:39.7494894+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:50:49.952 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T12:20:49.8720475+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:51:00.091 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T12:20:59.9571613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:51:10.215 +05:30 [INF] Executed DbCommand (107ms) [Parameters=[@__now_0='2025-09-30T12:21:10.1071686+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:51:20.298 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T12:21:20.2259033+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:51:30.445 +05:30 [INF] Executed DbCommand (138ms) [Parameters=[@__now_0='2025-09-30T12:21:30.3064263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:51:31.017 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 17:51:38.278 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:51:38.280 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 17:51:58.156 +05:30 [INF] Executed DbCommand (1,129ms) [Parameters=[@__now_0='2025-09-30T12:21:44.8446487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:52:07.953 +05:30 [INF] [CustomAPI:"1854e032-e10f-4609-9207-697b7f8ba5d9"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=625287680672035 to=********3746 template=1535990
2025-09-30 17:52:10.852 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 17:53:08.309 +05:30 [INF] [CustomAPI:"1f73a47a-03bc-4777-b875-e3de6903d87b"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=625287680672035 to=********3746 template=1535990
2025-09-30 17:53:11.814 +05:30 [INF] Executed DbCommand (3,607ms) [Parameters=[@__now_0='2025-09-30T12:23:08.1513012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:53:11.947 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 17:53:37.992 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T12:23:37.9010771+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:53:38.201 +05:30 [INF] Executed DbCommand (148ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 17:53:49.107 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 17:53:49.133 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__now_0='2025-09-30T12:23:48.9178932+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 17:59:44.245 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 17:59:44.287 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 486005.7737ms
2025-09-30 17:59:44.292 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 17:59:44.294 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 493280.1142ms
2025-09-30 18:00:02.417 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T12:29:54.2605084+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:12.746 +05:30 [INF] Executed DbCommand (317ms) [Parameters=[@__now_0='2025-09-30T12:30:12.4283961+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:22.880 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T12:30:22.7615197+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:32.998 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__now_0='2025-09-30T12:30:32.8869023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:43.091 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T12:30:43.0134456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:53.188 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T12:30:53.1047597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:00:57.156 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 18:00:57.170 +05:30 [INF] ApiKey was not authenticated. Failure message: Invalid API key.
2025-09-30 18:00:57.174 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 18:00:57.176 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 18:00:57.178 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 34.703ms
2025-09-30 18:01:59.306 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 18:01:59.358 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 18:01:59.375 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 18:02:00.582 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 18:02:01.374 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 18:02:01.398 +05:30 [INF] ClickLogWorker started
2025-09-30 18:02:01.626 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 18:02:01.627 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 18:02:01.629 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 18:02:01.630 +05:30 [INF] Hosting environment: Development
2025-09-30 18:02:01.631 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 18:02:02.442 +05:30 [INF] ClickLogWorker stopped
2025-09-30 18:02:06.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 18:02:06.641 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 287.9968ms
2025-09-30 18:02:06.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 18:02:06.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.3177ms
2025-09-30 18:02:06.776 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 18:02:06.830 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.2512ms
2025-09-30 18:02:07.097 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 18:02:07.522 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 425.3331ms
2025-09-30 18:02:10.755 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 18:02:10.823 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[@__cutoff_0='2025-09-23T12:31:59.4871351Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 18:02:11.528 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 18:02:11.674 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:02:11.785 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:02:11.839 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:02:11.844 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:02:12.537 +05:30 [INF] Received HTTP response headers after 688.8593ms - 401
2025-09-30 18:02:12.540 +05:30 [INF] End processing HTTP request after 705.838ms - 401
2025-09-30 18:02:12.862 +05:30 [INF] Executed DbCommand (309ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:02:13.087 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:32:11.6889549Z"
2025-09-30 18:02:13.212 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:02:13.294 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:02:13.298 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 18:02:13.299 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 18:02:13.420 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:02:13.568 +05:30 [INF] Executed DbCommand (144ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:02:13.572 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:02:13.574 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:02:13.887 +05:30 [INF] Received HTTP response headers after 311.2814ms - 401
2025-09-30 18:02:13.889 +05:30 [INF] End processing HTTP request after 316.8781ms - 401
2025-09-30 18:02:13.984 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:02:14.227 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:32:13.4240623Z"
2025-09-30 18:02:14.230 +05:30 [INF] TemplateSyncWorker: sweep finished in 2816 ms; processed=3; next run ~"2025-09-30T18:32:11.4140720Z"
2025-09-30 18:02:14.680 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__now_0='2025-09-30T12:32:06.4131427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:02:15.624 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 18:02:15.630 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 18:02:15.794 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:02:15.823 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:02:28.765 +05:30 [INF] Executed DbCommand (187ms) [Parameters=[@__now_0='2025-09-30T12:32:28.5468357+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:02:56.163 +05:30 [INF] [CustomAPI:"15d38cab-175c-4dd4-8b19-f61a2b91aed1"] Begin send. biz="ce26ecfa-fc42-48f5-a39f-92feda8073c1" pnid=625287680672035 to=********3746 template=1535990
2025-09-30 18:02:57.485 +05:30 [INF] Executed DbCommand (1,380ms) [Parameters=[@__now_0='2025-09-30T12:32:56.1009427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:02:57.553 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='ce26ecfa-fc42-48f5-a39f-92feda8073c1', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:05:14.875 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 18:05:14.933 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 18:05:14.948 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 18:05:16.135 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 18:05:16.788 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 18:05:16.812 +05:30 [INF] ClickLogWorker started
2025-09-30 18:05:16.986 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 18:05:16.987 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 18:05:16.988 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 18:05:16.989 +05:30 [INF] Hosting environment: Development
2025-09-30 18:05:16.990 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 18:05:17.863 +05:30 [INF] ClickLogWorker stopped
2025-09-30 18:05:23.175 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 18:05:23.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 286.7779ms
2025-09-30 18:05:23.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 18:05:23.567 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.4474ms
2025-09-30 18:05:23.717 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 18:05:24.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 427.5597ms
2025-09-30 18:05:24.245 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 18:05:24.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 436.0633ms
2025-09-30 18:05:25.244 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 18:05:25.286 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__cutoff_0='2025-09-23T12:35:15.0733451Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 18:05:26.942 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 18:05:27.083 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:05:27.195 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:05:27.230 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:05:27.234 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:05:27.788 +05:30 [INF] Received HTTP response headers after 547.1554ms - 401
2025-09-30 18:05:27.794 +05:30 [INF] End processing HTTP request after 567.8693ms - 401
2025-09-30 18:05:28.043 +05:30 [INF] Executed DbCommand (237ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:05:28.200 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:35:27.0938665Z"
2025-09-30 18:05:28.286 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:05:28.438 +05:30 [INF] Executed DbCommand (147ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:05:28.443 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 18:05:28.445 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 18:05:28.528 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:05:28.607 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:05:28.612 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:05:28.614 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:05:28.918 +05:30 [INF] Received HTTP response headers after 302.8436ms - 401
2025-09-30 18:05:28.921 +05:30 [INF] End processing HTTP request after 308.9237ms - 401
2025-09-30 18:05:29.043 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:05:29.286 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:35:28.5337068Z"
2025-09-30 18:05:29.290 +05:30 [INF] TemplateSyncWorker: sweep finished in 2459 ms; processed=3; next run ~"2025-09-30T18:35:26.8304302Z"
2025-09-30 18:05:30.148 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T12:35:21.8343607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:05:34.158 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 344
2025-09-30 18:05:34.167 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 18:05:34.300 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:05:34.324 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:05:34.406 +05:30 [INF] [CustomAPI:"d93d6589-bf44-42f2-9b70-1ddf346c7e90"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=1535990
2025-09-30 18:05:42.456 +05:30 [INF] Executed DbCommand (147ms) [Parameters=[@__now_0='2025-09-30T12:35:42.3050903+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:05:42.560 +05:30 [INF] Executed DbCommand (194ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:06:02.717 +05:30 [INF] Executed DbCommand (2,228ms) [Parameters=[@__now_0='2025-09-30T12:35:57.0464780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:06:02.836 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:06:02.894 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:06:02.896 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:06:04.205 +05:30 [INF] Received HTTP response headers after 1307.2026ms - 200
2025-09-30 18:06:04.207 +05:30 [INF] End processing HTTP request after 1312.7011ms - 200
2025-09-30 18:06:37.164 +05:30 [INF] Executed DbCommand (23,785ms) [Parameters=[@__now_0='2025-09-30T12:36:13.3609468+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:06:37.253 +05:30 [INF] Executed DbCommand (107ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:06:55.760 +05:30 [INF] Executed DbCommand (5,882ms) [Parameters=[@__now_0='2025-09-30T12:36:49.8653716+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:06:55.854 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:06:55.858 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:06:55.859 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:06:56.310 +05:30 [INF] Received HTTP response headers after 447.9829ms - 200
2025-09-30 18:06:56.313 +05:30 [INF] End processing HTTP request after 455.004ms - 200
2025-09-30 18:07:46.572 +05:30 [INF] Executed DbCommand (3,929ms) [Parameters=[@__now_0='2025-09-30T12:37:42.6214785+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:07:46.676 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:08:34.207 +05:30 [INF] Executed DbCommand (10,023ms) [Parameters=[@__now_0='2025-09-30T12:38:24.1428596+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:09:06.430 +05:30 [INF] Executed DbCommand (13,207ms) [Parameters=[@__now_0='2025-09-30T12:38:53.2040583+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:09:34.606 +05:30 [INF] Executed DbCommand (2,681ms) [Parameters=[@__now_0='2025-09-30T12:39:31.8895802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:09:57.256 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:09:57.271 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:09:57.564 +05:30 [INF] Executed DbCommand (295ms) [Parameters=[@__now_0='2025-09-30T12:39:57.2623715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:09:58.583 +05:30 [INF] Received HTTP response headers after 1310.8344ms - 200
2025-09-30 18:09:58.585 +05:30 [INF] End processing HTTP request after 1329.4011ms - 200
2025-09-30 18:10:10.797 +05:30 [INF] Executed DbCommand (1,375ms) [Parameters=[@__now_0='2025-09-30T12:40:07.8925692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:10:23.126 +05:30 [INF] Executed DbCommand (215ms) [Parameters=[@__now_0='2025-09-30T12:40:22.6614088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:10:33.995 +05:30 [INF] Executed DbCommand (323ms) [Parameters=[@__now_0='2025-09-30T12:40:33.6699413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:10:45.817 +05:30 [INF] Executed DbCommand (446ms) [Parameters=[@__now_0='2025-09-30T12:40:45.3585654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:12:56.646 +05:30 [INF] Executed DbCommand (103,026ms) [Parameters=[@__now_0='2025-09-30T12:41:13.1044254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:12:56.656 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:12:56.671 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 442339.5101ms
2025-09-30 18:12:56.673 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:12:56.679 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 442520.696ms
2025-09-30 18:13:06.738 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T12:43:06.6614859+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:13:16.896 +05:30 [INF] Executed DbCommand (146ms) [Parameters=[@__now_0='2025-09-30T12:43:16.7494982+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:13:26.981 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T12:43:26.9068301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:13:37.074 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T12:43:36.9916233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:13:46.817 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 18:13:46.835 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:13:46.837 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:13:46.844 +05:30 [INF] [CustomAPI:"c7c836f7-4b73-47b4-b358-67389c66710a"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=vaji_amrit_order_deliver
2025-09-30 18:13:46.926 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:14:07.621 +05:30 [INF] Executed DbCommand (152ms) [Parameters=[@__now_0='2025-09-30T12:44:07.4635471+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:14:07.621 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:14:07.625 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:14:07.625 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:14:08.686 +05:30 [INF] Received HTTP response headers after 1060.098ms - 200
2025-09-30 18:14:08.688 +05:30 [INF] End processing HTTP request after 1062.881ms - 200
2025-09-30 18:14:22.892 +05:30 [INF] Executed DbCommand (868ms) [Parameters=[@__now_0='2025-09-30T12:44:18.2932678+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:14:44.589 +05:30 [INF] Executed DbCommand (4,243ms) [Parameters=[@__now_0='2025-09-30T12:44:40.3403567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:14:58.477 +05:30 [INF] Executed DbCommand (1,841ms) [Parameters=[@__now_0='2025-09-30T12:44:54.8243474+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:15:11.280 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 18:15:11.284 +05:30 [INF] [CustomAPI:"c7c836f7-4b73-47b4-b358-67389c66710a"] Sending vaji_amrit_order_deliver to ********3746 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 18:15:11.383 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 18:15:11.472 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 18:15:11.493 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 18:15:16.907 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:15:16.909 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:15:17.591 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T12:45:08.4938009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:15:17.700 +05:30 [INF] Received HTTP response headers after 789.6241ms - 400
2025-09-30 18:15:17.701 +05:30 [INF] End processing HTTP request after 793.7287ms - 400
2025-09-30 18:16:09.130 +05:30 [WRN] Pinnacle send failed (HTTP 400): {"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AbfNu2Jy0X9PjIOIJXU8Kys"}}
2025-09-30 18:16:09.293 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__now_0='2025-09-30T12:46:09.1442075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:16:09.433 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@p0='517a8831-78aa-484a-a301-a5dcd29869ee', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T12:46:09.1650136Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21=NULL, @p22='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AbfNu2Jy0X9PjIOIJXU8Kys"}}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 18:16:09.561 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@__messageLogId_0='517a8831-78aa-484a-a301-a5dcd29869ee', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 18:16:09.673 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@p0='c5bfe617-fe10-4085-a879-9135f5c28c6c', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T12:46:09.5644162+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='517a8831-78aa-484a-a301-a5dcd29869ee' (Nullable = true), @p8='2025-09-30T12:46:09.5647222+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AbfNu2Jy0X9PjIOIJXU8Kys"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 18:16:09.677 +05:30 [INF] [CustomAPI:"c7c836f7-4b73-47b4-b358-67389c66710a"] Done. success=false msgId=null flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 18:16:09.679 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:16:09.681 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 142841.6979ms
2025-09-30 18:16:09.682 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:16:09.684 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 142866.6217ms
2025-09-30 18:16:12.169 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 18:16:12.174 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:16:12.175 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:16:12.185 +05:30 [INF] [CustomAPI:"778e455c-e4da-400b-bb4b-f993cead3bf5"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=vaji_amrit_order_deliver
2025-09-30 18:16:12.276 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:16:12.359 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:16:12.362 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:16:12.363 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:16:13.601 +05:30 [INF] Received HTTP response headers after 1237.064ms - 200
2025-09-30 18:16:13.603 +05:30 [INF] End processing HTTP request after 1240.861ms - 200
2025-09-30 18:16:15.702 +05:30 [INF] Executed DbCommand (185ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 18:16:15.705 +05:30 [INF] [CustomAPI:"778e455c-e4da-400b-bb4b-f993cead3bf5"] Sending vaji_amrit_order_deliver to ********3746 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 18:16:15.789 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 18:16:15.879 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 18:16:15.883 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 18:16:16.293 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:16:16.295 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:16:16.817 +05:30 [INF] Received HTTP response headers after 520.9981ms - 400
2025-09-30 18:16:16.818 +05:30 [INF] End processing HTTP request after 525.1926ms - 400
2025-09-30 18:16:16.820 +05:30 [WRN] Pinnacle send failed (HTTP 400): {"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AZGaN-snHQ-_XHedcx_PNYa"}}
2025-09-30 18:16:16.900 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@p0='abe097e1-3a01-46b1-b2b0-1f56307fbede', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T12:46:16.8217029Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21=NULL, @p22='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AZGaN-snHQ-_XHedcx_PNYa"}}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 18:16:16.986 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__messageLogId_0='abe097e1-3a01-46b1-b2b0-1f56307fbede', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 18:16:17.082 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@p0='c3383dc9-6056-4ca1-913b-2f55d9015770', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T12:46:16.9888541+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='abe097e1-3a01-46b1-b2b0-1f56307fbede' (Nullable = true), @p8='2025-09-30T12:46:16.9888550+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AZGaN-snHQ-_XHedcx_PNYa"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 18:16:17.085 +05:30 [INF] [CustomAPI:"778e455c-e4da-400b-bb4b-f993cead3bf5"] Done. success=false msgId=null flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 18:16:17.088 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:16:17.090 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 4912.608ms
2025-09-30 18:16:17.091 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:16:17.093 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 4924.2888ms
2025-09-30 18:16:19.399 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T12:46:19.3105706+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:16:29.482 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T12:46:29.4013085+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:16:39.570 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__now_0='2025-09-30T12:46:39.4983794+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:16:49.727 +05:30 [INF] Executed DbCommand (144ms) [Parameters=[@__now_0='2025-09-30T12:46:49.5820356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:16:59.818 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T12:46:59.7418897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:17:09.964 +05:30 [INF] Executed DbCommand (139ms) [Parameters=[@__now_0='2025-09-30T12:47:09.8241640+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:17:20.566 +05:30 [INF] Executed DbCommand (592ms) [Parameters=[@__now_0='2025-09-30T12:47:19.9733296+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:17:30.657 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:47:30.5719555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:17:40.754 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T12:47:40.6660652+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:17:50.839 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T12:47:50.7588156+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:18:00.932 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T12:48:00.8510720+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:18:11.019 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T12:48:10.9413305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:22:03.363 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 18:22:03.429 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 18:22:03.451 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 18:22:04.771 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 18:22:05.661 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 18:22:05.685 +05:30 [INF] ClickLogWorker started
2025-09-30 18:22:05.869 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 18:22:05.870 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 18:22:05.871 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 18:22:05.872 +05:30 [INF] Hosting environment: Development
2025-09-30 18:22:05.872 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 18:22:06.724 +05:30 [INF] ClickLogWorker stopped
2025-09-30 18:22:13.794 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 18:22:13.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 206.994ms
2025-09-30 18:22:14.025 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 18:22:14.033 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.6143ms
2025-09-30 18:22:14.086 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 18:22:14.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.932ms
2025-09-30 18:22:14.319 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 18:22:14.327 +05:30 [INF] Executed DbCommand (193ms) [Parameters=[@__cutoff_0='2025-09-23T12:52:03.6100231Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 18:22:14.327 +05:30 [INF] Executed DbCommand (197ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 18:22:14.683 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 364.021ms
2025-09-30 18:22:15.809 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 18:22:15.951 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:22:16.056 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:22:16.079 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:22:16.081 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:22:16.587 +05:30 [INF] Received HTTP response headers after 503.3343ms - 401
2025-09-30 18:22:16.589 +05:30 [INF] End processing HTTP request after 513.244ms - 401
2025-09-30 18:22:16.755 +05:30 [INF] Executed DbCommand (158ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:22:16.836 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:52:15.9595824Z"
2025-09-30 18:22:16.944 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:22:17.025 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:22:17.028 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 18:22:17.028 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 18:22:17.123 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:22:17.224 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:22:17.229 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:22:17.231 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:22:17.548 +05:30 [INF] Received HTTP response headers after 310.3565ms - 401
2025-09-30 18:22:17.550 +05:30 [INF] End processing HTTP request after 321.0278ms - 401
2025-09-30 18:22:17.655 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:22:17.762 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:52:17.1260638Z"
2025-09-30 18:22:17.765 +05:30 [INF] TemplateSyncWorker: sweep finished in 2065 ms; processed=3; next run ~"2025-09-30T18:52:15.7001131Z"
2025-09-30 18:22:18.932 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@__now_0='2025-09-30T12:52:10.7039716+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:22:29.071 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T12:52:28.9413137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:22:39.184 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__now_0='2025-09-30T12:52:39.0775814+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:22:49.289 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T12:52:49.1988163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:22:59.381 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T12:52:59.2961300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:09.520 +05:30 [INF] Executed DbCommand (132ms) [Parameters=[@__now_0='2025-09-30T12:53:09.3872162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:19.623 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:53:19.5369123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:29.727 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T12:53:29.6403704+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:39.843 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='2025-09-30T12:53:39.7398890+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:50.018 +05:30 [INF] Executed DbCommand (168ms) [Parameters=[@__now_0='2025-09-30T12:53:49.8490760+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:23:59.927 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 18:23:59.933 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 18:24:00.049 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:24:00.069 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:24:00.105 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T12:54:00.0223167+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:24:00.119 +05:30 [INF] [CustomAPI:"369a37f3-c0ea-4283-9e6f-070462b65287"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=vaji_amrit_order_deliver
2025-09-30 18:24:00.223 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:24:00.319 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:24:00.358 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:24:00.360 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:24:01.516 +05:30 [INF] Received HTTP response headers after 1155.145ms - 200
2025-09-30 18:24:01.517 +05:30 [INF] End processing HTTP request after 1159.4351ms - 200
2025-09-30 18:24:10.243 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T12:54:10.1133367+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:26:02.129 +05:30 [INF] Executed DbCommand (1,954ms) [Parameters=[@__now_0='2025-09-30T12:56:00.1717175+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:26:02.200 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 18:26:02.204 +05:30 [INF] [CustomAPI:"369a37f3-c0ea-4283-9e6f-070462b65287"] Sending vaji_amrit_order_deliver to ********3746 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 18:26:02.398 +05:30 [INF] Executed DbCommand (176ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 18:26:02.507 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 18:26:02.531 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 18:26:03.547 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:26:03.549 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:26:04.400 +05:30 [INF] Received HTTP response headers after 849.0665ms - 400
2025-09-30 18:26:04.401 +05:30 [INF] End processing HTTP request after 853.9554ms - 400
2025-09-30 18:26:04.403 +05:30 [WRN] Pinnacle send failed (HTTP 400): {"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AOdk78r9jVtOE1cd8ssBeBx"}}
2025-09-30 18:26:04.866 +05:30 [INF] Executed DbCommand (313ms) [Parameters=[@p0='a1640bb2-0997-47c4-8961-2c40f8c8c50c', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T12:56:04.4055227Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21=NULL, @p22='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AOdk78r9jVtOE1cd8ssBeBx"}}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 18:26:05.231 +05:30 [INF] Executed DbCommand (333ms) [Parameters=[@__messageLogId_0='a1640bb2-0997-47c4-8961-2c40f8c8c50c', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 18:26:05.981 +05:30 [INF] Executed DbCommand (713ms) [Parameters=[@p0='fd7b2d9b-1beb-4ec6-9339-198322f74226', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T12:56:05.2349786+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='a1640bb2-0997-47c4-8961-2c40f8c8c50c' (Nullable = true), @p8='2025-09-30T12:56:05.2354629+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"AOdk78r9jVtOE1cd8ssBeBx"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 18:26:05.985 +05:30 [INF] [CustomAPI:"369a37f3-c0ea-4283-9e6f-070462b65287"] Done. success=false msgId=null flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 18:26:05.992 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:26:06.005 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 125932.4197ms
2025-09-30 18:26:06.007 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:26:06.013 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 126085.4474ms
2025-09-30 18:26:19.380 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 18:26:19.472 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 18:26:19.492 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 18:26:20.676 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 18:26:21.362 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 18:26:21.382 +05:30 [INF] ClickLogWorker started
2025-09-30 18:26:21.540 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 18:26:21.541 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 18:26:21.542 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 18:26:21.543 +05:30 [INF] Hosting environment: Development
2025-09-30 18:26:21.544 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 18:26:22.418 +05:30 [INF] ClickLogWorker stopped
2025-09-30 18:26:25.745 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 18:26:25.931 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 194.9287ms
2025-09-30 18:26:25.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 18:26:25.972 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.7594ms
2025-09-30 18:26:26.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 18:26:26.102 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1307ms
2025-09-30 18:26:26.354 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 18:26:26.770 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 416.4441ms
2025-09-30 18:26:30.065 +05:30 [INF] Executed DbCommand (212ms) [Parameters=[@__cutoff_0='2025-09-23T12:56:19.6521792Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 18:26:30.065 +05:30 [INF] Executed DbCommand (214ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 18:26:31.574 +05:30 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 18:26:31.675 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:26:31.785 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:26:31.826 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:26:31.829 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:26:32.428 +05:30 [INF] Received HTTP response headers after 596.4542ms - 401
2025-09-30 18:26:32.430 +05:30 [INF] End processing HTTP request after 606.7913ms - 401
2025-09-30 18:26:32.542 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:26:32.756 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:56:31.6870111Z"
2025-09-30 18:26:32.855 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:26:32.960 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:26:32.962 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 18:26:32.963 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 18:26:33.095 +05:30 [INF] Executed DbCommand (126ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:26:33.201 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:26:33.203 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:26:33.205 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:26:33.494 +05:30 [INF] Received HTTP response headers after 288.4212ms - 401
2025-09-30 18:26:33.497 +05:30 [INF] End processing HTTP request after 293.5261ms - 401
2025-09-30 18:26:33.581 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:26:33.679 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T12:56:33.0983521Z"
2025-09-30 18:26:33.680 +05:30 [INF] TemplateSyncWorker: sweep finished in 2284 ms; processed=3; next run ~"2025-09-30T18:56:31.3959840Z"
2025-09-30 18:26:34.799 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T12:56:26.3977399+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:26:44.974 +05:30 [INF] Executed DbCommand (160ms) [Parameters=[@__now_0='2025-09-30T12:56:44.8134940+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:26:51.528 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 18:26:51.532 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 18:26:51.628 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:26:51.646 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:26:51.693 +05:30 [INF] [CustomAPI:"a679f5c7-6e66-4a4f-a89e-f9450d9e8aa8"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=vaji_amrit_order_deliver
2025-09-30 18:26:51.822 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:26:51.916 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:26:51.945 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:26:51.946 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:26:53.106 +05:30 [INF] Received HTTP response headers after 1158.5716ms - 200
2025-09-30 18:26:53.107 +05:30 [INF] End processing HTTP request after 1162.3052ms - 200
2025-09-30 18:26:59.398 +05:30 [INF] Executed DbCommand (1,404ms) [Parameters=[@__now_0='2025-09-30T12:56:57.9930871+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:26:59.534 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 18:26:59.538 +05:30 [INF] [CustomAPI:"a679f5c7-6e66-4a4f-a89e-f9450d9e8aa8"] Sending vaji_amrit_order_deliver to ********3746 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 18:26:59.695 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 18:26:59.795 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 18:26:59.812 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 18:27:00.680 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:27:00.681 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:27:01.426 +05:30 [INF] Received HTTP response headers after 744.0615ms - 400
2025-09-30 18:27:01.427 +05:30 [INF] End processing HTTP request after 747.5821ms - 400
2025-09-30 18:27:01.429 +05:30 [WRN] Pinnacle send failed (HTTP 400): {"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"A411xz5MjYfyHdHamf1Igt9"}}
2025-09-30 18:27:01.693 +05:30 [INF] Executed DbCommand (126ms) [Parameters=[@p0='9a0ab5d1-724d-4d2c-a304-34dc3793d5ad', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T12:57:01.4308617Z' (DbType = DateTime), @p11='Bad Request', @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17=NULL, @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21=NULL, @p22='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"A411xz5MjYfyHdHamf1Igt9"}}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27=NULL (DbType = DateTime), @p28='custom_api', @p29='Failed' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 18:27:01.824 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__messageLogId_0='9a0ab5d1-724d-4d2c-a304-34dc3793d5ad', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 18:27:02.022 +05:30 [INF] Executed DbCommand (170ms) [Parameters=[@p0='10714304-b27e-40d9-8964-ed3c50a8d16a', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T12:57:01.8270303+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='9a0ab5d1-724d-4d2c-a304-34dc3793d5ad' (Nullable = true), @p8='2025-09-30T12:57:01.8273420+00:00' (DbType = DateTime), @p9='{"error":{"message":"(#100) Param template['language'] must be a JSON object.","type":"OAuthException","code":100,"fbtrace_id":"A411xz5MjYfyHdHamf1Igt9"}}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 18:27:02.025 +05:30 [INF] [CustomAPI:"a679f5c7-6e66-4a4f-a89e-f9450d9e8aa8"] Done. success=false msgId=null flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 18:27:02.031 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:27:02.040 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 10390.0928ms
2025-09-30 18:27:02.042 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:27:02.047 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 10518.1696ms
2025-09-30 18:27:09.574 +05:30 [INF] Executed DbCommand (172ms) [Parameters=[@__now_0='2025-09-30T12:57:09.4023397+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:27:19.666 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T12:57:19.5789629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:27:29.789 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__now_0='2025-09-30T12:57:29.6729694+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:27:39.975 +05:30 [INF] Executed DbCommand (175ms) [Parameters=[@__now_0='2025-09-30T12:57:39.7999402+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:27:51.043 +05:30 [INF] Executed DbCommand (1,066ms) [Parameters=[@__now_0='2025-09-30T12:57:49.9769645+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:01.279 +05:30 [INF] Executed DbCommand (239ms) [Parameters=[@__now_0='2025-09-30T12:58:01.0399287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:11.584 +05:30 [INF] Executed DbCommand (293ms) [Parameters=[@__now_0='2025-09-30T12:58:11.2899185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:22.406 +05:30 [INF] Executed DbCommand (808ms) [Parameters=[@__now_0='2025-09-30T12:58:21.5979948+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:32.618 +05:30 [INF] Executed DbCommand (198ms) [Parameters=[@__now_0='2025-09-30T12:58:32.4199992+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:43.189 +05:30 [INF] Executed DbCommand (562ms) [Parameters=[@__now_0='2025-09-30T12:58:42.6260286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:28:53.989 +05:30 [INF] Executed DbCommand (797ms) [Parameters=[@__now_0='2025-09-30T12:58:53.1921370+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:04.439 +05:30 [INF] Executed DbCommand (444ms) [Parameters=[@__now_0='2025-09-30T12:59:03.9950550+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:14.585 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__now_0='2025-09-30T12:59:14.4484783+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:24.769 +05:30 [INF] Executed DbCommand (170ms) [Parameters=[@__now_0='2025-09-30T12:59:24.5989046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:35.031 +05:30 [INF] Executed DbCommand (251ms) [Parameters=[@__now_0='2025-09-30T12:59:34.7789838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:45.485 +05:30 [INF] Executed DbCommand (450ms) [Parameters=[@__now_0='2025-09-30T12:59:45.0351801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:29:55.641 +05:30 [INF] Executed DbCommand (140ms) [Parameters=[@__now_0='2025-09-30T12:59:55.5003865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:05.978 +05:30 [INF] Executed DbCommand (329ms) [Parameters=[@__now_0='2025-09-30T13:00:05.6492051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:16.156 +05:30 [INF] Executed DbCommand (163ms) [Parameters=[@__now_0='2025-09-30T13:00:15.9930969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:26.385 +05:30 [INF] Executed DbCommand (201ms) [Parameters=[@__now_0='2025-09-30T13:00:26.1781336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:36.642 +05:30 [INF] Executed DbCommand (199ms) [Parameters=[@__now_0='2025-09-30T13:00:36.4427902+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:47.812 +05:30 [INF] Executed DbCommand (1,164ms) [Parameters=[@__now_0='2025-09-30T13:00:46.6478813+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:30:58.127 +05:30 [INF] Executed DbCommand (306ms) [Parameters=[@__now_0='2025-09-30T13:00:57.8205131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:31:08.366 +05:30 [INF] Executed DbCommand (230ms) [Parameters=[@__now_0='2025-09-30T13:01:08.1357361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:31:18.830 +05:30 [INF] Executed DbCommand (450ms) [Parameters=[@__now_0='2025-09-30T13:01:18.3790602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:31:29.060 +05:30 [INF] Executed DbCommand (231ms) [Parameters=[@__now_0='2025-09-30T13:01:28.8275536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:31:55.528 +05:30 [ERR] An error occurred using the connection to database 'postgresql-database-jow4kcw0s8s8o8c0og4scok8' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-30 18:31:55.592 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 18:31:55.731 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
2025-09-30 18:32:17.578 +05:30 [INF] Executed DbCommand (278ms) [Parameters=[@__now_0='2025-09-30T13:02:05.7614177+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:32:27.810 +05:30 [INF] Executed DbCommand (218ms) [Parameters=[@__now_0='2025-09-30T13:02:27.5910182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:32:38.348 +05:30 [INF] Executed DbCommand (526ms) [Parameters=[@__now_0='2025-09-30T13:02:37.8218335+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:32:49.838 +05:30 [INF] Executed DbCommand (1,480ms) [Parameters=[@__now_0='2025-09-30T13:02:48.3562432+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:00.754 +05:30 [INF] Executed DbCommand (905ms) [Parameters=[@__now_0='2025-09-30T13:02:59.8484213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:11.149 +05:30 [INF] Executed DbCommand (380ms) [Parameters=[@__now_0='2025-09-30T13:03:10.7677883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:21.266 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@__now_0='2025-09-30T13:03:21.1690057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:31.423 +05:30 [INF] Executed DbCommand (144ms) [Parameters=[@__now_0='2025-09-30T13:03:31.2776226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:41.546 +05:30 [INF] Executed DbCommand (112ms) [Parameters=[@__now_0='2025-09-30T13:03:41.4329106+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:33:51.697 +05:30 [INF] Executed DbCommand (141ms) [Parameters=[@__now_0='2025-09-30T13:03:51.5550051+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:07.312 +05:30 [INF] Executed DbCommand (5,599ms) [Parameters=[@__now_0='2025-09-30T13:04:01.7119461+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:17.407 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T13:04:17.3239589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:27.557 +05:30 [INF] Executed DbCommand (145ms) [Parameters=[@__now_0='2025-09-30T13:04:27.4117416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:37.677 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='2025-09-30T13:04:37.5731401+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:47.813 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__now_0='2025-09-30T13:04:47.6931232+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:34:57.933 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__now_0='2025-09-30T13:04:57.8270195+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:35:08.089 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T13:05:07.9550430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:35:18.227 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T13:05:18.1024984+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:35:50.210 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 18:35:50.265 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 18:35:50.283 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 18:35:51.592 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 18:35:52.471 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 18:35:52.489 +05:30 [INF] ClickLogWorker started
2025-09-30 18:35:52.775 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 18:35:52.776 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 18:35:52.778 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 18:35:52.780 +05:30 [INF] Hosting environment: Development
2025-09-30 18:35:52.781 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 18:35:53.554 +05:30 [INF] ClickLogWorker stopped
2025-09-30 18:35:58.508 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 18:35:58.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 302.5955ms
2025-09-30 18:35:58.982 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 18:35:58.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 18:35:59.036 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 53.0268ms
2025-09-30 18:35:59.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.0404ms
2025-09-30 18:35:59.290 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 18:35:59.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 690.8357ms
2025-09-30 18:36:01.659 +05:30 [INF] Executed DbCommand (160ms) [Parameters=[@__cutoff_0='2025-09-23T13:05:50.4224575Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 18:36:01.659 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 18:36:03.182 +05:30 [INF] Executed DbCommand (216ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 18:36:03.491 +05:30 [INF] Executed DbCommand (177ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:36:03.609 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:36:03.648 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:36:03.652 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:36:04.329 +05:30 [INF] Received HTTP response headers after 673.47ms - 401
2025-09-30 18:36:04.332 +05:30 [INF] End processing HTTP request after 688.5542ms - 401
2025-09-30 18:36:04.505 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:36:04.663 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T13:06:03.5122507Z"
2025-09-30 18:36:04.819 +05:30 [INF] Executed DbCommand (147ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:36:05.008 +05:30 [INF] Executed DbCommand (186ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:36:05.011 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 18:36:05.016 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 18:36:05.115 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 18:36:05.229 +05:30 [INF] Executed DbCommand (109ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 18:36:05.233 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:36:05.234 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 18:36:05.486 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 18:36:05.491 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 18:36:05.542 +05:30 [INF] Received HTTP response headers after 306.7727ms - 401
2025-09-30 18:36:05.546 +05:30 [INF] End processing HTTP request after 313.5505ms - 401
2025-09-30 18:36:05.666 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:36:05.697 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 18:36:05.737 +05:30 [INF] Executed DbCommand (186ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 18:36:05.743 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T13:06:05.1196050Z"
2025-09-30 18:36:05.746 +05:30 [INF] TemplateSyncWorker: sweep finished in 2946 ms; processed=3; next run ~"2025-09-30T19:06:02.7994074Z"
2025-09-30 18:36:05.776 +05:30 [INF] [CustomAPI:"69f8bbb3-a4a8-4c92-8ee4-e54e981b67fe"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********3746 template=vaji_amrit_order_deliver
2025-09-30 18:36:06.014 +05:30 [INF] Executed DbCommand (213ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__8__locals1_req_PhoneNumberId_1='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 18:36:06.017 +05:30 [INF] Executed DbCommand (176ms) [Parameters=[@__now_0='2025-09-30T13:05:57.5006516+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:36:06.136 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 18:36:06.186 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:36:06.188 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:36:07.294 +05:30 [INF] Received HTTP response headers after 1104.9507ms - 200
2025-09-30 18:36:07.296 +05:30 [INF] End processing HTTP request after 1109.6964ms - 200
2025-09-30 18:36:23.972 +05:30 [INF] Executed DbCommand (2,606ms) [Parameters=[@__now_0='2025-09-30T13:06:16.3838806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:36:30.010 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__8__locals1_req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__8__locals1_req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 18:36:30.016 +05:30 [INF] [CustomAPI:"69f8bbb3-a4a8-4c92-8ee4-e54e981b67fe"] Sending vaji_amrit_order_deliver to ********3746 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 18:36:30.215 +05:30 [INF] Executed DbCommand (178ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 18:36:30.420 +05:30 [INF] Executed DbCommand (195ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 18:36:30.455 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 18:36:33.124 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:36:33.127 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 18:36:35.141 +05:30 [INF] Received HTTP response headers after 2012.3957ms - 200
2025-09-30 18:36:35.143 +05:30 [INF] End processing HTTP request after 2019.2589ms - 200
2025-09-30 18:36:38.817 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__now_0='2025-09-30T13:06:38.7030101+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:36:39.128 +05:30 [INF] Executed DbCommand (149ms) [Parameters=[@p0='83fe6816-25dc-46f2-9222-9248c2a40cac', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T13:06:38.7083373Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA==","message_status":"accepted"}]}', @p23='919990033746' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T13:06:38.7083373Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 18:36:39.329 +05:30 [INF] Executed DbCommand (144ms) [Parameters=[@__messageLogId_0='83fe6816-25dc-46f2-9222-9248c2a40cac', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 18:36:39.535 +05:30 [INF] Executed DbCommand (155ms) [Parameters=[@p0='8f922890-d705-4e85-9dca-6d3c48891d10', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T13:06:39.3341759+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='83fe6816-25dc-46f2-9222-9248c2a40cac' (Nullable = true), @p8='2025-09-30T13:06:39.3348851+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"919990033746","wa_id":"919990033746"}],"messages":[{"id":"wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13='wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 18:36:39.541 +05:30 [INF] [CustomAPI:"69f8bbb3-a4a8-4c92-8ee4-e54e981b67fe"] Done. success=true msgId=wamid.HBgMOTE5OTkwMDMzNzQ2FQIAERgSMjRENjUwOUFFQzhGMUI5QkZBAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 18:36:39.555 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 18:36:39.584 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 33880.3578ms
2025-09-30 18:36:39.587 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 18:36:39.596 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 200 null application/json; charset=utf-8 34110.0519ms
2025-09-30 18:36:48.974 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@__now_0='2025-09-30T13:06:48.8301569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:36:59.340 +05:30 [INF] Executed DbCommand (358ms) [Parameters=[@__now_0='2025-09-30T13:06:58.9807724+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:37:09.538 +05:30 [INF] Executed DbCommand (184ms) [Parameters=[@__now_0='2025-09-30T13:07:09.3521904+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:37:19.655 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T13:07:19.5526389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:37:29.792 +05:30 [INF] Executed DbCommand (128ms) [Parameters=[@__now_0='2025-09-30T13:07:29.6631664+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:37:40.053 +05:30 [INF] Executed DbCommand (248ms) [Parameters=[@__now_0='2025-09-30T13:07:39.8043762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:37:50.301 +05:30 [INF] Executed DbCommand (230ms) [Parameters=[@__now_0='2025-09-30T13:07:50.0696427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:38:00.795 +05:30 [INF] Executed DbCommand (489ms) [Parameters=[@__now_0='2025-09-30T13:08:00.3052672+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:38:10.895 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T13:08:10.8043656+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:38:21.116 +05:30 [INF] Executed DbCommand (213ms) [Parameters=[@__now_0='2025-09-30T13:08:20.9027652+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:38:31.364 +05:30 [INF] Executed DbCommand (238ms) [Parameters=[@__now_0='2025-09-30T13:08:31.1250039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 18:38:41.567 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[@__now_0='2025-09-30T13:08:41.3762344+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:06:43.470 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 19:06:43.541 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 19:06:43.561 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 19:06:44.891 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 19:06:45.662 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 19:06:45.684 +05:30 [INF] ClickLogWorker started
2025-09-30 19:06:45.928 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 19:06:45.929 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 19:06:45.930 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 19:06:45.931 +05:30 [INF] Hosting environment: Development
2025-09-30 19:06:45.932 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 19:06:46.748 +05:30 [INF] ClickLogWorker stopped
2025-09-30 19:06:52.310 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 19:06:52.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 170.0442ms
2025-09-30 19:06:52.527 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 19:06:52.534 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.152ms
2025-09-30 19:06:52.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 19:06:52.600 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8075ms
2025-09-30 19:06:52.794 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 19:06:53.032 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.6986ms
2025-09-30 19:06:54.098 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 19:06:54.114 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__cutoff_0='2025-09-23T13:36:43.7522610Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 19:06:55.800 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 19:06:55.930 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:06:56.035 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:06:56.061 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 19:06:56.064 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 19:06:56.716 +05:30 [INF] Received HTTP response headers after 648.4026ms - 401
2025-09-30 19:06:56.718 +05:30 [INF] End processing HTTP request after 659.0045ms - 401
2025-09-30 19:06:57.891 +05:30 [INF] Executed DbCommand (1,167ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 19:06:58.111 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T13:36:55.9399906Z"
2025-09-30 19:06:58.212 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:06:58.294 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:06:58.297 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 19:06:58.299 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 19:06:58.410 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:06:58.499 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:06:58.502 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 19:06:58.504 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 19:06:59.652 +05:30 [INF] Received HTTP response headers after 1146.3463ms - 401
2025-09-30 19:06:59.653 +05:30 [INF] End processing HTTP request after 1151.3553ms - 401
2025-09-30 19:07:00.238 +05:30 [INF] Executed DbCommand (583ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 19:07:00.279 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T13:36:58.4131289Z"
2025-09-30 19:07:00.282 +05:30 [INF] TemplateSyncWorker: sweep finished in 4587 ms; processed=3; next run ~"2025-09-30T19:36:55.6945212Z"
2025-09-30 19:07:00.453 +05:30 [INF] Executed DbCommand (187ms) [Parameters=[@__now_0='2025-09-30T13:36:50.6948186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:07:10.533 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T13:37:10.4575768+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:07:20.631 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T13:37:20.5412445+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:07:30.711 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T13:37:30.6375406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:07:40.790 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T13:37:40.7147702+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:07:50.871 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__now_0='2025-09-30T13:37:50.8009117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:00.949 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T13:38:00.8759226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:11.048 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T13:38:10.9632254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:13.993 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 361
2025-09-30 19:08:13.997 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 19:08:14.079 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 19:08:14.082 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 19:08:14.083 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 90.808ms
2025-09-30 19:08:21.147 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T13:38:21.0647225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:31.722 +05:30 [INF] Executed DbCommand (562ms) [Parameters=[@__now_0='2025-09-30T13:38:31.1593391+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:41.806 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T13:38:41.7350311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:08:51.915 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T13:38:51.8259562+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:01.997 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T13:39:01.9186131+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:12.092 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T13:39:12.0095934+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:22.195 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T13:39:22.1113079+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:32.287 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T13:39:32.2064818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:42.379 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T13:39:42.2898927+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:09:52.477 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__now_0='2025-09-30T13:39:52.3947761+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:03.068 +05:30 [INF] Executed DbCommand (576ms) [Parameters=[@__now_0='2025-09-30T13:40:02.4903048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:13.165 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T13:40:13.0845438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:23.263 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T13:40:23.1710524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:33.362 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__now_0='2025-09-30T13:40:33.2728822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:43.451 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T13:40:43.3704050+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:10:50.908 +05:30 [INF] Request starting HTTP/1.1 GET http://d0463a670abe.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=2126911516&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - null null
2025-09-30 19:10:50.925 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 19:10:50.943 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 19:10:50.963 +05:30 [INF] ✅ WhatsApp webhook verified successfully.
2025-09-30 19:10:50.969 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-09-30 19:10:50.974 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 26.5414ms
2025-09-30 19:10:50.975 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 19:10:50.977 +05:30 [INF] Request finished HTTP/1.1 GET http://d0463a670abe.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=2126911516&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - 200 null text/plain; charset=utf-8 69.3143ms
2025-09-30 19:10:53.553 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T13:40:53.4611037+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:11:03.633 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T13:41:03.5557190+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:11:13.758 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__now_0='2025-09-30T13:41:13.6471872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:11:24.019 +05:30 [INF] Executed DbCommand (247ms) [Parameters=[@__now_0='2025-09-30T13:41:23.7719286+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:11:34.266 +05:30 [INF] Executed DbCommand (235ms) [Parameters=[@__now_0='2025-09-30T13:41:34.0306721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:11:44.978 +05:30 [INF] Executed DbCommand (704ms) [Parameters=[@__now_0='2025-09-30T13:41:44.2725262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:03.239 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T13:41:54.9854880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:13.355 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T13:42:13.2537373+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:23.438 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T13:42:23.3613274+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:33.518 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T13:42:33.4419333+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:43.607 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T13:42:43.5335653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:12:53.698 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T13:42:53.6138806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:03.799 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__now_0='2025-09-30T13:43:03.7043617+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:13.900 +05:30 [INF] Executed DbCommand (91ms) [Parameters=[@__now_0='2025-09-30T13:43:13.8082249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:23.994 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T13:43:23.9100521+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:34.077 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__now_0='2025-09-30T13:43:33.9995721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:44.157 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T13:43:44.0807715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:44.470 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:13:44.472 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:13:44.485 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:44.488 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:44.491 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 21.5283ms
2025-09-30 19:13:44.491 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 19.5089ms
2025-09-30 19:13:44.520 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:13:44.525 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:44.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:13:44.535 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:44.645 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 10:27:40 AM', Current time (UTC): '30-09-2025 01:43:44 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 19:13:44.645 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 10:27:40 AM', Current time (UTC): '30-09-2025 01:43:44 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 19:13:44.701 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 10:27:40 AM', Current time (UTC): '30-09-2025 01:43:44 PM'.
2025-09-30 19:13:44.701 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 10:27:40 AM', Current time (UTC): '30-09-2025 01:43:44 PM'.
2025-09-30 19:13:44.704 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:13:44.705 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 19:13:44.713 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:13:44.754 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-30 19:13:44.771 +05:30 [ERR] Response has already started, unable to write error response for path: /api/whatsappsettings/me
2025-09-30 19:13:44.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 401 null application/json 242.397ms
2025-09-30 19:13:44.839 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:13:44.845 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:13:44.851 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 132.8104ms
2025-09-30 19:13:44.855 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:13:44.952 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-30 19:13:44.960 +05:30 [ERR] Response has already started, unable to write error response for path: /api/whatsappsettings/PINNACLE/numbers
2025-09-30 19:13:44.964 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 401 null application/json 443.4234ms
2025-09-30 19:13:47.505 +05:30 [ERR] Unobserved task exception
System.AggregateException: A Task's exception(s) were not observed either by Waiting on the Task or accessing its Exception property. As a result, the unobserved exception was rethrown by the finalizer thread. (One or more errors occurred. (Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.))
 ---> System.AggregateException: One or more errors occurred. (Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.)
 ---> System.IO.InvalidDataException: Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.
 ---> System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: '9' is invalid after a value. Expected either ',', '}', or ']'. LineNumber: 54 | BytePositionInLine: 22.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, JsonReaderOptions readerOptions, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedArrayPoolBytes, PooledByteBufferWriter extraPooledByteBufferWriter)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.OnChangeTokenFired()
   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)
   at System.Threading.CancellationTokenSource.Register(Delegate callback, Object stateForCallback, SynchronizationContext syncContext, ExecutionContext executionContext)
   at System.Threading.CancellationToken.UnsafeRegister(Action`1 callback, Object state)
   at Microsoft.Extensions.Internal.ChangeCallbackRegistrar.UnsafeRegisterChangeCallback[T](Action`1 callback, Object state, CancellationToken token, Action`1 onFailure, T onFailureState)
   at Microsoft.Extensions.Primitives.CancellationChangeToken.RegisterChangeCallback(Action`1 callback, Object state)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.RegisterChangeTokenCallback(IChangeToken token)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.OnChangeTokenFired()
   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   --- End of inner exception stack trace ---
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
   --- End of inner exception stack trace ---
2025-09-30 19:13:47.525 +05:30 [ERR] Unobserved task exception
System.AggregateException: A Task's exception(s) were not observed either by Waiting on the Task or accessing its Exception property. As a result, the unobserved exception was rethrown by the finalizer thread. (One or more errors occurred. (Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.))
 ---> System.AggregateException: One or more errors occurred. (Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.)
 ---> System.IO.InvalidDataException: Failed to load configuration from file 'D:\xbytechat\xbytechat-api\xbytechat-api\appsettings.Development.json'.
 ---> System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: '9' is invalid after a value. Expected either ',', '}', or ']'. LineNumber: 54 | BytePositionInLine: 22.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, JsonReaderOptions readerOptions, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedArrayPoolBytes, PooledByteBufferWriter extraPooledByteBufferWriter)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.OnChangeTokenFired()
   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)
   at System.Threading.CancellationTokenSource.Register(Delegate callback, Object stateForCallback, SynchronizationContext syncContext, ExecutionContext executionContext)
   at System.Threading.CancellationToken.UnsafeRegister(Action`1 callback, Object state)
   at Microsoft.Extensions.Internal.ChangeCallbackRegistrar.UnsafeRegisterChangeCallback[T](Action`1 callback, Object state, CancellationToken token, Action`1 onFailure, T onFailureState)
   at Microsoft.Extensions.Primitives.CancellationChangeToken.RegisterChangeCallback(Action`1 callback, Object state)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.RegisterChangeTokenCallback(IChangeToken token)
   at Microsoft.Extensions.Primitives.ChangeToken.ChangeTokenRegistration`1.OnChangeTokenFired()
   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   --- End of inner exception stack trace ---
   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
   --- End of inner exception stack trace ---
2025-09-30 19:13:54.238 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T13:43:54.1636589+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:13:58.784 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 19:13:58.789 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:58.790 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 6.6534ms
2025-09-30 19:13:58.795 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 19:13:58.800 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:13:58.801 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:13:58.807 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 19:13:58.837 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 19:13:58.980 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 19:13:58.983 +05:30 [WRN] ❌ Login failed: Invalid email or password for test@gmail.com
2025-09-30 19:13:58.986 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:13:58.993 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 183.4783ms
2025-09-30 19:13:58.995 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:13:58.996 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json; charset=utf-8 201.0647ms
2025-09-30 19:14:00.467 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 19:14:00.470 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:00.471 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:14:00.473 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 19:14:00.478 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 19:14:00.551 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 19:14:00.553 +05:30 [WRN] ❌ Login failed: Invalid email or password for test@gmail.com
2025-09-30 19:14:00.555 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:00.556 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 81.4634ms
2025-09-30 19:14:00.558 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:14:00.559 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json; charset=utf-8 92.0865ms
2025-09-30 19:14:04.315 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__now_0='2025-09-30T13:44:04.2433740+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:14:32.905 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 19:14:32.959 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 19:14:32.976 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 19:14:34.069 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 19:14:34.646 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 19:14:34.668 +05:30 [INF] ClickLogWorker started
2025-09-30 19:14:34.880 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 19:14:34.882 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 19:14:34.883 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 19:14:34.884 +05:30 [INF] Hosting environment: Development
2025-09-30 19:14:34.885 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 19:14:34.893 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 19:14:34.913 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__cutoff_0='2025-09-23T13:44:33.0915712Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 19:14:35.711 +05:30 [INF] ClickLogWorker stopped
2025-09-30 19:14:37.825 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 19:14:37.844 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 19:14:37.895 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:37.902 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 80.289ms
2025-09-30 19:14:37.908 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 19:14:37.919 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:37.965 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:14:37.982 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 19:14:38.062 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 19:14:38.143 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 19:14:38.245 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 19:14:38.378 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 19:14:38.393 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 19:14:38.473 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 19:14:38.475 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 19:14:38.488 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.509 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 520.0879ms
2025-09-30 19:14:38.512 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 19:14:38.522 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 614.8101ms
2025-09-30 19:14:38.531 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.535 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.0114ms
2025-09-30 19:14:38.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.551 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.594 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.599 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:14:38.614 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 19:14:38.647 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:14:38.650 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.665 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 63.814ms
2025-09-30 19:14:38.667 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.668 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 126.5656ms
2025-09-30 19:14:38.688 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.692 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.837ms
2025-09-30 19:14:38.729 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.734 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.741 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.743 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:14:38.754 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:14:38.760 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.762 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 16.6182ms
2025-09-30 19:14:38.765 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.767 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 37.9066ms
2025-09-30 19:14:38.770 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.777 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.778 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:14:38.787 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:14:38.792 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.794 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.7257ms
2025-09-30 19:14:38.796 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.798 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.0303ms
2025-09-30 19:14:38.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.875 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.877 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.880 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:14:38.890 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:14:38.895 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.897 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 13.3264ms
2025-09-30 19:14:38.899 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 30.7874ms
2025-09-30 19:14:38.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:14:38.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:14:38.952 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.954 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:14:38.955 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.956 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 7.3812ms
2025-09-30 19:14:38.961 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.961 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.965 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:14:38.966 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:14:38.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 13.1135ms
2025-09-30 19:14:38.975 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:14:38.970 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.979 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:14:38.982 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:14:38.983 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:14:38.986 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:38.988 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 16.2737ms
2025-09-30 19:14:38.991 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:38.992 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:14:38.994 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 19:14:38.995 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 46.218ms
2025-09-30 19:14:38.998 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:39.024 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:14:39.035 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:39.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:39.061 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 56.5322ms
2025-09-30 19:14:39.063 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:39.066 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 86.9961ms
2025-09-30 19:14:39.087 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 19:14:39.096 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 99.0382ms
2025-09-30 19:14:39.099 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:14:39.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 136.5111ms
2025-09-30 19:14:39.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:39.121 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:39.121 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:39.124 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:39.125 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 7.0632ms
2025-09-30 19:14:39.126 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 5.1324ms
2025-09-30 19:14:39.134 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:39.137 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:39.138 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:39.140 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:39.146 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:39.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:39.151 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 9.6996ms
2025-09-30 19:14:39.153 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:39.153 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:39.155 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:39.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 22.7653ms
2025-09-30 19:14:39.158 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:39.162 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:39.169 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:39.173 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:39.175 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 11.2686ms
2025-09-30 19:14:39.177 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:39.178 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 25.2364ms
2025-09-30 19:14:39.712 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T13:44:39.6912482+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:14:40.778 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 19:14:40.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 164.0418ms
2025-09-30 19:14:41.106 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 19:14:41.106 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 19:14:41.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.4955ms
2025-09-30 19:14:41.158 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.335ms
2025-09-30 19:14:41.320 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 19:14:41.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 474.7336ms
2025-09-30 19:14:44.699 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 19:14:44.743 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:14:44.768 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:14:44.775 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 19:14:44.777 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 19:14:44.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:14:44.788 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:14:44.792 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 19:14:44.794 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 19:14:44.797 +05:30 [INF] TemplateSyncWorker: sweep finished in 117 ms; processed=2; next run ~"2025-09-30T19:44:44.6796324Z"
2025-09-30 19:14:45.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:14:45.780 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:14:45.782 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.785 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.786 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 8.6229ms
2025-09-30 19:14:45.787 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 7.0619ms
2025-09-30 19:14:45.827 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:14:45.828 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:14:45.831 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.834 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.835 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.836 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:14:45.837 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:45.838 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 19:14:45.847 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:45.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:14:45.855 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:45.857 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 19:14:45.859 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 18.3854ms
2025-09-30 19:14:45.860 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 17.885ms
2025-09-30 19:14:45.861 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.864 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:14:45.865 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 36.9503ms
2025-09-30 19:14:45.866 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 39.656ms
2025-09-30 19:14:45.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:45.902 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 4.9107ms
2025-09-30 19:14:45.904 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:45.908 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:45.910 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.913 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.913 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 9.021ms
2025-09-30 19:14:45.915 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.919 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:45.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:45.929 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:45.931 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 9.6282ms
2025-09-30 19:14:45.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:14:45.932 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.935 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:14:45.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 28.1725ms
2025-09-30 19:14:45.937 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.941 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:14:45.947 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:14:45.951 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:14:45.953 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 10.6678ms
2025-09-30 19:14:45.955 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:14:45.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 25.1912ms
2025-09-30 19:14:49.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:44:49.7206165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:14:59.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:44:59.7354186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:09.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:45:09.7453231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:14.623 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:15:14.629 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 19:15:14.631 +05:30 [INF] AuthenticationScheme: ApiKey was challenged.
2025-09-30 19:15:14.633 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 401 0 null 9.6441ms
2025-09-30 19:15:19.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:45:19.7562043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:29.770 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:45:29.7690934+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:39.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:45:39.7806427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:49.790 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:45:49.7867894+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:15:59.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:45:59.7996895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:09.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:09.8049985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:12.825 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:16:12.830 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:16:12.835 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:16:12.865 +05:30 [INF] [CustomAPI:"3f00b5e6-d436-469c-acc6-e28e1e90dca3"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:16:12.880 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:16:12.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:16:12.921 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:16:12.923 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:16:13.585 +05:30 [INF] Received HTTP response headers after 657.9125ms - 401
2025-09-30 19:16:13.587 +05:30 [INF] End processing HTTP request after 667.0201ms - 401
2025-09-30 19:16:13.590 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:46:13 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AAeLKN0ueMYxJP-6CBLotrv"}}
2025-09-30 19:16:18.847 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:16:18.854 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 6016.3725ms
2025-09-30 19:16:18.856 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:16:18.857 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 6031.8997ms
2025-09-30 19:16:19.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:19.8172734+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:29.827 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:29.8251666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:39.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:39.8357251+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:49.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:49.8414861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:16:59.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:46:59.8541616+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:09.859 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:09.8579234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:19.876 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:19.8744338+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:29.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:29.8842800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:39.894 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:39.8928347+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:49.905 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:49.9032514+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:17:59.921 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:47:59.9190015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:09.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:09.9356214+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:19.943 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:19.9410653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:29.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:29.9466936+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:39.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:39.9641882+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:49.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:49.9809361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:18:59.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:48:59.9908410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:19:10.003 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:49:10.0009168+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:19:20.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:49:20.0168320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:19:30.029 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:49:30.0273944+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:19:40.113 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T13:49:40.0428641+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:19:50.122 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:49:50.1205933+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:20:00.135 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:50:00.1334547+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:20:02.307 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:20:02.323 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:20:02.324 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:20:02.330 +05:30 [INF] [CustomAPI:"c7a57f4d-15bc-45a4-923a-63285497a707"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:20:02.334 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:20:02.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:20:02.341 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:20:02.342 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:20:02.861 +05:30 [INF] Received HTTP response headers after 517.8835ms - 401
2025-09-30 19:20:02.863 +05:30 [INF] End processing HTTP request after 521.2692ms - 401
2025-09-30 19:20:02.863 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:50:02 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"Ab_YZ18Vfg8dywD8BWtvw6O"}}
2025-09-30 19:20:02.865 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:20:02.866 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 540.5919ms
2025-09-30 19:20:02.867 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:20:02.869 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 561.9565ms
2025-09-30 19:20:10.092 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:20:10.094 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:20:10.095 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:20:10.102 +05:30 [INF] [CustomAPI:"480c0860-1e63-4792-a1d9-7ac8cbbb649f"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:20:10.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:20:10.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:20:10.115 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:20:10.116 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:20:10.154 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:50:10.1529174+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:20:10.422 +05:30 [INF] Received HTTP response headers after 304.1303ms - 401
2025-09-30 19:20:10.423 +05:30 [INF] End processing HTTP request after 307.3209ms - 401
2025-09-30 19:20:10.424 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:50:10 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AwZLUYdKbQj1BprTkHnp-RA"}}
2025-09-30 19:20:10.425 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:20:10.426 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 329.5935ms
2025-09-30 19:20:10.427 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:20:10.428 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 336.5456ms
2025-09-30 19:20:20.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:50:20.1586440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:20:46.486 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 19:20:46.533 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 19:20:46.550 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 19:20:47.558 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 19:20:48.152 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 19:20:48.170 +05:30 [INF] ClickLogWorker started
2025-09-30 19:20:48.338 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 19:20:48.380 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@__cutoff_0='2025-09-23T13:50:46.6591146Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 19:20:48.402 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 19:20:48.403 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 19:20:48.405 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 19:20:48.406 +05:30 [INF] Hosting environment: Development
2025-09-30 19:20:48.408 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 19:20:49.224 +05:30 [INF] ClickLogWorker stopped
2025-09-30 19:20:53.252 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T13:50:53.1886198+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:20:53.956 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 19:20:54.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 198.7114ms
2025-09-30 19:20:54.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 19:20:54.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.96ms
2025-09-30 19:20:54.249 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 19:20:54.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6222ms
2025-09-30 19:20:54.475 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 19:20:54.925 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 450.4687ms
2025-09-30 19:20:58.211 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 19:20:58.251 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:20:58.269 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:20:58.274 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 19:20:58.275 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 19:20:58.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:20:58.287 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:20:58.290 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 19:20:58.291 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 19:20:58.293 +05:30 [INF] TemplateSyncWorker: sweep finished in 103 ms; processed=2; next run ~"2025-09-30T19:50:58.1907494Z"
2025-09-30 19:20:59.450 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:20:59.455 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 19:20:59.607 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:20:59.630 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:20:59.691 +05:30 [INF] [CustomAPI:"03f31af2-0b3c-4eeb-aee3-95d0ef02fcce"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:20:59.718 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:20:59.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:20:59.820 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:20:59.822 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:21:00.536 +05:30 [INF] Received HTTP response headers after 708.7836ms - 401
2025-09-30 19:21:00.540 +05:30 [INF] End processing HTTP request after 721.991ms - 401
2025-09-30 19:21:00.543 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:51:00 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ALObFCD2OzDuTGCMe70xhBJ"}}
2025-09-30 19:21:00.555 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:21:00.575 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 937.9911ms
2025-09-30 19:21:00.577 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:21:00.586 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 1136.0193ms
2025-09-30 19:21:03.269 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:51:03.2667816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:21:13.287 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:51:13.2852364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:21:23.294 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:51:23.2905621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:21:33.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:51:33.3075455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:21:43.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:51:43.3172746+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:21:53.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:51:53.3247931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:03.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:52:03.3336416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:13.357 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:52:13.3550996+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:23.370 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:52:23.3675880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:33.376 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:52:33.3749466+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:43.396 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:52:43.3937130+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:22:53.403 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:52:53.4007853+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:23:35.242 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 19:23:35.300 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 19:23:35.318 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 19:23:36.602 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 19:23:37.274 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 19:23:37.295 +05:30 [INF] ClickLogWorker started
2025-09-30 19:23:37.526 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 19:23:37.544 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 19:23:37.546 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 19:23:37.549 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 19:23:37.550 +05:30 [INF] Hosting environment: Development
2025-09-30 19:23:37.553 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 19:23:37.559 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__cutoff_0='2025-09-23T13:53:35.4518958Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 19:23:38.336 +05:30 [INF] ClickLogWorker stopped
2025-09-30 19:23:42.385 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-30T13:53:42.3122337+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:23:43.127 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 19:23:43.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 212.9932ms
2025-09-30 19:23:43.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 19:23:43.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 19:23:43.508 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.0392ms
2025-09-30 19:23:43.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4177ms
2025-09-30 19:23:43.849 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 19:23:44.147 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.1511ms
2025-09-30 19:23:45.440 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:23:45.445 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 19:23:45.655 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:23:45.693 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:23:50.215 +05:30 [INF] [CustomAPI:"dbd57a44-39a0-40a0-9870-c0134c82f339"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:23:50.232 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 19:23:50.246 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:23:50.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:23:50.292 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:23:50.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:23:50.302 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 19:23:50.304 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 19:23:50.316 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:23:50.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:23:50.324 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 19:23:50.325 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 19:23:50.328 +05:30 [INF] TemplateSyncWorker: sweep finished in 129 ms; processed=2; next run ~"2025-09-30T19:53:50.1987013Z"
2025-09-30 19:23:50.373 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:23:50.375 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:23:51.198 +05:30 [INF] Received HTTP response headers after 818.928ms - 401
2025-09-30 19:23:51.200 +05:30 [INF] End processing HTTP request after 829.8232ms - 401
2025-09-30 19:23:51.203 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:53:50 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"A7oyCi5SJbZTVgJMs1bUFC_"}}
2025-09-30 19:23:51.213 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:23:51.228 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 5527.455ms
2025-09-30 19:23:51.230 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:23:51.238 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 5797.8389ms
2025-09-30 19:23:52.401 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:53:52.3976596+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:23:57.335 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:23:57.345 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:23:57.346 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:24:08.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:54:08.3408804+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:24:17.432 +05:30 [INF] [CustomAPI:"d840b911-bf5a-43a1-8a93-db2ddf81bd62"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:24:17.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:24:17.443 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:24:17.446 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:24:17.447 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:24:17.832 +05:30 [INF] Received HTTP response headers after 384.4799ms - 401
2025-09-30 19:24:17.833 +05:30 [INF] End processing HTTP request after 387.5614ms - 401
2025-09-30 19:24:17.834 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:54:17 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AHYBOLMZQlt8eNcdfOhydEw"}}
2025-09-30 19:24:17.868 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:24:17.870 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 20522.4404ms
2025-09-30 19:24:17.872 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:24:17.873 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 20538.7881ms
2025-09-30 19:24:33.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:54:30.8425772+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:24:43.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:54:43.7684847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:24:53.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:54:53.7827792+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:25:03.792 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:55:03.7886827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:25:13.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:55:13.7965895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:25:23.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:55:23.8104470+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:25:42.464 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 19:25:42.521 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 19:25:42.539 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 19:25:43.563 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 19:25:44.327 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 19:25:44.353 +05:30 [INF] ClickLogWorker started
2025-09-30 19:25:44.571 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 19:25:44.583 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 19:25:44.584 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 19:25:44.586 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 19:25:44.587 +05:30 [INF] Hosting environment: Development
2025-09-30 19:25:44.589 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 19:25:44.599 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__cutoff_0='2025-09-23T13:55:42.6622329Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 19:25:45.404 +05:30 [INF] ClickLogWorker stopped
2025-09-30 19:25:49.446 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T13:55:49.3778011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:25:49.972 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 19:25:50.280 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 320.4407ms
2025-09-30 19:25:50.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 19:25:50.551 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 19:25:50.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.6832ms
2025-09-30 19:25:50.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.185ms
2025-09-30 19:25:50.849 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 19:25:51.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.4511ms
2025-09-30 19:25:54.384 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 19:25:54.427 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:25:54.451 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:25:54.457 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 19:25:54.459 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T02:26:38.7117420Z"
2025-09-30 19:25:54.470 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:25:54.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 19:25:54.478 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 19:25:54.479 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 19:25:54.482 +05:30 [INF] TemplateSyncWorker: sweep finished in 120 ms; processed=2; next run ~"2025-09-30T19:55:54.3615657Z"
2025-09-30 19:25:59.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:55:59.4613487+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:03.756 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:26:03.760 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 19:26:03.961 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:26:03.980 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:26:09.709 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:56:09.6886175+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:22.320 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T13:56:22.3173191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:22.329 +05:30 [INF] [CustomAPI:"571f9965-94f1-4894-adcc-6e4c9a8382ef"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:26:22.347 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:26:22.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:26:22.427 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:26:22.430 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:26:23.238 +05:30 [INF] Received HTTP response headers after 804.61ms - 401
2025-09-30 19:26:23.239 +05:30 [INF] End processing HTTP request after 814.2461ms - 401
2025-09-30 19:26:23.242 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:56:22 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ABortZ8Osqk3Tz81wHryGzX"}}
2025-09-30 19:26:23.290 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:26:23.303 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 19317.5692ms
2025-09-30 19:26:23.305 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:26:23.310 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 19554.4676ms
2025-09-30 19:26:32.343 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:56:32.3406737+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:38.998 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:26:39.019 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:26:39.021 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:26:43.522 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__now_0='2025-09-30T13:56:42.9353990+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:52.789 +05:30 [INF] [CustomAPI:"952540b5-b84e-4967-8994-33a8047b7168"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:26:54.547 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T13:56:54.5411830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:26:54.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:27:00.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:27:00.019 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:27:00.020 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:27:00.511 +05:30 [INF] Received HTTP response headers after 490.1067ms - 401
2025-09-30 19:27:00.512 +05:30 [INF] End processing HTTP request after 493.7964ms - 401
2025-09-30 19:27:00.513 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:57:00 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"A5II3acqrJ-NfriOE5Pu5Z1"}}
2025-09-30 19:27:18.847 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='2025-09-30T13:57:18.8094274+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:27:21.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:27:30.844 +05:30 [INF] Executed DbCommand (1,512ms) [Parameters=[@__now_0='2025-09-30T13:57:29.3142418+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:27:33.060 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:27:33.062 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:27:33.517 +05:30 [INF] Received HTTP response headers after 454.4278ms - 401
2025-09-30 19:27:33.518 +05:30 [INF] End processing HTTP request after 458.0676ms - 401
2025-09-30 19:27:42.452 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:57:33 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AF3DgwQ1fhD6jBgcqkMdsDa"}}
2025-09-30 19:27:43.630 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__now_0='2025-09-30T13:57:43.6000216+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:28:52.428 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:28:52.438 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 133415.3959ms
2025-09-30 19:28:52.445 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='2025-09-30T13:58:52.4313958+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:28:52.450 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:28:52.458 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 133460.1283ms
2025-09-30 19:28:57.452 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:28:57.455 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:28:57.456 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:29:06.003 +05:30 [INF] [CustomAPI:"df2b68fd-0ed4-4f9d-827c-b9201542b80e"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:29:06.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:59:06.0034931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:29:06.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:29:06.013 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:29:06.015 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:29:06.016 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:29:06.614 +05:30 [INF] Received HTTP response headers after 596.6786ms - 401
2025-09-30 19:29:06.615 +05:30 [INF] End processing HTTP request after 599.5153ms - 401
2025-09-30 19:29:06.616 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 06:59:06 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AWiSJ50pHAsBZ1Hv4Gid0K-"}}
2025-09-30 19:29:06.618 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:29:06.620 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 9161.8085ms
2025-09-30 19:29:06.621 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:29:06.623 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 9171.3601ms
2025-09-30 19:29:16.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T13:59:16.0250776+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:29:18.605 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - application/json 350
2025-09-30 19:29:18.608 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:29:18.609 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 19:29:26.827 +05:30 [INF] Executed DbCommand (575ms) [Parameters=[@__now_0='2025-09-30T13:59:26.2349014+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:29:27.965 +05:30 [INF] [CustomAPI:"d7860b98-c773-4fe9-8294-15169c4c1848"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 19:29:30.146 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__8__locals1_req_PhoneNumberId_1='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive" AND w."PhoneNumberId" = @__8__locals1_req_PhoneNumberId_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 19:29:45.452 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__now_0='2025-09-30T13:59:41.2737567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:29:47.221 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:30:48.888 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:30:48.898 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:30:48.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:30:48.911 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:30:48.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:30:48.911 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T14:00:48.9011364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:30:48.919 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:48.922 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:48.923 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:48.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 12.0421ms
2025-09-30 19:30:48.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 18.0037ms
2025-09-30 19:30:48.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 17.091ms
2025-09-30 19:30:48.938 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:30:48.949 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.064 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.069 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:30:49.128 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 19:30:49.158 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:30:49.163 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:30:49.174 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 103.3352ms
2025-09-30 19:30:49.176 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.177 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 239.6133ms
2025-09-30 19:30:49.186 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:30:49.189 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6194ms
2025-09-30 19:30:49.194 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:30:49.197 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.198 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.199 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:30:49.205 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:30:49.209 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:30:49.211 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.8423ms
2025-09-30 19:30:49.213 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.2084ms
2025-09-30 19:30:49.269 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 19:30:49.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 19:30:49.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 19:30:49.272 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.276 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.280 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.281 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.281 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:30:49.282 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.283 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 19:30:49.288 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 19:30:49.289 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:30:49.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 19:30:49.298 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:30:49.300 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 12.7068ms
2025-09-30 19:30:49.302 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 19:30:49.305 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 19:30:49.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.5883ms
2025-09-30 19:30:49.311 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 19:30:49.318 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:30:49.324 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:30:49.336 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 40.076ms
2025-09-30 19:30:49.336 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 45.1818ms
2025-09-30 19:30:49.337 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.339 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 19:30:49.340 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 70.4148ms
2025-09-30 19:30:49.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 71.8329ms
2025-09-30 19:30:49.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:30:49.396 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.397 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 4.0772ms
2025-09-30 19:30:49.401 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:30:49.403 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.405 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.406 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:30:49.413 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:30:49.417 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:30:49.418 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 10.3751ms
2025-09-30 19:30:49.420 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.421 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 20.6332ms
2025-09-30 19:30:49.470 +05:30 [INF] Received HTTP response headers after 567.2615ms - 401
2025-09-30 19:30:49.471 +05:30 [INF] End processing HTTP request after 583.6111ms - 401
2025-09-30 19:30:49.473 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 05:00:00 PDT. The current time is Tuesday, 30-Sep-25 07:00:49 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AZV9HMWaoBCfTRD5w6rWdjh"}}
2025-09-30 19:30:49.476 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:30:49.478 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 90866.1021ms
2025-09-30 19:30:49.480 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 19:30:49.481 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom-api/send-template - 400 null application/json; charset=utf-8 90876.7185ms
2025-09-30 19:30:49.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 19:30:49.542 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:30:49.544 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.546 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 19:30:49.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 19:30:49.560 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:30:49.562 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 14.1481ms
2025-09-30 19:30:49.564 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 19:30:49.566 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 28.4442ms
2025-09-30 19:30:58.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:00:58.9307105+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:31:08.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:01:08.9503996+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:31:10.842 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-30 19:31:10.844 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:10.845 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 3.0752ms
2025-09-30 19:31:10.848 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 563
2025-09-30 19:31:10.850 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:10.851 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 19:31:10.854 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 19:31:10.869 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-30 19:31:10.951 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPhvU2nNlKjSnE62ZBWAs1DB39N4Q8cKLupkH2AhsUBK0IDL7kW6emNDhRpo6V1hkVZC5mFEaR2IKD7lgZB5DU7XZCA4X1wbIArsc6xeZBZAUg1NWURzdgAS1nz2q558gVhNaXZBZAm3efobPydekksPxC7IAJqOLdp48qEPDDqNNFO5HSVLe9xFzTLcvPOfgJrhLk9TmPAIq1yCzq1fhCHko497U2TPv1DBhoJDCPTkQyB4MfTIUSAZDZD' (Nullable = false), @p1='2025-09-30T14:01:10.8743277Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-30 19:31:10.963 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 19:31:10.965 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 109.1681ms
2025-09-30 19:31:10.966 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 19:31:10.967 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 119.426ms
2025-09-30 19:31:15.842 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 19:31:15.846 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:15.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/get-image-campaign - 204 null null 4.8144ms
2025-09-30 19:31:15.854 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - null null
2025-09-30 19:31:15.859 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:15.860 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 19:31:15.865 +05:30 [INF] Route matched with {action = "GetAll", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 19:31:15.929 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Name", c."Status", c."ScheduledAt", c."CreatedAt", c."ImageUrl", c."ImageCaption", c0."Title" AS "CtaTitle", (
    SELECT count(*)::int
    FROM "CampaignRecipients" AS c1
    WHERE c."Id" = c1."CampaignId") AS "RecipientCount"
FROM "Campaigns" AS c
LEFT JOIN "CTADefinitions" AS c0 ON c."CtaId" = c0."Id"
WHERE c."BusinessId" = @__businessId_0
ORDER BY c."CreatedAt" DESC
2025-09-30 19:31:15.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.CampaignModule.DTOs.CampaignSummaryDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 19:31:15.938 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api) in 71.4243ms
2025-09-30 19:31:15.939 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetAll (xbytechat.api)'
2025-09-30 19:31:15.941 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/campaign/get-image-campaign - 200 null application/json; charset=utf-8 86.8515ms
2025-09-30 19:31:18.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:01:18.9624290+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:31:20.012 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null null
2025-09-30 19:31:20.015 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:20.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 204 null null 3.3857ms
2025-09-30 19:31:20.022 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - null 0
2025-09-30 19:31:20.024 +05:30 [INF] CORS policy execution successful.
2025-09-30 19:31:20.025 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 19:31:20.029 +05:30 [INF] Route matched with {action = "SendTemplateCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplateCampaign(System.Guid) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-09-30 19:31:20.105 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AudienceId", c."BusinessId", c."CTAFlowConfigId", c."CampaignId", c."CampaignType", c."CreatedAt", c."CreatedBy", c."CtaId", c."DeletedAt", c."DeletedBy", c."DocumentUrl", c."FollowUpTemplateId", c."ImageCaption", c."ImageUrl", c."IsDeleted", c."MessageBody", c."MessageTemplate", c."Name", c."PhoneNumberId", c."Provider", c."ScheduledAt", c."SourceCampaignId", c."Status", c."TemplateId", c."TemplateParameters", c."TemplateSchemaSnapshot", c."UpdatedAt", c."VideoUrl"
FROM "Campaigns" AS c
WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
ORDER BY c."Id"
LIMIT 1
2025-09-30 19:31:20.141 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."AudienceMemberId", t0."BotId", t0."BusinessId", t0."CampaignId", t0."CategoryBrowsed", t0."ClickedCTA", t0."ContactId", t0."IdempotencyKey", t0."IsAutoTagged", t0."MaterializedAt", t0."MessagePreview", t0."ProductBrowsed", t0."ResolvedButtonUrlsJson", t0."ResolvedParametersJson", t0."SentAt", t0."Status", t0."UpdatedAt", t0."Id0", t0."AssignedAgentId", t0."BusinessId0", t0."CreatedAt", t0."Email", t0."Group", t0."IsActive", t0."IsArchived", t0."IsAutomationPaused", t0."IsFavorite", t0."LastCTAInteraction", t0."LastCTAType", t0."LastClickedProductId", t0."LastContactedAt", t0."LeadSource", t0."Name", t0."NextFollowUpAt", t0."Notes", t0."PhoneNumber", t0."ProfileName", t0."ProfileNameUpdatedAt", t0."Tags", t0."Id1", t0."AttributesJson", t0."AudienceId", t0."BusinessId1", t0."ContactId0", t0."CreatedAt0", t0."CreatedByUserId", t0."Email0", t0."IsDeleted", t0."IsTransientContact", t0."Name0", t0."PhoneE164", t0."PhoneRaw", t0."PromotedAt", t0."UpdatedAt0", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN (
    SELECT c0."Id", c0."AudienceMemberId", c0."BotId", c0."BusinessId", c0."CampaignId", c0."CategoryBrowsed", c0."ClickedCTA", c0."ContactId", c0."IdempotencyKey", c0."IsAutoTagged", c0."MaterializedAt", c0."MessagePreview", c0."ProductBrowsed", c0."ResolvedButtonUrlsJson", c0."ResolvedParametersJson", c0."SentAt", c0."Status", c0."UpdatedAt", c1."Id" AS "Id0", c1."AssignedAgentId", c1."BusinessId" AS "BusinessId0", c1."CreatedAt", c1."Email", c1."Group", c1."IsActive", c1."IsArchived", c1."IsAutomationPaused", c1."IsFavorite", c1."LastCTAInteraction", c1."LastCTAType", c1."LastClickedProductId", c1."LastContactedAt", c1."LeadSource", c1."Name", c1."NextFollowUpAt", c1."Notes", c1."PhoneNumber", c1."ProfileName", c1."ProfileNameUpdatedAt", c1."Tags", a."Id" AS "Id1", a."AttributesJson", a."AudienceId", a."BusinessId" AS "BusinessId1", a."ContactId" AS "ContactId0", a."CreatedAt" AS "CreatedAt0", a."CreatedByUserId", a."Email" AS "Email0", a."IsDeleted", a."IsTransientContact", a."Name" AS "Name0", a."PhoneE164", a."PhoneRaw", a."PromotedAt", a."UpdatedAt" AS "UpdatedAt0"
    FROM "CampaignRecipients" AS c0
    LEFT JOIN "Contacts" AS c1 ON c0."ContactId" = c1."Id"
    LEFT JOIN "AudienceMembers" AS a ON c0."AudienceMemberId" = a."Id"
) AS t0 ON t."Id" = t0."CampaignId"
ORDER BY t."Id"
2025-09-30 19:31:20.151 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__campaignId_0='77e1ec21-0d24-4156-b4e7-945590ebd431'], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."CampaignId", c0."IsFromTemplate", c0."Position", c0."Title", c0."Type", c0."Value", t."Id"
FROM (
    SELECT c."Id"
    FROM "Campaigns" AS c
    WHERE c."Id" = @__campaignId_0 AND NOT (c."IsDeleted")
    LIMIT 1
) AS t
INNER JOIN "CampaignButtons" AS c0 ON t."Id" = c0."CampaignId"
ORDER BY t."Id"
2025-09-30 19:31:20.168 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 19:31:20.170 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:31:20.171 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 19:31:21.194 +05:30 [INF] Received HTTP response headers after 1021.8101ms - 200
2025-09-30 19:31:21.195 +05:30 [INF] End processing HTTP request after 1024.6358ms - 200
2025-09-30 19:31:29.428 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-30T14:01:29.1068364+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:31:46.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:01:46.3493965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:31:46.412 +05:30 [ERR] Error while sending text template campaign
System.InvalidOperationException: Template requires a dynamic URL at button index 0, but campaign button value is empty.
   at xbytechat.api.Features.CampaignModule.Services.CampaignService.BuildTextTemplateComponents_Meta(List`1 templateParams, List`1 buttonList, TemplateMetadataDto templateMeta, Guid campaignSendLogId, Contact contact, List`1& resolvedButtonUrls) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\CampaignService.cs:line 2912
   at xbytechat.api.Features.CampaignModule.Services.CampaignService.SendTextTemplateCampaignAsync(Campaign campaign) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\CampaignService.cs:line 2163
2025-09-30 19:31:46.449 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 19:31:46.451 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api) in 26420.8331ms
2025-09-30 19:31:46.452 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.SendTemplateCampaign (xbytechat.api)'
2025-09-30 19:31:46.453 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/campaign/send-campaign/77e1ec21-0d24-4156-b4e7-945590ebd431 - 400 null application/json; charset=utf-8 26431.1927ms
2025-09-30 19:31:56.362 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:01:56.3599657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:06.374 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:06.3726036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:16.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:16.3790636+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:26.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:26.3898461+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:36.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:36.3982625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:46.412 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:46.4098081+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:32:56.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:02:56.4274314+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:06.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:03:06.4389373+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:16.508 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:03:16.4481312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:26.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:03:26.5259692+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:36.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:03:36.5410736+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:46.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:03:46.5571750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:33:56.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:03:56.5683766+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:06.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:06.5766934+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:16.593 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:16.5913507+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:26.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:26.5974337+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:36.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:36.6043566+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:46.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:46.6192864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:34:56.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:04:56.6355889+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:06.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:06.6419812+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:16.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:16.6531613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:26.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:26.6719112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:36.685 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:36.6841517+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:46.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:46.6991119+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:35:56.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:05:56.7079249+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:06.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:06.7173213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:16.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:16.7336819+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:26.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:26.7483228+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:36.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:36.7613301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:46.770 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:46.7683852+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:36:56.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:06:56.7798621+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:06.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:06.7974953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:16.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:16.8160797+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:26.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:26.8243385+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:36.837 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:36.8350428+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:46.846 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:46.8445024+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:37:56.865 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:07:56.8634331+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:06.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:08:06.8705406+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:16.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:08:16.8842358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:26.948 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:08:26.9463670+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:36.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:08:36.9508137+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:46.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:08:46.9596598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:38:56.969 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:08:56.9678341+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:06.974 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:06.9723937+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:16.979 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:16.9777661+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:26.984 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:26.9831395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:36.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:36.9975254+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:47.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:47.0030713+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:39:57.017 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:09:57.0156233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:07.028 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:07.0267763+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:17.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:17.0325263+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:27.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:27.0478000+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:37.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:37.0531109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:47.069 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:47.0669752+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:40:57.077 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:10:57.0752447+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:07.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:11:07.0807231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:17.101 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T14:11:17.0971939+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:27.122 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:11:27.1207548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:37.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:11:37.1428991+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:47.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:11:47.1539412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:41:57.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:11:57.1698316+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:42:07.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:12:07.1801701+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:42:17.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:12:17.1938378+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:42:27.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:12:27.2074820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:42:37.223 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:12:37.2213759+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:58:34.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:28:34.2917217+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:58:44.312 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:28:44.3105575+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:58:54.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:28:54.3280391+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:04.435 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T14:29:04.3337934+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:14.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:29:14.4447096+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:24.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:29:24.4572245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:34.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:29:34.4667610+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:44.477 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:29:44.4753264+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 19:59:54.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:29:54.4850451+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:04.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:04.4907705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:14.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:14.5011206+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:24.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:24.5073497+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:34.519 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:34.5173016+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:44.524 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:44.5232262+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:00:54.537 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:30:54.5354004+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:04.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:04.5382762+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:14.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:14.5485135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:24.565 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:24.5637077+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:34.574 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:34.5731292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:44.582 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:44.5807239+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:01:54.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:31:54.6035491+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:02:04.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:32:04.6135912+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:02:14.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:32:14.6264523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:02:24.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:32:24.6351389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:02:34.655 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:32:34.6540043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:03:18.582 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 20:03:18.623 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 20:03:18.638 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 20:03:19.456 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 20:03:19.999 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 20:03:20.017 +05:30 [INF] ClickLogWorker started
2025-09-30 20:03:20.230 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 20:03:20.232 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 20:03:20.233 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 20:03:20.233 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 20:03:20.238 +05:30 [INF] Hosting environment: Development
2025-09-30 20:03:20.239 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 20:03:20.252 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__cutoff_0='2025-09-23T14:33:18.7328615Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 20:03:21.054 +05:30 [INF] ClickLogWorker stopped
2025-09-30 20:03:25.106 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T14:33:25.0405511+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:03:26.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 20:03:26.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 155.7951ms
2025-09-30 20:03:26.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 20:03:26.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 20:03:26.802 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.2487ms
2025-09-30 20:03:26.826 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6134ms
2025-09-30 20:03:26.931 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 20:03:27.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 200.2159ms
2025-09-30 20:03:30.068 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 20:03:30.100 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 20:03:30.123 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 20:03:30.149 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-30 20:03:30.151 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/251114021418599/message_templates?limit=100
2025-09-30 20:03:32.262 +05:30 [INF] Received HTTP response headers after 2108.1987ms - 200
2025-09-30 20:03:32.264 +05:30 [INF] End processing HTTP request after 2118.8918ms - 200
2025-09-30 20:03:32.423 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82', @__providerKey_1='pinnacle'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 20:03:32.601 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p1='005f7851-ae6e-4fa9-8f54-beb8cd92276b', @p0='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p3='1821d66c-fb26-4c9c-ae9c-637698927546', @p2='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p5='1a2910fa-84aa-474a-8174-b799c98fbff6', @p4='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p7='1c000849-2790-447f-88a4-f5a19dc96926', @p6='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p9='1d5e446c-321a-4967-af0c-cd0e8d0268e5', @p8='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p11='1df5ec8b-e36d-438d-9bec-e8d4698df64a', @p10='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p13='347871a0-b1f9-49c7-a494-8df146b1a4e6', @p12='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p15='3bbfd722-61cf-445c-9d5f-2a7c672ad813', @p14='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p17='3cef57c5-0397-4ce6-a864-afe4109a7b36', @p16='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p19='40070956-4f23-40d3-a4a1-e23dd483ba02', @p18='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p21='4678725a-14c2-4a7d-9c47-eb5c238a6c7e', @p20='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p23='46cdca2c-1e94-4d83-8e36-bfcec81e2b7e', @p22='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p25='4f385d21-c035-435e-b352-d75b1e276b46', @p24='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p27='5110a9d7-ce2a-491c-98b8-f2c7d84be02b', @p26='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p29='5a12c8cf-76e4-4dc1-a281-77bbb2dbac73', @p28='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p31='6154a579-fab8-4eb9-a1f7-b0f5342aea7b', @p30='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p33='622ed49c-d677-4c6f-a2ab-6cb6ae3d49ff', @p32='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p35='643fd567-51c8-4fc8-9b32-36142aa42264', @p34='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p37='6cb81f1b-a149-48a4-a917-92f7d4ca1233', @p36='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p39='6e18fc61-5c74-4d0c-b2f6-81b8bdec772a', @p38='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p41='741fcb87-6fcd-42f1-bc8f-1a6f821590fa', @p40='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p43='78747243-4856-4560-ab7e-de8c63ae9753', @p42='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p47='9dc1ecc0-27e8-400a-8c2b-3705a332d516', @p44='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p45='{"name":"testing_1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/434020495_817759347145442_7459011205631203997_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=TPeLgqGOc_QQ7kNvwG8ZnAA&_nc_oc=Adlsb8Xopu1DHmzRWaCDR-QTcJywo8gIZ08UpVskHIiyJjRS-VsmECNLvKKD_4sTTrw&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=CINl5c6rcFrvnWCd_YzEXg&oh=01_Q5Aa2gH3h1r-yZJ2ty-77E6Y7S2B6SzNGM6pijqaD17RkedMxA&oe=69037319"]}},{"type":"BODY","text":"Dear User,\r\nTesting"}],"language":"en","status":"APPROVED","category":"MARKETING","id":"817759340478776"}' (Nullable = false), @p46='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p49='a837c77e-bcd3-4178-b7b9-032bbf63cc51', @p48='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p53='a9b97f70-ab05-492c-975a-7b6ee5eb0e6d', @p50='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p51='{"name":"tempalte_v1","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"IMAGE","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/389521422_865429908351181_4208520018935703846_n.png?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=XJ2AtTaAFy8Q7kNvwH0RC7u&_nc_oc=Admvvvv62QCd_hnqZLK38byKxZdZbETcrwkLpS77teOam7OVji4Re8G2qAwdPE2Btgo&_nc_zt=3&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=CINl5c6rcFrvnWCd_YzEXg&oh=01_Q5Aa2gFo-TM1CeboDeP3iw6D890wfpqr-GK8FiXf6Agg6OOzSQ&oe=69034E3D"]}},{"type":"BODY","text":"Dear {{1}},\r\nThe Sale is live Now!!!!!!","example":{"body_text":[["name"]]}}],"language":"en","status":"APPROVED","category":"MARKETING","id":"865429905017848"}' (Nullable = false), @p52='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p55='b9d39738-1b3e-4cd5-824f-20d90829bc27', @p54='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p59='c2ab8631-3dd6-42ce-9252-88b97a6d5a32', @p56='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p57='{"name":"video_template","parameter_format":"POSITIONAL","components":[{"type":"HEADER","format":"VIDEO","example":{"header_handle":["https://scontent.whatsapp.net/v/t61.29466-34/516018879_2829095420619582_8191240975323859564_n.mp4?ccb=1-7&_nc_sid=8b1bef&_nc_ohc=LQmDN_EQ3iAQ7kNvwFcI6RM&_nc_oc=Adncv6MTgzATdeu1YC3An9uJ2aCqa3F37ZmYcjDtcRmrv2V1jSBI33X7laFqdnCSEzw&_nc_zt=28&_nc_ht=scontent.whatsapp.net&edm=AH51TzQEAAAA&_nc_gid=CINl5c6rcFrvnWCd_YzEXg&oh=01_Q5Aa2gHOhcmQ794gziGF2e6L6JjPBk5Kn37RTLIYcsbQgyGVIQ&oe=6903429B"]}},{"type":"BODY","text":"Hello {{1}}👋\nAapka order successfully deliver ho chuka hai. 🚚✨\nKya aapne Nirvasa ka Vaji Amrit Vati lena start kar diya hai? 💊\nNeeche diye gaye options me se select karke bataye 👇","example":{"body_text":[["No"]]}},{"type":"BUTTONS","buttons":[{"type":"QUICK_REPLY","text":"Yes"}]}],"language":"en_US","status":"APPROVED","category":"MARKETING","id":"2829095417286249"}' (Nullable = false), @p58='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p61='cc1fbb25-b689-46af-b9ab-dd079b69796b', @p60='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p63='d73052f7-cf7c-41c9-80fd-859b50a8b296', @p62='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p65='d9a658f1-aa9f-402c-8cd8-3e0a6f449c59', @p64='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p67='dd977d94-5945-47fe-9fb2-bd9677b6bacd', @p66='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p69='e0211c6f-8eb7-4292-b62b-813528e7ed8d', @p68='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p71='e4f5ff05-2904-4dac-9d81-e167456a9072', @p70='2025-09-30T14:33:30.1097005Z' (DbType = DateTime), @p73='f1bc02e3-a7a6-44e0-8c00-a2db666f7777', @p72='2025-09-30T14:33:30.1097005Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p0
WHERE "Id" = @p1;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p2
WHERE "Id" = @p3;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p4
WHERE "Id" = @p5;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p6
WHERE "Id" = @p7;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p8
WHERE "Id" = @p9;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p10
WHERE "Id" = @p11;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p12
WHERE "Id" = @p13;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p14
WHERE "Id" = @p15;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p16
WHERE "Id" = @p17;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p18
WHERE "Id" = @p19;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p20
WHERE "Id" = @p21;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p22
WHERE "Id" = @p23;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p24
WHERE "Id" = @p25;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p26
WHERE "Id" = @p27;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p28
WHERE "Id" = @p29;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p30
WHERE "Id" = @p31;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p32
WHERE "Id" = @p33;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p34
WHERE "Id" = @p35;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p36
WHERE "Id" = @p37;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p38
WHERE "Id" = @p39;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p40
WHERE "Id" = @p41;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p42
WHERE "Id" = @p43;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p44, "RawJson" = @p45, "UpdatedAt" = @p46
WHERE "Id" = @p47;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p48
WHERE "Id" = @p49;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p50, "RawJson" = @p51, "UpdatedAt" = @p52
WHERE "Id" = @p53;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p54
WHERE "Id" = @p55;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p56, "RawJson" = @p57, "UpdatedAt" = @p58
WHERE "Id" = @p59;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p60
WHERE "Id" = @p61;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p62
WHERE "Id" = @p63;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p64
WHERE "Id" = @p65;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p66
WHERE "Id" = @p67;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p68
WHERE "Id" = @p69;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p70
WHERE "Id" = @p71;
UPDATE "WhatsAppTemplates" SET "LastSyncedAt" = @p72
WHERE "Id" = @p73;
2025-09-30 20:03:32.620 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=3 skipped=31 syncedAt="2025-09-30T14:33:30.1097005Z"
2025-09-30 20:03:32.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 20:03:32.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 20:03:32.633 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 20:03:32.635 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 20:03:32.636 +05:30 [INF] TemplateSyncWorker: sweep finished in 2613 ms; processed=2; next run ~"2025-09-30T20:33:30.0238167Z"
2025-09-30 20:03:35.115 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:33:35.1113171+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:03:45.124 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:33:45.1207707+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:03:55.133 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:33:55.1311715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:05.142 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:34:05.1398821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:15.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:34:15.1501960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:25.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:34:25.1572234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:35.178 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:34:35.1760728+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:45.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:34:45.1887222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:04:55.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:34:55.1991641+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:05.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:05.2223160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:15.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:15.2336201+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:25.243 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:25.2405832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:35.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:35.2508817+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:45.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:45.2594791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:05:55.269 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:35:55.2658111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:05.279 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:05.2774557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:15.286 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:15.2846345+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:25.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:25.3041455+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:35.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:35.3198460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:45.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:45.3365490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:06:55.344 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:36:55.3423574+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:05.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:05.3502313+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:15.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:15.3571005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:25.372 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:25.3708160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:35.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:35.3750913+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:45.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:45.3806524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:07:55.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:37:55.3957490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:05.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:38:05.4145657+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:15.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:38:15.4232508+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:25.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:38:25.4317694+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:35.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:38:35.5008587+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:45.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:38:45.5058891+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:08:55.523 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:38:55.5209899+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:05.537 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:05.5355074+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:15.560 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:15.5583955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:25.567 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:25.5647725+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:35.574 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:35.5724460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:45.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:45.5869326+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:09:55.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:39:55.6061323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:05.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:40:05.6175654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:15.634 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T14:40:15.6304115+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:25.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:40:25.6456839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:35.659 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:40:35.6570490+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:45.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:40:45.6696049+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:10:55.676 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:40:55.6746298+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:05.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:05.6900844+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:15.698 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:15.6961237+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:25.705 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:25.7035496+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:35.715 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:35.7140602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:45.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:45.7260157+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:11:55.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:41:55.7395447+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:05.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:05.7458123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:15.755 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:15.7539917+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:25.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:25.7625323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:35.780 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:35.7786015+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:45.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:45.7909241+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:12:55.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:42:55.8104264+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:05.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:43:05.8216146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:15.829 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:43:15.8274164+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:25.899 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:43:25.8425213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:35.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:43:35.9143862+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:45.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:43:45.9256972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:13:55.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:43:55.9384450+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:05.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:05.9518469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:15.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:15.9573103+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:26.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:26.0102597+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:36.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:36.0286983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:46.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:46.0447425+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:14:56.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:44:56.0498134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:06.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:06.0583816+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:16.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:16.0664043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:26.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:26.0768916+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:36.090 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:36.0886689+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:46.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:46.0933110+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:15:56.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:45:56.1036536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:06.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:06.1252542+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:16.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:16.1369319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:26.143 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:26.1414319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:36.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:36.1490091+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:46.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:46.1651766+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:16:56.178 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:46:56.1768166+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:06.188 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:47:06.1862695+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:16.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:47:16.2084359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:26.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:47:26.2124420+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:36.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:47:36.2336453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:46.249 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:47:46.2476099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:17:56.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:47:56.2641470+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:06.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:48:06.2736155+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:16.285 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:48:16.2841380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:26.361 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:48:26.2906977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:36.378 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:48:36.3762847+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:46.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:48:46.3813000+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:18:56.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:48:56.3870358+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:06.392 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:06.3911705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:16.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:16.4081843+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:26.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:26.4276057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:36.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:36.4420446+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:46.456 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:46.4546739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:19:56.466 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:49:56.4651307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:06.479 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T14:50:06.4771672+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:16.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:50:16.5009862+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:26.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:50:26.5063165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:36.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:50:36.5240421+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:46.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:50:46.5400323+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:20:56.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:50:56.5489381+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:06.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:06.5653112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:16.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:16.5758279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:26.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:26.5904898+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:36.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:36.5990253+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:46.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:46.6080805+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:21:56.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:51:56.6181046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:06.636 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:06.6348751+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:16.650 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:16.6487967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:26.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:26.6650446+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:36.681 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:36.6793154+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:46.699 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:46.6976447+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:22:56.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:52:56.7062238+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:23:06.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:53:06.7216042+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:23:16.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T14:53:16.7313567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:23:26.857 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__now_0='2025-09-30T14:53:26.7562224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:55:19.790 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 20:55:19.839 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 20:55:19.859 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 20:55:20.855 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 20:55:21.493 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 20:55:21.514 +05:30 [INF] ClickLogWorker started
2025-09-30 20:55:21.752 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 20:55:21.760 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 20:55:21.761 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 20:55:21.762 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 20:55:21.763 +05:30 [INF] Hosting environment: Development
2025-09-30 20:55:21.764 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 20:55:21.774 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__cutoff_0='2025-09-23T15:25:20.0039163Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 20:55:22.570 +05:30 [INF] ClickLogWorker stopped
2025-09-30 20:55:26.649 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__now_0='2025-09-30T15:25:26.5279160+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:55:26.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 20:55:26.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 252.4457ms
2025-09-30 20:55:26.977 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 20:55:26.987 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.1168ms
2025-09-30 20:55:27.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 20:55:27.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.5154ms
2025-09-30 20:55:27.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 20:55:27.566 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 316.0396ms
2025-09-30 20:55:31.556 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 20:55:31.608 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 20:55:31.635 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 20:55:31.639 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 20:55:31.642 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 20:55:31.652 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 20:55:31.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 20:55:31.659 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 20:55:31.661 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 20:55:31.663 +05:30 [INF] TemplateSyncWorker: sweep finished in 140 ms; processed=2; next run ~"2025-09-30T21:25:31.5236869Z"
2025-09-30 20:55:36.660 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:25:36.6575005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:55:46.681 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:25:46.6796048+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:55:56.694 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:25:56.6916080+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:06.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:26:06.7075029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:16.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:26:16.7219185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:19.159 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 350
2025-09-30 20:56:19.163 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 20:56:19.261 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:56:19.280 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 20:56:19.320 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 20:56:19.330 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 46.8466ms
2025-09-30 20:56:19.332 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:56:19.333 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 173.86ms
2025-09-30 20:56:26.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:26:26.7348213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:36.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:26:36.7500821+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:46.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:26:46.7651989+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:56:56.781 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:26:56.7792897+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:06.801 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:27:06.7989191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:16.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:27:16.8064507+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:26.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:27:26.8147470+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:29.736 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 20:57:29.751 +05:30 [INF] CORS policy execution successful.
2025-09-30 20:57:29.754 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:57:29.756 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 20:57:29.762 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 20:57:29.784 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 26.6747ms
2025-09-30 20:57:29.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:57:29.787 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 50.8866ms
2025-09-30 20:57:36.827 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:27:36.8249714+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:46.838 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:27:46.8339538+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:57:56.852 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:27:56.8506391+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:06.870 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:06.8679646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:10.460 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 20:58:10.464 +05:30 [INF] CORS policy execution successful.
2025-09-30 20:58:10.467 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:58:10.469 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 20:58:10.478 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 20:58:10.480 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 9.2679ms
2025-09-30 20:58:10.481 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:58:10.483 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 22.1384ms
2025-09-30 20:58:16.880 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:16.8776355+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:26.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:26.9011207+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:36.910 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:36.9085533+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:46.925 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:46.9221426+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:58:56.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:28:56.9385164+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:06.955 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:06.9527279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:16.963 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:16.9612637+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:26.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:26.9756353+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:36.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:36.9884011+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:42.014 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 350
2025-09-30 20:59:42.021 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:59:42.022 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 20:59:42.024 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 20:59:42.025 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 2.0572ms
2025-09-30 20:59:42.027 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 20:59:42.028 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 15.3467ms
2025-09-30 20:59:47.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:47.0017395+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 20:59:57.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:29:57.0138116+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:02.209 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 356
2025-09-30 21:00:02.211 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:02.212 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:00:02.214 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:00:02.216 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 2.2691ms
2025-09-30 21:00:02.217 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:02.218 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 8.9784ms
2025-09-30 21:00:07.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:30:07.0209999+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:17.029 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:30:17.0277452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:27.098 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:30:27.0390623+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:29.184 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 356
2025-09-30 21:00:29.189 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:29.191 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:00:29.193 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:00:29.195 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 2.6674ms
2025-09-30 21:00:29.197 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:29.198 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 14.508ms
2025-09-30 21:00:37.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:30:37.1006309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:47.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:30:47.1173213+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:00:49.535 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow?X-Auth-Key=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - application/json 356
2025-09-30 21:00:49.542 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:49.543 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:00:49.546 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:00:49.547 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 2.115ms
2025-09-30 21:00:49.548 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:00:49.549 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow?X-Auth-Key=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - 401 null application/json; charset=utf-8 13.9269ms
2025-09-30 21:00:57.138 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:30:57.1361453+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:07.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:31:07.1460440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:17.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:31:17.1574876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:27.176 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:31:27.1743856+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:37.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:31:37.1933695+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:47.210 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:31:47.2067224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:01:57.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:31:57.2165703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:07.228 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:07.2262362+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:17.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:17.2464731+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:27.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:27.2583357+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:37.288 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:37.2698422+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:47.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:47.3007139+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:02:57.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:32:57.3048476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:07.314 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:07.3125419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:17.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:17.3214169+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:27.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:27.3310688+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:37.339 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:37.3362146+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:47.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:47.3556069+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:03:57.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:33:57.3753242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:07.396 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:07.3942412+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:17.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:17.4114689+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:27.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:27.4255842+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:31.090 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 356
2025-09-30 21:04:31.096 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:04:31.097 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:04:31.098 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:04:31.099 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 1.7646ms
2025-09-30 21:04:31.101 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:04:31.101 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 11.7073ms
2025-09-30 21:04:37.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:37.4419841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:47.453 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:47.4513776+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:04:57.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:34:57.4595608+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:07.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:35:07.4626716+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:14.758 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 356
2025-09-30 21:05:14.760 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:05:14.761 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:05:14.763 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:05:14.764 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 1.8855ms
2025-09-30 21:05:14.765 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:05:14.766 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 7.8161ms
2025-09-30 21:05:17.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:35:17.4682107+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:27.540 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:35:27.4826073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:37.557 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:35:37.5560753+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:47.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:35:47.5651452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:05:57.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:35:57.5714043+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:07.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:07.5831601+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:17.598 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:17.5968872+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:27.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:27.6172690+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:37.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:37.6261879+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:47.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:47.6468325+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:06:57.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:36:57.6603870+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:07.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:07.6755648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:17.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:17.6928210+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:27.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:27.7018715+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:37.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:37.7116334+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:47.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:47.7213226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:07:57.743 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:37:57.7418855+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:07.755 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:07.7532684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:17.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:17.7570096+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:27.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:27.7746810+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:37.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:37.7813586+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:47.790 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:47.7887962+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:08:57.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:38:57.8073606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:07.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:07.8122419+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:17.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:17.8288221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:27.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:27.8455348+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:37.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:37.8602773+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:47.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:47.8750965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:09:57.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:39:57.8832722+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:07.893 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:40:07.8914619+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:17.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:40:17.9010279+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:27.969 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:40:27.9118368+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:37.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:40:37.9716023+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:47.978 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:40:47.9764684+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:10:57.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:40:57.9863606+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:08.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:07.9996152+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:18.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:18.0341983+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:28.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:28.0475085+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:38.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:38.0527598+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:48.057 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:48.0561138+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:11:58.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:41:58.0711234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:08.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:08.0777557+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:18.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:18.0968749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:28.115 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:28.1133218+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:38.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:38.1192356+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:48.136 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:48.1353659+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:12:58.141 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:42:58.1395410+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:08.149 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:08.1475575+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:18.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:18.1646622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:28.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:28.1824652+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:38.191 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:38.1904396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:48.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:48.1987182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:13:58.210 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:43:58.2087660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:25:57.258 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:25:57.306 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 21:25:57.320 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 21:25:58.115 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 21:25:58.630 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 21:25:58.649 +05:30 [INF] ClickLogWorker started
2025-09-30 21:25:58.841 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 21:25:58.853 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 21:25:58.854 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 21:25:58.855 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:25:58.856 +05:30 [INF] Hosting environment: Development
2025-09-30 21:25:58.857 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 21:25:58.859 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__cutoff_0='2025-09-23T15:55:57.4090487Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 21:25:59.707 +05:30 [INF] ClickLogWorker stopped
2025-09-30 21:26:03.719 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T15:56:03.6602376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:26:04.991 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 21:26:05.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 149.9193ms
2025-09-30 21:26:05.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:26:05.162 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.0733ms
2025-09-30 21:26:05.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 21:26:05.238 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.4798ms
2025-09-30 21:26:05.372 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 21:26:05.608 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.4002ms
2025-09-30 21:26:08.677 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 21:26:08.711 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:26:08.728 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:26:08.732 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 21:26:08.734 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 21:26:08.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:26:08.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:26:08.747 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 21:26:08.748 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 21:26:08.750 +05:30 [INF] TemplateSyncWorker: sweep finished in 93 ms; processed=2; next run ~"2025-09-30T21:56:08.6567791Z"
2025-09-30 21:26:13.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:56:13.7340336+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:26:23.453 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 356
2025-09-30 21:26:23.457 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:26:23.523 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:26:23.537 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:26:23.573 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:26:23.583 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 40.7761ms
2025-09-30 21:26:23.584 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:26:23.585 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 132.3084ms
2025-09-30 21:26:23.744 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:56:23.7410969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:26:33.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:56:33.7564953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:26:43.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:56:43.7815456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:26:53.791 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:56:53.7889312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:03.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:57:03.7956508+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:13.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:57:13.8171162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:23.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:57:23.8293430+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:33.845 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:57:33.8408224+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:34.213 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 377
2025-09-30 21:27:34.222 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:27:34.225 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:27:34.226 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:27:34.232 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:27:34.235 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 7.3347ms
2025-09-30 21:27:34.237 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:27:34.238 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 25.1957ms
2025-09-30 21:27:43.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:57:43.8646439+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:27:53.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:57:53.8761517+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:01.400 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 377
2025-09-30 21:28:01.414 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:28:01.418 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:28:01.420 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:28:01.430 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:28:01.433 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 10.6057ms
2025-09-30 21:28:01.435 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:28:01.437 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 36.647ms
2025-09-30 21:28:03.897 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:58:03.8942027+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:13.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:58:13.9102923+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:23.926 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:58:23.9245708+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:33.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:58:33.9402310+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:43.954 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:58:43.9523523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:53.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:58:53.9691300+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:28:57.031 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 21:28:57.046 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 14.4372ms
2025-09-30 21:28:57.090 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 21:28:57.090 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:28:57.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 4.8029ms
2025-09-30 21:28:57.106 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.9277ms
2025-09-30 21:28:57.341 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 21:28:57.439 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.2421ms
2025-09-30 21:29:03.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:59:03.9844565+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:29:13.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:59:13.9965644+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:29:24.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:59:24.0088378+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:29:34.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:59:34.0248851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:29:44.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T15:59:44.0309230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:29:49.706 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 21:29:49.709 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:29:49.710 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:29:49.711 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:29:49.714 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:29:49.716 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 3.1348ms
2025-09-30 21:29:49.717 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:29:49.718 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 11.7756ms
2025-09-30 21:29:54.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T15:59:54.0438435+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:04.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:00:04.0521743+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:14.071 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T16:00:14.0673118+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:24.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:00:24.0841703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:34.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:00:34.0939242+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:44.101 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:00:44.0998248+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:30:54.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:00:54.1048593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:04.176 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:01:04.1138922+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:14.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:01:14.1946182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:24.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:01:24.2046826+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:34.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:01:34.2094935+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:44.225 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:01:44.2226097+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:31:54.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:01:54.2307219+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:04.245 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:04.2440113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:14.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:14.2489092+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:24.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:24.2722676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:34.288 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:34.2864788+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:44.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:44.2925460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:32:54.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:02:54.3172314+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:04.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:04.3259324+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:14.337 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:14.3350735+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:24.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:24.3440918+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:34.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:34.3518133+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:44.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:44.3581602+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:33:54.371 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:03:54.3695793+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:04.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:04.3782660+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:14.385 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:14.3829068+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:24.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:24.3975265+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:34.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:34.4065979+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:44.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:44.4255967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:34:54.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:04:54.4414775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:04.462 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:04.4603129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:14.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:14.4654528+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:24.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:24.4782253+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:34.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:34.4899952+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:44.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:44.5004222+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:35:54.514 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:05:54.5126215+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:36:04.605 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:06:04.5293403+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:36:14.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:06:14.6084400+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:36:38.193 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:36:38.233 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 21:36:38.248 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 21:36:39.232 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 21:36:39.873 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 21:36:39.896 +05:30 [INF] ClickLogWorker started
2025-09-30 21:36:40.096 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 21:36:40.101 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 21:36:40.101 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 21:36:40.103 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:36:40.104 +05:30 [INF] Hosting environment: Development
2025-09-30 21:36:40.105 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 21:36:40.116 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__cutoff_0='2025-09-23T16:06:38.3582306Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 21:36:40.957 +05:30 [INF] ClickLogWorker stopped
2025-09-30 21:36:44.986 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T16:06:44.9167389+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:36:45.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 21:36:46.046 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 216.7628ms
2025-09-30 21:36:46.167 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 21:36:46.167 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:36:46.178 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.7821ms
2025-09-30 21:36:46.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.0638ms
2025-09-30 21:36:46.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 21:36:46.734 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 305.9816ms
2025-09-30 21:36:49.931 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 21:36:49.975 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:36:50.002 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:36:50.007 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 21:36:50.008 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 21:36:50.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:36:50.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:36:50.027 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 21:36:50.028 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 21:36:50.031 +05:30 [INF] TemplateSyncWorker: sweep finished in 129 ms; processed=2; next run ~"2025-09-30T22:06:49.9021648Z"
2025-09-30 21:36:54.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:06:54.9914575+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:05.001 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:07:04.9991125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:15.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:07:15.0089337+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:25.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:07:25.0146569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:29.776 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 21:37:29.781 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:37:29.842 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:37:29.909 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:37:29.929 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:37:29.974 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:37:29.984 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 50.3241ms
2025-09-30 21:37:29.986 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:37:29.988 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 211.5359ms
2025-09-30 21:37:35.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:07:35.0234694+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:45.036 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:07:45.0338332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:37:55.045 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:07:55.0432314+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:05.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:08:05.0495408+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:15.065 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T16:08:15.0591032+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:25.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:08:25.0806214+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:35.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:08:35.0948735+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:36.969 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:38:36.980 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:38:36.981 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:38:36.985 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:38:36.986 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 3.8428ms
2025-09-30 21:38:36.987 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:38:36.988 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 18.87ms
2025-09-30 21:38:45.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:08:45.1039622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:38:55.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:08:55.1222964+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:05.143 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:05.1404227+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:15.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:15.1499121+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:25.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:25.1691283+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:35.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:35.1814466+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:45.202 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:45.2000709+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:39:55.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:09:55.2074084+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:05.223 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:10:05.2203648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:15.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:10:15.2392613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:25.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:10:25.2506360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:35.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:10:35.2566111+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:45.277 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:10:45.2750073+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:40:55.284 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:10:55.2825182+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:05.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:11:05.2936646+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:15.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:11:15.3010620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:25.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:11:25.3110667+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:35.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:11:35.3219267+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:45.386 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:11:45.3268965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:41:55.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:11:55.3911236+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:05.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:05.4106150+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:15.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:15.4227628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:25.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:25.4350703+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:35.445 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:35.4435864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:45.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:45.4597865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:42:55.474 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:12:55.4728307+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:43:05.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:13:05.4896906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:43:15.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:13:15.5157639+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:43:22.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 21:43:22.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 14.3896ms
2025-09-30 21:43:22.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:43:22.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 21:43:22.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 3.9966ms
2025-09-30 21:43:22.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7629ms
2025-09-30 21:43:22.601 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 21:43:22.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.9804ms
2025-09-30 21:43:51.415 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:43:51.458 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 21:43:51.477 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 21:43:52.401 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 21:43:53.091 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 21:43:53.122 +05:30 [INF] ClickLogWorker started
2025-09-30 21:43:53.333 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 21:43:53.366 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 21:43:53.367 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__cutoff_0='2025-09-23T16:13:51.5912702Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 21:43:53.367 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 21:43:53.371 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:43:53.372 +05:30 [INF] Hosting environment: Development
2025-09-30 21:43:53.374 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 21:43:54.178 +05:30 [INF] ClickLogWorker stopped
2025-09-30 21:43:58.222 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='2025-09-30T16:13:58.1415231+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:43:58.638 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:43:58.665 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:43:58.761 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:43:58.781 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:43:58.866 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:43:58.889 +05:30 [INF] [CustomAPI:"087f64c2-f909-47cc-863b-9b60547d827f"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:43:58.922 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:43:58.999 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:43:59.001 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:43:59.781 +05:30 [INF] Received HTTP response headers after 775.5177ms - 401
2025-09-30 21:43:59.784 +05:30 [INF] End processing HTTP request after 787.1122ms - 401
2025-09-30 21:43:59.790 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 09:00:00 PDT. The current time is Tuesday, 30-Sep-25 09:13:59 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AXyIcN0txc-Z2CIwEyK4Kkf"}}
2025-09-30 21:43:59.798 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:43:59.823 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 1036.3838ms
2025-09-30 21:43:59.825 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:43:59.836 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 1201.1515ms
2025-09-30 21:44:01.143 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 21:44:01.267 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 124.7803ms
2025-09-30 21:44:01.296 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:44:01.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 9.8569ms
2025-09-30 21:44:01.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 21:44:01.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2343ms
2025-09-30 21:44:01.646 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 21:44:01.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.2799ms
2025-09-30 21:44:03.161 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 21:44:03.191 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:44:03.220 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:44:03.233 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 21:44:03.236 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 21:44:03.254 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:44:03.261 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 21:44:03.265 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 21:44:03.267 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 21:44:03.270 +05:30 [INF] TemplateSyncWorker: sweep finished in 137 ms; processed=2; next run ~"2025-09-30T22:14:03.1331671Z"
2025-09-30 21:44:04.812 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:44:04.822 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:04.824 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:44:04.832 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:44:04.836 +05:30 [INF] [CustomAPI:"f5b27c1e-64c4-41f8-9d1e-a9904bac636d"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:44:04.840 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:44:04.844 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:04.845 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:05.216 +05:30 [INF] Received HTTP response headers after 369.3972ms - 401
2025-09-30 21:44:05.217 +05:30 [INF] End processing HTTP request after 373.3429ms - 401
2025-09-30 21:44:05.218 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 09:00:00 PDT. The current time is Tuesday, 30-Sep-25 09:14:04 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"ADMSfFExNGX656f5P_7MaA_"}}
2025-09-30 21:44:05.221 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:44:05.222 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 396.8918ms
2025-09-30 21:44:05.224 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:05.226 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 414.2955ms
2025-09-30 21:44:08.237 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:14:08.2340750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:44:14.770 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:44:14.775 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:14.776 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:44:14.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:44:14.794 +05:30 [INF] [CustomAPI:"ecd0336b-3dd3-4226-a9a5-a2ac55aa5431"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:44:14.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:44:14.801 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:14.803 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:15.134 +05:30 [INF] Received HTTP response headers after 330.2365ms - 401
2025-09-30 21:44:15.136 +05:30 [INF] End processing HTTP request after 334.6806ms - 401
2025-09-30 21:44:15.137 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 09:00:00 PDT. The current time is Tuesday, 30-Sep-25 09:14:14 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AtWfOB_MUG974vdZOq4MQoA"}}
2025-09-30 21:44:15.139 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:44:15.140 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 362.1249ms
2025-09-30 21:44:15.142 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:15.143 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 373.3303ms
2025-09-30 21:44:16.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:44:16.571 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:16.572 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:44:16.577 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:44:16.581 +05:30 [INF] [CustomAPI:"271a8b24-a917-4fcb-ad8e-307eba1f92e9"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:44:16.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:44:16.588 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:16.589 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:44:16.936 +05:30 [INF] Received HTTP response headers after 345.3548ms - 401
2025-09-30 21:44:16.937 +05:30 [INF] End processing HTTP request after 349.791ms - 401
2025-09-30 21:44:16.939 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 09:00:00 PDT. The current time is Tuesday, 30-Sep-25 09:14:16 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"AEewFRpzSThicqxjqGl9aS4"}}
2025-09-30 21:44:16.942 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:44:16.943 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 369.1551ms
2025-09-30 21:44:16.946 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:44:16.947 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 378.5164ms
2025-09-30 21:44:18.244 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:14:18.2415965+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:44:28.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:14:28.2505125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:44:38.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:14:38.2559981+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:44:48.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:14:48.2604592+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:44:58.274 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:14:58.2726978+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:08.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:15:08.2801851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:17.324 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 21:45:17.330 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:45:17.332 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:45:17.334 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:45:17.341 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:45:17.348 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 9.7667ms
2025-09-30 21:45:17.350 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:45:17.351 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 27.5067ms
2025-09-30 21:45:18.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:15:18.2905228+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:28.297 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:15:28.2952935+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:38.311 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:15:38.3095998+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:48.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:15:48.3194622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:45:50.875 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 342
2025-09-30 21:45:50.878 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:45:50.880 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:45:50.881 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:45:50.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:45:50.889 +05:30 [INF] [CustomAPI:"fd64c87d-6ec1-4643-bdd5-9b2b78cac831"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:45:50.894 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:45:50.897 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:45:50.898 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:45:51.417 +05:30 [INF] Received HTTP response headers after 517.4594ms - 401
2025-09-30 21:45:51.419 +05:30 [INF] End processing HTTP request after 521.7497ms - 401
2025-09-30 21:45:51.420 +05:30 [ERR] ❌ Failed to fetch templates (provider=meta_cloud) for BusinessId "9841bcab-ca71-439f-8691-d85ada887b01": HTTP 401 Body: {"error":{"message":"Error validating access token: Session has expired on Tuesday, 30-Sep-25 09:00:00 PDT. The current time is Tuesday, 30-Sep-25 09:15:50 PDT.","type":"OAuthException","code":190,"error_subcode":463,"fbtrace_id":"A2BbP_V4jVBV_ZbwE_mdfDv"}}
2025-09-30 21:45:51.422 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:45:51.424 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 541.5671ms
2025-09-30 21:45:51.426 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:45:51.427 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 551.7731ms
2025-09-30 21:45:58.332 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:15:58.3297438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:46:08.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:16:08.3470734+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:46:18.361 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:16:18.3586802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:46:27.706 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-30 21:46:27.709 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:27.710 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 4.4843ms
2025-09-30 21:46:27.713 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 557
2025-09-30 21:46:27.717 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:27.799 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 02:44:38 PM', Current time (UTC): '30-09-2025 04:16:27 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-30 21:46:27.837 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30-09-2025 02:44:38 PM', Current time (UTC): '30-09-2025 04:16:27 PM'.
2025-09-30 21:46:27.842 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-09-30 21:46:27.846 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-30 21:46:27.847 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 401 0 null 134.6024ms
2025-09-30 21:46:28.369 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:16:28.3666530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:46:34.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-09-30 21:46:34.744 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:34.745 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.4069ms
2025-09-30 21:46:34.748 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 48
2025-09-30 21:46:34.751 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:34.751 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 21:46:34.756 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-09-30 21:46:34.765 +05:30 [INF] 🔑 Login attempt for email: test@gmail.com
2025-09-30 21:46:34.828 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='test@gmail.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-09-30 21:46:34.885 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-09-30 21:46:34.981 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='6376a399-238e-4a8c-b2b8-b66a69a74c0c'], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT t0."Code", t0."Group"
FROM "Users" AS u
INNER JOIN "Businesses" AS b ON u."BusinessId" = b."Id"
INNER JOIN (
    SELECT p."PermissionId", p."PlanId"
    FROM "PlanPermissions" AS p
    WHERE p."IsActive"
) AS t ON b."PlanId" = t."PlanId"
INNER JOIN (
    SELECT p0."Id", p0."Code", p0."Group"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t0 ON t."PermissionId" = t0."Id"
WHERE u."Id" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "RolePermissions" AS r
    WHERE r."IsActive" AND NOT (r."IsRevoked") AND r."RoleId" = u."RoleId" AND r."PermissionId" = t0."Id")
2025-09-30 21:46:34.990 +05:30 [INF] ✅ Token generated for: test@gmail.com
2025-09-30 21:46:35.000 +05:30 [INF] 🔎 JWT includes plan_id: 5f9f5de1-a0b2-48ba-b03d-77b27345613f
2025-09-30 21:46:35.001 +05:30 [INF] ✅ Login successful for test@gmail.com, Role: business, PlanId: "5f9f5de1-a0b2-48ba-b03d-77b27345613f"
2025-09-30 21:46:35.004 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:46:35.006 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 248.7365ms
2025-09-30 21:46:35.007 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-09-30 21:46:35.008 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 260.2267ms
2025-09-30 21:46:35.012 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 21:46:35.015 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:35.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.8036ms
2025-09-30 21:46:35.021 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 21:46:35.025 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:35.039 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.043 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 21:46:35.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-09-30 21:46:35.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 21:46:35.098 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:46:35.108 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 62.8408ms
2025-09-30 21:46:35.109 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 89.497ms
2025-09-30 21:46:35.125 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 21:46:35.129 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:35.130 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.4153ms
2025-09-30 21:46:35.143 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 21:46:35.147 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:35.151 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.152 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 21:46:35.158 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 21:46:35.163 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:46:35.165 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 10.8513ms
2025-09-30 21:46:35.166 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.168 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.693ms
2025-09-30 21:46:35.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-09-30 21:46:35.251 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:35.253 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.254 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-09-30 21:46:35.264 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='5f9f5de1-a0b2-48ba-b03d-77b27345613f'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."Id" = @__planId_0
LIMIT 1
2025-09-30 21:46:35.271 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`3[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:46:35.274 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 15.9276ms
2025-09-30 21:46:35.276 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-09-30 21:46:35.279 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 31.3572ms
2025-09-30 21:46:38.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:16:38.3746896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:46:40.079 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 21:46:40.081 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 21:46:40.088 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.091 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 12.9449ms
2025-09-30 21:46:40.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 204 null null 11.6591ms
2025-09-30 21:46:40.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - null null
2025-09-30 21:46:40.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-09-30 21:46:40.104 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.107 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.108 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.109 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 21:46:40.113 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 21:46:40.113 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 21:46:40.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 21:46:40.134 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat_api.WhatsAppSettings.Models.WhatsAppSettingEntity'.
2025-09-30 21:46:40.134 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 21:46:40.140 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 21:46:40.149 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 33.9744ms
2025-09-30 21:46:40.149 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 32.4766ms
2025-09-30 21:46:40.150 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.152 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-09-30 21:46:40.153 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/PINNACLE/numbers - 200 null application/json; charset=utf-8 51.5409ms
2025-09-30 21:46:40.154 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 200 null application/json; charset=utf-8 52.5614ms
2025-09-30 21:46:40.183 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 21:46:40.187 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 21:46:40.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 9.6957ms
2025-09-30 21:46:40.195 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.201 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 21:46:40.201 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 204 null null 14.1796ms
2025-09-30 21:46:40.206 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.211 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.212 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 21:46:40.218 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 21:46:40.222 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 21:46:40.223 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 8.598ms
2025-09-30 21:46:40.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - null null
2025-09-30 21:46:40.225 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.227 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:40.228 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 27.3703ms
2025-09-30 21:46:40.229 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.233 +05:30 [INF] Route matched with {action = "List", controller = "WhatsAppNumbers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(System.String) on controller xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController (xbytechat.api).
2025-09-30 21:46:40.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1
ORDER BY w."IsDefault" DESC, w."WhatsAppBusinessNumber"
2025-09-30 21:46:40.242 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.WhatsAppSettings.Models.WhatsAppPhoneNumber, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 21:46:40.243 +05:30 [INF] Executed action xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api) in 8.9283ms
2025-09-30 21:46:40.245 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.WhatsAppSettings.Controllers.WhatsAppNumbersController.List (xbytechat.api)'
2025-09-30 21:46:40.246 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/META_CLOUD/numbers - 200 null application/json; charset=utf-8 21.65ms
2025-09-30 21:46:43.994 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - null null
2025-09-30 21:46:43.996 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:43.997 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/update - 204 null null 3.5812ms
2025-09-30 21:46:44.000 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - application/json 557
2025-09-30 21:46:44.002 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:46:44.003 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 21:46:44.007 +05:30 [INF] Route matched with {action = "UpdateSetting", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSetting(xbytechat_api.WhatsAppSettings.DTOs.SaveWhatsAppSettingDto) on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-09-30 21:46:44.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__dto_Provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__dto_BusinessId_0 AND w."Provider" = @__dto_Provider_1
LIMIT 1
2025-09-30 21:46:44.102 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p2='22ee5a32-2db4-4602-814f-0a24694f5636', @p0='EAAUbmP4285YBPpzPaBPn7KUoSOl3b5u6RULgIp7X34FSbYwTXAGh7jtbJXgMx5LwkWPM8vrc11uf3goL2k8e026wJuEcWjW7g6hQrKpNo6y5WFKbWNlcewcs5h97jHWMpvxbtVz2gO7L3tXdXA67anbQlVH9n4ZCAR7pjybuQKTvV3fax2kWsBvYiksjSr6zyJQdUHo3LqpI2NsHAZBA6fb2DaQARA49oZCiV0aazn4BjrXaqgR5JSrvXY3pxAZD' (Nullable = false), @p1='2025-09-30T16:16:44.0245632Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "WhatsAppSettings" SET "ApiKey" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-09-30 21:46:44.114 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:46:44.116 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api) in 107.7935ms
2025-09-30 21:46:44.117 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.UpdateSetting (xbytechat.api)'
2025-09-30 21:46:44.118 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:7113/api/whatsappsettings/update - 200 null application/json; charset=utf-8 118.3747ms
2025-09-30 21:46:47.126 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:46:47.129 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:46:47.129 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:46:47.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:46:47.136 +05:30 [INF] [CustomAPI:"aed87020-8b9e-4537-97fa-2dc3ebb4d7be"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:46:47.140 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:46:47.142 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:46:47.143 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:46:48.234 +05:30 [INF] Received HTTP response headers after 1090.9146ms - 200
2025-09-30 21:46:48.236 +05:30 [INF] End processing HTTP request after 1093.9685ms - 200
2025-09-30 21:46:48.392 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:16:48.3909567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:03.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:03.0245460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:03.089 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 21:47:03.093 +05:30 [INF] [CustomAPI:"aed87020-8b9e-4537-97fa-2dc3ebb4d7be"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 21:47:03.104 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 21:47:03.112 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 21:47:03.122 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:47:03.123 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:47:04.175 +05:30 [INF] Received HTTP response headers after 1051.4028ms - 200
2025-09-30 21:47:04.176 +05:30 [INF] End processing HTTP request after 1054.5081ms - 200
2025-09-30 21:47:04.268 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='e953d2ab-f8e3-471f-bf03-0f6552518568', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4='f468d694-c120-4e84-8ef1-024085736ca8' (Nullable = true), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T16:17:04.1799386Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T16:17:04.1799386Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 21:47:04.292 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__messageLogId_0='e953d2ab-f8e3-471f-bf03-0f6552518568', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 21:47:04.320 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='78293909-2588-4263-842d-cb4c04695653', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T16:17:04.2946916+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='e953d2ab-f8e3-471f-bf03-0f6552518568' (Nullable = true), @p8='2025-09-30T16:17:04.2950634+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:47:04.323 +05:30 [INF] [CustomAPI:"aed87020-8b9e-4537-97fa-2dc3ebb4d7be"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step="f468d694-c120-4e84-8ef1-024085736ca8"
2025-09-30 21:47:04.324 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:47:04.328 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 17196.8244ms
2025-09-30 21:47:04.329 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:47:04.329 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 17202.956ms
2025-09-30 21:47:13.034 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:13.0320631+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:23.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:23.0509563+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:33.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:33.0635803+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:43.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:43.0709312+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:47:53.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:17:53.0827769+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:03.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:03.0909429+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:13.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:13.0998905+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:23.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:23.1093304+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:33.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:33.1257946+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:43.141 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:43.1399362+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:48:53.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:18:53.1490573+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:03.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:19:03.1546629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:13.225 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:19:13.2232713+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:23.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:19:23.2402159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:23.590 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 393
2025-09-30 21:49:23.592 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:49:23.594 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:49:23.599 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:49:23.602 +05:30 [INF] [CustomAPI:"9fbe5994-95c3-4b3c-aa9d-dd04aec9f78b"] Begin send. biz="9841bcab-ca71-439f-8691-d85ada887b01" pnid=673199269218077 to=********5240 template=welcome_video
2025-09-30 21:49:23.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:49:23.607 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:49:23.608 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:49:25.307 +05:30 [INF] Received HTTP response headers after 1697.4317ms - 200
2025-09-30 21:49:25.309 +05:30 [INF] End processing HTTP request after 1701.7995ms - 200
2025-09-30 21:49:33.555 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:19:33.5543259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:33.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 21:49:33.615 +05:30 [INF] [CustomAPI:"9fbe5994-95c3-4b3c-aa9d-dd04aec9f78b"] Sending welcome_video to ********5240 via META_CLOUD (PNID=673199269218077) video=true
2025-09-30 21:49:33.618 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 21:49:33.622 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 21:49:33.624 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:49:33.625 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:49:34.812 +05:30 [INF] Received HTTP response headers after 1187.0034ms - 200
2025-09-30 21:49:34.813 +05:30 [INF] End processing HTTP request after 1189.6329ms - 200
2025-09-30 21:49:34.819 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='e9e2468f-da51-4958-b63c-58b5f02fb441', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4='f468d694-c120-4e84-8ef1-024085736ca8' (Nullable = true), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T16:19:34.8148782Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='welcome_video' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='META_CLOUD', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T16:19:34.8148782Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 21:49:34.824 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__messageLogId_0='e9e2468f-da51-4958-b63c-58b5f02fb441', @__businessId_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 21:49:34.827 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='241f26e8-8be3-4363-bad9-a9202c43c4c2', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2=NULL, @p3=NULL, @p4='2025-09-30T16:19:34.8258877+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @p8='2025-09-30T16:19:34.8258889+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:49:34.829 +05:30 [INF] [CustomAPI:"9fbe5994-95c3-4b3c-aa9d-dd04aec9f78b"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step="f468d694-c120-4e84-8ef1-024085736ca8"
2025-09-30 21:49:34.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:49:34.831 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 11235.8785ms
2025-09-30 21:49:34.832 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:49:34.833 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 11242.8343ms
2025-09-30 21:49:43.573 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:19:43.5711534+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:49:53.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:19:53.5859984+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:03.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:03.6056948+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:13.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:13.6130095+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:23.626 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:23.6247827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:33.640 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:33.6385208+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:43.648 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:43.6466271+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:50:53.668 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:20:53.6662931+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:03.688 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:03.6870973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:13.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:13.6914841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:23.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:23.6996968+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:33.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:33.7077828+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:43.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:43.7113744+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:51:53.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:21:53.7252721+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:02.760 +05:30 [INF] Request starting HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1769568873&hub.verify_token=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - null null
2025-09-30 21:52:02.786 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:02.789 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:52:02.792 +05:30 [WRN] ❌ WhatsApp webhook verification failed.
2025-09-30 21:52:02.794 +05:30 [INF] Executing ForbidResult with authentication schemes (["Token mismatch."]).
2025-09-30 21:52:02.803 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 12.2654ms
2025-09-30 21:52:02.804 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:02.839 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: No authentication handler is registered for the scheme 'Token mismatch.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Token mismatch.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-30 21:52:02.859 +05:30 [INF] Request finished HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1769568873&hub.verify_token=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - 500 null application/json; charset=utf-8 99.4161ms
2025-09-30 21:52:03.735 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:22:03.7326456+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:13.751 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:22:13.7495296+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:23.757 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:22:23.7558685+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:24.320 +05:30 [INF] Request starting HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1798040227&hub.verify_token=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - null null
2025-09-30 21:52:24.325 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:24.326 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:52:24.329 +05:30 [WRN] ❌ WhatsApp webhook verification failed.
2025-09-30 21:52:24.330 +05:30 [INF] Executing ForbidResult with authentication schemes (["Token mismatch."]).
2025-09-30 21:52:24.333 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 4.7033ms
2025-09-30 21:52:24.334 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:24.370 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: No authentication handler is registered for the scheme 'Token mismatch.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Token mismatch.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-09-30 21:52:24.376 +05:30 [INF] Request finished HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=1798040227&hub.verify_token=api_live_DEV_4f8f3b0f2d7e4f4c9e5b8a1a2d3c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1 - 500 null application/json; charset=utf-8 56.1738ms
2025-09-30 21:52:33.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:22:33.7626029+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:43.776 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:22:43.7747083+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:46.796 +05:30 [INF] Request starting HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=670912245&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - null null
2025-09-30 21:52:46.799 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:46.800 +05:30 [INF] Route matched with {action = "VerifyWebhook", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult VerifyWebhook(System.String, System.String, System.String) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:52:46.804 +05:30 [INF] ✅ WhatsApp webhook verified successfully.
2025-09-30 21:52:46.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-09-30 21:52:46.806 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api) in 4.1923ms
2025-09-30 21:52:46.808 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.VerifyWebhook (xbytechat.api)'
2025-09-30 21:52:46.809 +05:30 [INF] Request finished HTTP/1.1 GET http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp?hub.mode=subscribe&hub.challenge=670912245&hub.verify_token=SPYdyJzlMorCAHYtiayJzlMorUoryJzlMorEYUcGCaRdzy0IMhhK - 200 null text/plain; charset=utf-8 12.3746ms
2025-09-30 21:52:53.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:22:53.7923017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:52:54.523 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 601
2025-09-30 21:52:54.526 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:52:54.530 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:52:54.536 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggNDgxOEY0Mzc5MEM0MUZFMUY5ODA4MDQ5NzdBRkZCNjUA","timestamp":"1759249372","type":"button","button":{"payload":"No","text":"No"}}]},"field":"messages"}]}]}
2025-09-30 21:52:54.539 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:52:54.541 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:52:54.543 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 11.2829ms
2025-09-30 21:52:54.545 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:52:54.546 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 23.2002ms
2025-09-30 21:52:54.637 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggNDgxOEY0Mzc5MEM0MUZFMUY5ODA4MDQ5NzdBRkZCNjUA","timestamp":"1759249372","type":"button","button":{"payload":"No","text":"No"}}]},"field":"messages"}]}]}
2025-09-30 21:52:54.639 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-30 21:52:54.650 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-30 21:53:21.508 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-30 21:53:21.519 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-30T16:23:21.5086583+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:53:23.242 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:23.242 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggNDgxOEY0Mzc5MEM0MUZFMUY5ODA4MDQ5NzdBRkZCNjUA, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==, Text: No
2025-09-30 21:53:23.245 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:53:23.249 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"read","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:23.251 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:53:23.252 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:53:23.254 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-30 21:53:23.255 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 6.1621ms
2025-09-30 21:53:23.258 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:23.259 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 1751.1729ms
2025-09-30 21:53:23.270 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__origin_Id_0='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:23.279 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-30 21:53:28.080 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-30 21:53:29.436 +05:30 [INF] 🟨 Falling back to single available link for step "f468d694-c120-4e84-8ef1-024085736ca8"
2025-09-30 21:53:29.437 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="0c5e1825-c899-41f0-b947-388dbffed015", step="f468d694-c120-4e84-8ef1-024085736ca8")
2025-09-30 21:53:29.447 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__sourceStepId_0='f468d694-c120-4e84-8ef1-024085736ca8', @__flowId_1='0c5e1825-c899-41f0-b947-388dbffed015', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-30 21:53:29.452 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-30 21:53:29.505 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='c28bc813-e632-4cbb-bcac-e3c57a7fc723', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T16:23:29.4559321Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @p9=NULL, @p10='8860f040-1071-44b7-afb1-7cfaec3e1d40' (Nullable = true), @p11=NULL (DbType = Guid), @p12='f468d694-c120-4e84-8ef1-024085736ca8', @p13='welcome_video' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='No'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-30 21:53:29.531 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_context_TargetStepId_0='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @__8__locals1_context_FlowId_1='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-30 21:53:29.557 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:53:29.559 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:53:29.560 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:53:31.578 +05:30 [INF] Received HTTP response headers after 2015.9302ms - 200
2025-09-30 21:53:31.579 +05:30 [INF] End processing HTTP request after 2019.9656ms - 200
2025-09-30 21:53:36.253 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__now_0='2025-09-30T16:23:36.2478506+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:53:36.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__8__locals1_context_BusinessId_0 AND w."IsActive"
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:53:36.260 +05:30 [INF] ➡️ SEND-INTENT flow="0c5e1825-c899-41f0-b947-388dbffed015" step="00e8efb2-eb9d-4c6d-a516-1ea299da5c61" tmpl=template_1 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-30 21:53:36.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 21:53:36.267 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 21:53:36.271 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:53:36.272 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:53:37.490 +05:30 [INF] Received HTTP response headers after 1216.3222ms - 200
2025-09-30 21:53:37.492 +05:30 [INF] End processing HTTP request after 1220.5284ms - 200
2025-09-30 21:53:37.521 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='c255e10e-5657-431f-90ab-de03596e116b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T16:23:37.5004701Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='0f05246c-8db9-4731-848a-3721cf24507f' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","message_status":"accepted"}]}', @p10='5a51b40f-945a-4884-ab5f-b71da75b1c66' (Nullable = true), @p11=NULL (DbType = Guid), @p12='00e8efb2-eb9d-4c6d-a516-1ea299da5c61', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='0f05246c-8db9-4731-848a-3721cf24507f', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 2","ty":"QUICK_REPLY","v":"","ns":"0f631cc5-7088-49ad-82c6-2f7a13484896"}]', @p22='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p23='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-30T16:23:37.5001185Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_1' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-30T16:23:37.5001199Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-30 21:53:37.535 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"read","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:37.547 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-30 21:53:37.550 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:53:37.559 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:37.563 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:37.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:37.579 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p3='e9e2468f-da51-4958-b63c-58b5f02fb441', @p0='marketing', @p1='cea8e7ee1b043060e8a66b7bf6582206', @p2='True' (Nullable = true), @p4='410a4cc4-ce2b-42a7-bcf2-99445cc375c6', @p5='9841bcab-ca71-439f-8691-d85ada887b01', @p6='marketing', @p7='cea8e7ee1b043060e8a66b7bf6582206', @p8='2025-09-30T16:23:37.5615320+00:00' (DbType = DateTime), @p9='read' (Nullable = false), @p10='True' (Nullable = true), @p11=NULL (DbType = Guid), @p12='2025-09-30T16:20:28.0000000+00:00' (DbType = DateTime), @p13='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"read","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p14=NULL (DbType = Decimal), @p15=NULL, @p16='META_CLOUD' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==', @p18='d0e30a9a-41cf-4b23-8063-333736073434', @p19='9841bcab-ca71-439f-8691-d85ada887b01', @p20='marketing', @p21='cea8e7ee1b043060e8a66b7bf6582206', @p22='2025-09-30T16:23:37.5648717+00:00' (DbType = DateTime), @p23='pricing_update' (Nullable = false), @p24='True' (Nullable = true), @p25=NULL (DbType = Guid), @p26='2025-09-30T16:20:28.0000000+00:00' (DbType = DateTime), @p27='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"read","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p28=NULL (DbType = Decimal), @p29=NULL, @p30='META_CLOUD' (Nullable = false), @p31='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "ConversationCategory" = @p0, "ConversationId" = @p1, "IsChargeable" = @p2
WHERE "Id" = @p3
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-30 21:53:37.593 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:53:37.602 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:53:37.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='e9e2468f-da51-4958-b63c-58b5f02fb441', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 21:53:39.022 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-30 21:53:39.025 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.026 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:53:39.029 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"sent","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","expiration_timestamp":"1759249417","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.030 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:53:39.031 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:53:39.032 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.1165ms
2025-09-30 21:53:39.034 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.035 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 12.9952ms
2025-09-30 21:53:39.038 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"sent","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","expiration_timestamp":"1759249417","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.040 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:53:39.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.048 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.061 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='f26b1ad7370af2c949fa7edc89d3fc8b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='3ee69bfa-2cb5-4d98-8f2b-97f2590cce59', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='f26b1ad7370af2c949fa7edc89d3fc8b', @p4='2025-09-30T16:23:39.0468761+00:00' (DbType = DateTime), @p5='sent' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:23:37.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"sent","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","expiration_timestamp":"1759249417","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==', @p14='fa5507bf-9d26-475d-b23f-897fed337adf', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='f26b1ad7370af2c949fa7edc89d3fc8b', @p18='2025-09-30T16:23:39.0512140+00:00' (DbType = DateTime), @p19='pricing_update' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-30T16:23:37.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"sent","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","expiration_timestamp":"1759249417","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-30 21:53:39.072 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:53:39.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:53:39.387 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-30 21:53:39.390 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.391 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:53:39.393 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"read","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.394 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:53:39.394 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"read","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.395 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:53:39.396 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:53:39.396 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.0362ms
2025-09-30 21:53:39.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.399 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.403 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.403 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 15.4624ms
2025-09-30 21:53:39.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='f26b1ad7370af2c949fa7edc89d3fc8b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='eb401692-3841-40e4-8259-bda7c315b6d1', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='f26b1ad7370af2c949fa7edc89d3fc8b', @p4='2025-09-30T16:23:39.4017311+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:23:37.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"read","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:53:39.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:53:39.423 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:53:39.428 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='0f05246c-8db9-4731-848a-3721cf24507f', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 21:53:39.515 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-30 21:53:39.521 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.525 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:53:39.533 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"delivered","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.537 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:53:39.537 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"delivered","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:53:39.539 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:53:39.542 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:53:39.546 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 13.9037ms
2025-09-30 21:53:39.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.554 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:39.564 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:53:39.565 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 50.086ms
2025-09-30 21:53:39.573 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.589 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='f26b1ad7370af2c949fa7edc89d3fc8b'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:39.597 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='21dc2fe2-8fb2-46ac-91c3-8a1fd380f657', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='f26b1ad7370af2c949fa7edc89d3fc8b', @p4='2025-09-30T16:23:39.5599305+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:23:37.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA==","status":"delivered","timestamp":"1759249417","recipient_id":"918974005240","conversation":{"id":"f26b1ad7370af2c949fa7edc89d3fc8b","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:53:39.605 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:53:39.615 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSODY4Q0QwRjdFNTAzNDM1NUNDAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:53:46.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:23:46.2623075+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:53:54.602 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 603
2025-09-30 21:53:54.604 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:54.605 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:53:54.606 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMURCNEFFQUZFQ0FEMEVFQjQ2QUIzRUU2NkNBNkVENTcA","timestamp":"1759249261","type":"button","button":{"payload":"Yes","text":"Yes"}}]},"field":"messages"}]}]}
2025-09-30 21:53:54.608 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:53:54.608 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"contacts":[{"profile":{"name":"S K"},"wa_id":"918974005240"}],"messages":[{"context":{"from":"15551622077","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=="},"from":"918974005240","id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMURCNEFFQUZFQ0FEMEVFQjQ2QUIzRUU2NkNBNkVENTcA","timestamp":"1759249261","type":"button","button":{"payload":"Yes","text":"Yes"}}]},"field":"messages"}]}]}
2025-09-30 21:53:54.608 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:53:54.609 +05:30 [INF] 👉 Routing to Click Processor (legacy 'button')
2025-09-30 21:53:54.610 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.0483ms
2025-09-30 21:53:54.611 +05:30 [WRN] 📥 [ENTERED CLICK PROCESSOR]
2025-09-30 21:53:54.612 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:53:57.127 +05:30 [INF] 🖱️ Button Click → From: 918974005240, ClickId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAEhggMURCNEFFQUZFQ0FEMEVFQjQ2QUIzRUU2NkNBNkVENTcA, OrigMsgId: wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==, Text: Yes
2025-09-30 21:53:57.128 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 2526.6939ms
2025-09-30 21:53:57.132 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T16:23:57.1277009+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:53:57.136 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__originalMessageId_0='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."MessageId" = @__originalMessageId_0 AND m."CTAFlowConfigId" IS NOT NULL AND m."CTAFlowStepId" IS NOT NULL
LIMIT 1
2025-09-30 21:53:57.143 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__origin_Id_0='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @__originalMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."RunId"
FROM "CampaignSendLogs" AS c
WHERE c."MessageLogId" = @__origin_Id_0 OR c."MessageId" = @__originalMessageId_1
ORDER BY c."CreatedAt" DESC
LIMIT 1
2025-09-30 21:53:57.146 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__fromDigits_1='918974005240', @__fromRaw_2='918974005240'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."ProfileName", c."ProfileNameUpdatedAt", c."Tags"
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND (c."PhoneNumber" = @__fromDigits_1 OR c."PhoneNumber" = @__fromRaw_2)
LIMIT 1
2025-09-30 21:54:03.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
WHERE f."CTAFlowStepId" = @__stepId_0
ORDER BY f."ButtonIndex"
2025-09-30 21:54:03.080 +05:30 [INF] ✅ Mapped click by TEXT to index 0 (flow="0c5e1825-c899-41f0-b947-388dbffed015", step="f468d694-c120-4e84-8ef1-024085736ca8")
2025-09-30 21:54:03.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__sourceStepId_0='f468d694-c120-4e84-8ef1-024085736ca8', @__flowId_1='0c5e1825-c899-41f0-b947-388dbffed015', @__buttonIndex_2='0'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM "FlowButtonLinks" AS f
INNER JOIN "CTAFlowSteps" AS c ON f."CTAFlowStepId" = c."Id"
WHERE f."CTAFlowStepId" = @__sourceStepId_0 AND f."NextStepId" IS NOT NULL AND c."CTAFlowConfigId" = @__flowId_1 AND f."ButtonIndex" = @__buttonIndex_2
LIMIT 2
2025-09-30 21:54:03.086 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__stepId_0='f468d694-c120-4e84-8ef1-024085736ca8'], CommandType='"Text"', CommandTimeout='30']
SELECT c."TemplateToSend"
FROM "CTAFlowSteps" AS c
WHERE c."Id" = @__stepId_0
LIMIT 1
2025-09-30 21:54:03.089 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='ea5a187d-fb98-4cb5-b387-b13ba90cf06b', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T16:24:03.0877796Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @p9=NULL, @p10='f0f082a7-387f-4372-aac2-d1978c1611e6' (Nullable = true), @p11=NULL (DbType = Guid), @p12='f468d694-c120-4e84-8ef1-024085736ca8', @p13='welcome_video' (Nullable = false), @p14='True', @p15=NULL, @p16='quick_reply', @p17=NULL (DbType = Guid), @p18='Yes'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-09-30 21:54:03.092 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_TargetStepId_0='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @__8__locals1_context_FlowId_1='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CTAFlowConfigId", t."PositionX", t."PositionY", t."ProfileNameSlot", t."RequiredSource", t."RequiredTag", t."StepOrder", t."TemplateToSend", t."TemplateType", t."TriggerButtonText", t."TriggerButtonType", t."UseProfileName", f."Id", f."ButtonIndex", f."ButtonSubType", f."ButtonText", f."ButtonType", f."ButtonValue", f."CTAFlowStepId", f."NextStepId"
FROM (
    SELECT c."Id", c."CTAFlowConfigId", c."PositionX", c."PositionY", c."ProfileNameSlot", c."RequiredSource", c."RequiredTag", c."StepOrder", c."TemplateToSend", c."TemplateType", c."TriggerButtonText", c."TriggerButtonType", c."UseProfileName"
    FROM "CTAFlowSteps" AS c
    WHERE c."Id" = @__8__locals1_context_TargetStepId_0 AND c."CTAFlowConfigId" = @__8__locals1_context_FlowId_1
    LIMIT 1
) AS t
LEFT JOIN "FlowButtonLinks" AS f ON t."Id" = f."CTAFlowStepId"
ORDER BY t."Id"
2025-09-30 21:54:03.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 21:54:03.098 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:54:03.099 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=200
2025-09-30 21:54:03.952 +05:30 [INF] Received HTTP response headers after 851.9378ms - 200
2025-09-30 21:54:03.953 +05:30 [INF] End processing HTTP request after 855.2035ms - 200
2025-09-30 21:54:04.455 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_context_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__8__locals1_context_BusinessId_0 AND w."IsActive"
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:54:04.457 +05:30 [INF] ➡️ SEND-INTENT flow="0c5e1825-c899-41f0-b947-388dbffed015" step="00e8efb2-eb9d-4c6d-a516-1ea299da5c61" tmpl=template_1 to=918974005240 provider=META_CLOUD/673199269218077
2025-09-30 21:54:04.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__phoneNumberId_2='673199269218077'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 21:54:04.463 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 21:54:04.465 +05:30 [INF] Start processing HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:54:04.465 +05:30 [INF] Sending HTTP request POST https://graph.facebook.com/v22.0/673199269218077/messages
2025-09-30 21:54:05.382 +05:30 [INF] Received HTTP response headers after 915.7317ms - 200
2025-09-30 21:54:05.383 +05:30 [INF] End processing HTTP request after 918.6498ms - 200
2025-09-30 21:54:05.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='db4904d0-4923-4cd8-81ec-1d6527f4b1ad', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='0' (Nullable = true), @p3=NULL (DbType = Guid), @p4='918974005240', @p5=NULL, @p6='2025-09-30T16:24:05.3853050Z' (DbType = DateTime), @p7='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p8='a9a6443c-53f5-41ea-9d4a-b846eda9c2c6' (Nullable = true), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","message_status":"accepted"}]}', @p10='38dff64a-2ca6-45ef-9e5b-f2b9f6e0fee3' (Nullable = true), @p11=NULL (DbType = Guid), @p12='00e8efb2-eb9d-4c6d-a516-1ea299da5c61', @p13='template_1' (Nullable = false), @p14='True', @p15=NULL, @p16=NULL, @p17=NULL (DbType = Guid), @p18=NULL, @p19='a9a6443c-53f5-41ea-9d4a-b846eda9c2c6', @p20='9841bcab-ca71-439f-8691-d85ada887b01', @p21='[{"i":0,"t":"Show Me Template 2","ty":"QUICK_REPLY","v":"","ns":"0f631cc5-7088-49ad-82c6-2f7a13484896"}]', @p22='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p23='00e8efb2-eb9d-4c6d-a516-1ea299da5c61' (Nullable = true), @p24=NULL (DbType = Guid), @p25=NULL (DbType = Guid), @p26=NULL, @p27=NULL, @p28=NULL (DbType = DateTime), @p29='2025-09-30T16:24:05.3851055Z' (DbType = DateTime), @p30=NULL, @p31='1' (Nullable = true), @p32=NULL (DbType = Boolean), @p33='False', @p34=NULL, @p35='template_1' (Nullable = false), @p36='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==', @p37=NULL (DbType = Decimal), @p38=NULL, @p39=NULL, @p40=NULL, @p41='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","message_status":"accepted"}]}', @p42='918974005240' (Nullable = false), @p43='e9e2468f-da51-4958-b63c-58b5f02fb441' (Nullable = true), @p44=NULL, @p45=NULL (DbType = Guid), @p46='2025-09-30T16:24:05.3851066Z' (Nullable = true) (DbType = DateTime), @p47='flow', @p48='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FlowExecutionLogs" ("Id", "BusinessId", "ButtonIndex", "CampaignSendLogId", "ContactPhone", "ErrorMessage", "ExecutedAt", "FlowId", "MessageLogId", "RawResponse", "RequestId", "RunId", "StepId", "StepName", "Success", "TemplateName", "TemplateType", "TrackingLogId", "TriggeredByButton")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48)
RETURNING "MessageTime";
2025-09-30 21:54:06.876 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-30 21:54:06.878 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:06.879 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:54:06.881 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"sent","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","expiration_timestamp":"1759249445","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:06.882 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:54:06.882 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"sent","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","expiration_timestamp":"1759249445","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:06.883 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:54:06.884 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:54:06.885 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.4745ms
2025-09-30 21:54:06.888 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:06.888 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:06.891 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:06.891 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 15.5457ms
2025-09-30 21:54:06.894 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:06.898 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='d3e592b7a60f895acfd8110d268bd6e0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:06.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='2521ee1e-6a67-4e19-b24f-91377b6af074', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='d3e592b7a60f895acfd8110d268bd6e0', @p4='2025-09-30T16:24:06.8930410+00:00' (DbType = DateTime), @p5='pricing_update' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:24:05.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"sent","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","expiration_timestamp":"1759249445","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==', @p14='8d637276-7ac6-43f5-ad3e-b320b52496cb', @p15='9841bcab-ca71-439f-8691-d85ada887b01', @p16='marketing', @p17='d3e592b7a60f895acfd8110d268bd6e0', @p18='2025-09-30T16:24:06.8900467+00:00' (DbType = DateTime), @p19='sent' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-30T16:24:05.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"sent","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","expiration_timestamp":"1759249445","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-30 21:54:06.905 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:54:06.908 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:54:07.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:07.1501536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:07.315 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-30 21:54:07.317 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:07.318 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:54:07.320 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"delivered","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:07.321 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:54:07.321 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"delivered","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:07.322 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:54:07.323 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:54:07.324 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.3024ms
2025-09-30 21:54:07.326 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:07.327 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:07.329 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:07.330 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 14.3415ms
2025-09-30 21:54:07.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:07.334 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 566
2025-09-30 21:54:07.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='d3e592b7a60f895acfd8110d268bd6e0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:07.340 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:07.343 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='69031c81-0c22-4e61-ba34-5f11e0880c38', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='d3e592b7a60f895acfd8110d268bd6e0', @p4='2025-09-30T16:24:07.3287420+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:24:05.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"delivered","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:54:07.343 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:54:07.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:54:07.348 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"read","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:07.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:54:07.351 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:54:07.354 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:54:07.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='a9a6443c-53f5-41ea-9d4a-b846eda9c2c6', @p0='Delivered' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 21:54:07.356 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 8.65ms
2025-09-30 21:54:07.358 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"read","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:07.359 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:07.360 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:54:07.361 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 26.8606ms
2025-09-30 21:54:07.363 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='read', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:07.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:07.372 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:07.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__conversationId_1='d3e592b7a60f895acfd8110d268bd6e0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:07.379 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='283fd15a-6480-41be-aae6-898bc08eca0a', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='d3e592b7a60f895acfd8110d268bd6e0', @p4='2025-09-30T16:24:07.3674482+00:00' (DbType = DateTime), @p5='read' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:24:05.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA==","status":"read","timestamp":"1759249445","recipient_id":"918974005240","conversation":{"id":"d3e592b7a60f895acfd8110d268bd6e0","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:54:07.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:54:07.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0MwRjlGNTZDOEU3QUQyMUY3AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:54:07.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='a9a6443c-53f5-41ea-9d4a-b846eda9c2c6', @p0='Read' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 21:54:17.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:17.1590185+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:27.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:27.1731871+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:37.243 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:37.2418956+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:40.489 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-30 21:54:40.492 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:40.493 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:54:40.495 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"delivered","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:40.497 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:54:40.497 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"delivered","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:40.497 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:54:40.498 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:54:40.499 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.5105ms
2025-09-30 21:54:40.503 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:40.503 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:40.504 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 14.8919ms
2025-09-30 21:54:40.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:40.514 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:40.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='b319d04d-b275-46c6-8ad0-fa66732f4481', @p1='9841bcab-ca71-439f-8691-d85ada887b01', @p2='marketing', @p3='cea8e7ee1b043060e8a66b7bf6582206', @p4='2025-09-30T16:24:40.5062250+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:20:28.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"delivered","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 21:54:40.522 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:54:40.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:54:47.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:47.2484485+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:57.267 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:24:57.2650560+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:54:59.800 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-30 21:54:59.802 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:59.804 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 21:54:59.806 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"sent","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","expiration_timestamp":"1759249228","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:59.807 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 21:54:59.807 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"sent","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","expiration_timestamp":"1759249228","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 21:54:59.808 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 21:54:59.809 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="9841bcab-ca71-439f-8691-d85ada887b01")
2025-09-30 21:54:59.810 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 4.5947ms
2025-09-30 21:54:59.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:59.813 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 21:54:59.816 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 21:54:59.817 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 17.4146ms
2025-09-30 21:54:59.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 21:54:59.827 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='e9e2468f-da51-4958-b63c-58b5f02fb441', @p0='2025-09-29T16:20:28.0000000+00:00' (Nullable = true) (DbType = DateTime), @p2='51542821-12dc-4b2d-b5a6-ed50299fc71f', @p3='9841bcab-ca71-439f-8691-d85ada887b01', @p4='marketing', @p5='cea8e7ee1b043060e8a66b7bf6582206', @p6='2025-09-30T16:24:59.8156834+00:00' (DbType = DateTime), @p7='sent' (Nullable = false), @p8='True' (Nullable = true), @p9=NULL (DbType = Guid), @p10='2025-09-30T16:20:28.0000000+00:00' (DbType = DateTime), @p11='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA==","status":"sent","timestamp":"1759249228","recipient_id":"918974005240","conversation":{"id":"cea8e7ee1b043060e8a66b7bf6582206","expiration_timestamp":"1759249228","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p12=NULL (DbType = Decimal), @p13=NULL, @p14='META_CLOUD' (Nullable = false), @p15='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "ConversationStartedAt" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-09-30 21:54:59.832 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 21:54:59.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ev_BusinessId_0='9841bcab-ca71-439f-8691-d85ada887b01', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTQ0MTNDQjMxRkVDNTE0MDY2AA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 21:54:59.839 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='e9e2468f-da51-4958-b63c-58b5f02fb441', @p0='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "MessageLogs" SET "Status" = @p0
WHERE "Id" = @p1
RETURNING "MessageTime";
2025-09-30 21:55:07.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:07.2688098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:55:17.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:17.2814818+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:55:27.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:27.3007259+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:55:37.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:37.3118940+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:55:47.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:47.3191196+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:55:57.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:25:57.3214508+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:07.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:07.3274234+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:17.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:17.3440309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:27.348 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:27.3462059+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:37.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:37.3592301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:47.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:47.3758225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:56:57.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:26:57.3956444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:07.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:07.4045811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:12.410 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 21:57:12.412 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:57:12.413 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:57:12.418 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:57:12.421 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:57:12.423 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 7.5466ms
2025-09-30 21:57:12.424 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:57:12.425 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 15.4358ms
2025-09-30 21:57:14.623 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 21:57:14.626 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:57:14.627 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 21:57:14.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 21:57:14.634 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 21:57:14.635 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 6.9029ms
2025-09-30 21:57:14.636 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 21:57:14.638 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 14.13ms
2025-09-30 21:57:17.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:17.4121098+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:27.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:27.4257117+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:37.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:37.4412838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:47.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:47.4590680+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 21:57:57.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:27:57.4741880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:00:16.751 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:00:16.799 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:00:16.815 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:00:17.933 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:00:18.620 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:00:18.642 +05:30 [INF] ClickLogWorker started
2025-09-30 22:00:18.859 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:00:18.872 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:00:18.873 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:00:18.874 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:00:18.876 +05:30 [INF] Hosting environment: Development
2025-09-30 22:00:18.877 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:00:18.883 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__cutoff_0='2025-09-23T16:30:16.9496871Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:00:19.687 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:00:23.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:00:23.803 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__now_0='2025-09-30T16:30:23.6666335+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:00:23.906 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 222.0577ms
2025-09-30 22:00:24.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:00:24.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:00:24.035 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.3564ms
2025-09-30 22:00:24.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4345ms
2025-09-30 22:00:24.264 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:00:24.585 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 321.5882ms
2025-09-30 22:00:28.690 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:00:28.729 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:00:28.755 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:00:28.761 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:00:28.764 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:00:28.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:00:28.779 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:00:28.782 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:00:28.784 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:00:28.787 +05:30 [INF] TemplateSyncWorker: sweep finished in 126 ms; processed=2; next run ~"2025-09-30T22:30:28.6606183Z"
2025-09-30 22:00:30.347 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:00:30.353 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:00:30.474 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:00:30.496 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:00:30.568 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:00:30.582 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:00:30.599 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 96.661ms
2025-09-30 22:00:30.602 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:00:30.608 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 260.8661ms
2025-09-30 22:00:33.816 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:30:33.8118957+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:00:33.992 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:00:34.003 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:00:34.005 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:00:34.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:00:34.020 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:00:34.023 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 15.6191ms
2025-09-30 22:00:34.025 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:00:34.028 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 35.4693ms
2025-09-30 22:00:43.833 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:30:43.8308365+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:00:53.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:30:53.8512652+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:01:01.275 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:01:01.279 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:01:01.280 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:01:03.866 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:31:03.8617371+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:01:03.949 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:01:50.292 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:01:50.344 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:01:50.357 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:01:51.310 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:01:51.911 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:01:51.932 +05:30 [INF] ClickLogWorker started
2025-09-30 22:01:52.153 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:01:52.160 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:01:52.162 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:01:52.164 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:01:52.165 +05:30 [INF] Hosting environment: Development
2025-09-30 22:01:52.166 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:01:52.181 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__cutoff_0='2025-09-23T16:31:50.4691688Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:01:52.996 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:01:57.023 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__now_0='2025-09-30T16:31:56.9423191+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:01:57.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:01:57.447 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 205.4282ms
2025-09-30 22:01:57.467 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:01:57.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.5153ms
2025-09-30 22:01:57.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:01:57.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.1944ms
2025-09-30 22:01:57.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:01:58.038 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 296.4503ms
2025-09-30 22:02:01.973 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:02:02.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:02:02.038 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:02:02.043 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:02:02.045 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:02:02.055 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:02:02.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:02:02.063 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:02:02.064 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:02:02.066 +05:30 [INF] TemplateSyncWorker: sweep finished in 118 ms; processed=2; next run ~"2025-09-30T22:32:01.9478499Z"
2025-09-30 22:02:07.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:32:07.0407109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:02:13.262 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:02:13.267 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:02:13.344 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:02:13.359 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:02:16.921 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:10:40.693 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:10:40.737 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:10:40.752 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:10:41.604 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:10:42.252 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:10:42.271 +05:30 [INF] ClickLogWorker started
2025-09-30 22:10:42.433 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:10:42.464 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__cutoff_0='2025-09-23T16:40:40.8681227Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:10:42.520 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:10:42.522 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:10:42.523 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:10:42.524 +05:30 [INF] Hosting environment: Development
2025-09-30 22:10:42.525 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:10:43.320 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:10:47.371 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='2025-09-30T16:40:47.2882252+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:10:48.265 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:10:48.289 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:10:48.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:10:48.481 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:10:48.735 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:10:54.956 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:10:54.961 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 6582.6982ms
2025-09-30 22:10:54.969 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:11:31.268 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:11:31.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:11:31.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:41:31.3375100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:11:31.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 86.2746ms
2025-09-30 22:11:31.363 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:11:31.365 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:11:31.380 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 42638.0587ms
2025-09-30 22:11:31.382 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:11:31.385 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:11:31.385 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.7217ms
2025-09-30 22:11:31.391 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:11:31.391 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 43129.6537ms
2025-09-30 22:11:31.393 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:11:31.402 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:11:31.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:11:31.407 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:11:31.408 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:11:31.410 +05:30 [INF] TemplateSyncWorker: sweep finished in 36535 ms; processed=2; next run ~"2025-09-30T22:40:54.8750946Z"
2025-09-30 22:11:31.574 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:11:31.845 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 270.6992ms
2025-09-30 22:11:41.377 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:41:41.3746005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:11:51.398 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:41:51.3962876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:12:01.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:42:01.4090118+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:12:11.430 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:42:11.4282877+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:12:21.443 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:42:21.4412267+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:12:30.712 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:12:30.720 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:12:30.722 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:12:38.801 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:42:38.7806392+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:12:38.831 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
LIMIT 1
2025-09-30 22:15:23.473 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:45:23.4646799+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:15:27.932 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:15:27.934 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 177210.865ms
2025-09-30 22:15:27.935 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:15:27.936 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 177224.1178ms
2025-09-30 22:15:37.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:45:37.9348269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:15:45.338 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:15:45.343 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:15:45.347 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:15:45.362 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
LIMIT 1
2025-09-30 22:15:50.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:45:49.9139002+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:15:52.454 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:15:52.459 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 7110.0895ms
2025-09-30 22:15:52.460 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:15:52.462 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 7124.0252ms
2025-09-30 22:16:02.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:46:02.4653134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:16:12.473 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:46:12.4706705+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:16:22.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:46:22.4852121+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:16:32.508 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:46:32.5066114+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:16:42.517 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:46:42.5146967+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:16:52.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:46:52.5259863+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:02.536 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:02.5347864+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:12.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:12.5382739+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:22.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:22.5546202+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:32.563 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:32.5606478+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:42.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:42.5705230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:17:52.582 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:47:52.5798800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:02.589 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:48:02.5863440+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:12.598 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:48:12.5961552+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:22.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:48:22.6052281+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:32.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:48:32.6125603+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:42.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:48:42.6178071+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:18:52.633 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:48:52.6317504+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:02.705 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:49:02.6417124+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:12.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:49:12.7213726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:22.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:49:22.7397110+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:32.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:49:32.7484629+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:42.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:49:42.7560586+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:19:52.766 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:49:52.7645305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:20:02.775 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:50:02.7736630+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:20:12.785 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:50:12.7837671+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:20:22.801 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:50:22.7990768+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:20:32.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:50:32.8067579+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:20:42.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:50:42.8218558+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:22:21.347 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:22:21.385 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:22:21.400 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:22:22.385 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:22:22.912 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:22:22.932 +05:30 [INF] ClickLogWorker started
2025-09-30 22:22:23.127 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:22:23.140 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:22:23.141 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:22:23.142 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:22:23.143 +05:30 [INF] Hosting environment: Development
2025-09-30 22:22:23.145 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:22:23.149 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__cutoff_0='2025-09-23T16:52:21.4949452Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:22:23.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:22:24.012 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:22:24.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 432.1054ms
2025-09-30 22:22:24.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:22:24.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:22:24.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.8255ms
2025-09-30 22:22:24.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.1205ms
2025-09-30 22:22:24.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:22:25.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 694.763ms
2025-09-30 22:22:28.020 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__now_0='2025-09-30T16:52:27.9581666+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:22:32.972 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:22:33.015 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:22:33.034 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:22:33.038 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:22:33.040 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:22:33.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:22:33.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:22:33.056 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:22:33.057 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:22:33.059 +05:30 [INF] TemplateSyncWorker: sweep finished in 107 ms; processed=2; next run ~"2025-09-30T22:52:32.9522576Z"
2025-09-30 22:22:38.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:52:38.0311355+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:22:48.038 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:52:48.0359896+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:22:49.575 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:22:49.579 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:22:49.675 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:22:49.697 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:22:53.053 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:26:37.465 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:26:37.504 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:26:37.518 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:26:38.287 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:26:38.779 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:26:38.797 +05:30 [INF] ClickLogWorker started
2025-09-30 22:26:38.965 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:26:38.974 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:26:38.975 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:26:38.977 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:26:38.978 +05:30 [INF] Hosting environment: Development
2025-09-30 22:26:38.979 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:26:38.983 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@__cutoff_0='2025-09-23T16:56:37.6115380Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:26:39.842 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:26:40.946 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:26:41.115 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 176.0029ms
2025-09-30 22:26:41.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:26:41.146 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.8358ms
2025-09-30 22:26:41.202 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:26:41.235 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.4358ms
2025-09-30 22:26:41.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:26:41.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.3274ms
2025-09-30 22:26:43.869 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__now_0='2025-09-30T16:56:43.8149359+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:26:48.821 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:26:48.849 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:26:48.865 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:26:48.869 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:26:48.870 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:26:48.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:26:48.880 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:26:48.882 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:26:48.882 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:26:48.884 +05:30 [INF] TemplateSyncWorker: sweep finished in 81 ms; processed=2; next run ~"2025-09-30T22:56:48.8031735Z"
2025-09-30 22:26:53.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:56:53.8748662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:26:54.463 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:26:54.467 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:26:54.556 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:26:54.573 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:26:54.619 +05:30 [INF] DB=xplorebyte_DB
2025-09-30 22:26:54.637 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:26:54.649 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:26:54.666 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 87.4275ms
2025-09-30 22:26:54.668 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:26:54.674 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 211.4814ms
2025-09-30 22:27:03.886 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:57:03.8831449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:27:13.892 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__now_0='2025-09-30T16:57:13.8905154+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:27:15.588 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:27:15.596 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:27:15.597 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:27:15.602 +05:30 [INF] DB=xplorebyte_DB
2025-09-30 22:27:24.856 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T16:57:24.8526113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:27:24.869 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:28:12.776 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:28:12.822 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:28:12.840 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:54:25.243 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:54:25.309 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:54:25.335 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:54:26.756 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:54:27.707 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:54:27.732 +05:30 [INF] ClickLogWorker started
2025-09-30 22:54:28.005 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 22:54:28.074 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__cutoff_0='2025-09-23T17:24:25.5384645Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 22:54:28.116 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:54:28.118 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:54:28.120 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:54:28.121 +05:30 [INF] Hosting environment: Development
2025-09-30 22:54:28.123 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:54:28.798 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:54:28.966 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:54:29.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 249.7966ms
2025-09-30 22:54:29.378 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:54:29.378 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:54:29.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 30.7863ms
2025-09-30 22:54:29.438 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.0017ms
2025-09-30 22:54:29.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:54:30.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 387.7019ms
2025-09-30 22:54:32.871 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__now_0='2025-09-30T17:24:32.7543460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:54:35.997 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:54:36.006 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:54:36.235 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:54:36.262 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:54:36.349 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 22:54:36.367 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 98.1172ms
2025-09-30 22:54:36.370 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:54:36.374 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 401 null application/json; charset=utf-8 377.398ms
2025-09-30 22:54:37.775 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 22:54:37.834 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:54:37.864 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='8390da76-10de-4d76-80f2-68b68f4e2b82'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:54:37.871 +05:30 [INF] ⏭️ Skipping sync for "8390da76-10de-4d76-80f2-68b68f4e2b82"; TTL not expired.
2025-09-30 22:54:37.875 +05:30 [INF] TemplateSyncWorker: biz="8390da76-10de-4d76-80f2-68b68f4e2b82" added=0 updated=0 skipped=0 syncedAt="2025-09-30T14:33:30.1097000Z"
2025-09-30 22:54:37.889 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 22:54:37.897 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 22:54:37.901 +05:30 [INF] ⏭️ Skipping sync for "9841bcab-ca71-439f-8691-d85ada887b01"; TTL not expired.
2025-09-30 22:54:37.903 +05:30 [INF] TemplateSyncWorker: biz="9841bcab-ca71-439f-8691-d85ada887b01" added=0 updated=0 skipped=0 syncedAt="2025-09-30T09:35:11.3491350Z"
2025-09-30 22:54:37.907 +05:30 [INF] TemplateSyncWorker: sweep finished in 168 ms; processed=2; next run ~"2025-09-30T23:24:37.7389689Z"
2025-09-30 22:54:42.873 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:24:42.8689427+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:54:52.885 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T17:24:52.8812726+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:02.905 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:25:02.9016733+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:12.912 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:25:12.9093012+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:22.932 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:25:22.9279957+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:32.942 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:25:32.9384269+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:42.952 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:25:42.9493955+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:55:52.981 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__now_0='2025-09-30T17:25:52.9584851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:02.997 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:02.9944371+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:05.633 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:56:05.654 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:05.656 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:56:05.678 +05:30 [INF] [CustomAPI:"60e4718d-25da-43cc-88e8-cd43267c2ec1"] DB=xplorebyte_DB
2025-09-30 22:56:05.716 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:56:05.728 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:56:05.746 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 87.6855ms
2025-09-30 22:56:05.751 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:05.761 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 129.1708ms
2025-09-30 22:56:10.991 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:56:10.999 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:11.001 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:56:11.017 +05:30 [INF] [CustomAPI:"7c5c0b0d-de27-4d14-a25b-3a98f7e1a824"] DB=xplorebyte_DB
2025-09-30 22:56:11.022 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:56:11.028 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:56:11.031 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 27.2585ms
2025-09-30 22:56:11.033 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:11.036 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 44.9004ms
2025-09-30 22:56:13.006 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:13.0027140+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:23.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:23.0054628+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:33.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:33.0167977+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:33.274 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:56:33.279 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:33.281 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:56:33.298 +05:30 [INF] [CustomAPI:"a2c43668-c30a-4457-bdc1-ad33d74dc5da"] DB=xplorebyte_DB
2025-09-30 22:56:33.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:56:33.309 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:56:33.311 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 26.8142ms
2025-09-30 22:56:33.313 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:56:33.315 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 41.4638ms
2025-09-30 22:56:43.047 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:43.0432054+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:56:53.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:26:53.0546159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:57:03.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:27:03.0782950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:57:13.101 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:27:13.0976480+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:57:13.901 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:57:13.905 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:57:13.907 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:57:25.498 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__now_0='2025-09-30T17:27:23.4705112+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:57:25.570 +05:30 [INF] [CustomAPI:"301c7717-10db-481d-9367-32dabd6fa3f0"] DB=xplorebyte_DB
2025-09-30 22:57:43.471 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__now_0='2025-09-30T17:27:41.5975088+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:57:52.366 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:58:38.865 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:58:38.875 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__now_0='2025-09-30T17:28:02.8877319+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:58:38.882 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 84972.7705ms
2025-09-30 22:58:38.887 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:58:38.889 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 84987.7242ms
2025-09-30 22:58:48.902 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__now_0='2025-09-30T17:28:48.8970405+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:58:57.428 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 22:58:57.444 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 22:58:57.446 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 22:59:06.226 +05:30 [INF] Executed DbCommand (3,311ms) [Parameters=[@__now_0='2025-09-30T17:29:02.8879624+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:59:15.237 +05:30 [INF] [CustomAPI:"ab8a48e3-8ec3-4ccf-90c8-e57c60d46d66"] DB=xplorebyte_DB
2025-09-30 22:59:24.575 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 22:59:36.323 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T17:29:36.2137906+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 22:59:42.649 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 22:59:54.165 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:59:54.212 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 22:59:54.226 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 22:59:55.170 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 22:59:55.851 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 22:59:55.870 +05:30 [INF] ClickLogWorker started
2025-09-30 22:59:56.042 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 22:59:56.044 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 22:59:56.045 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:59:56.046 +05:30 [INF] Hosting environment: Development
2025-09-30 22:59:56.047 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 22:59:56.907 +05:30 [INF] ClickLogWorker stopped
2025-09-30 22:59:58.062 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 22:59:58.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 239.9191ms
2025-09-30 22:59:58.322 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:59:58.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 11.8137ms
2025-09-30 22:59:58.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 22:59:58.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.1886ms
2025-09-30 22:59:58.718 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 22:59:59.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 346.9151ms
2025-09-30 23:00:04.645 +05:30 [INF] Executed DbCommand (202ms) [Parameters=[@__cutoff_0='2025-09-23T17:29:54.3279188Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 23:00:04.645 +05:30 [INF] Executed DbCommand (207ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 23:00:04.683 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 369
2025-09-30 23:00:04.692 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 23:00:04.850 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:00:04.878 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:00:18.012 +05:30 [INF] [CustomAPI:"1c557765-9c02-403f-97ec-83f8b2caffa4"] DB=postgresql-database-jow4kcw0s8s8o8c0og4scok8
2025-09-30 23:00:19.574 +05:30 [INF] Executed DbCommand (1,600ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 23:00:19.716 +05:30 [ERR] An error occurred using the connection to database 'postgresql-database-jow4kcw0s8s8o8c0og4scok8' on server 'tcp://srv1018586.hstgr.cloud:5432'.
2025-09-30 23:00:36.483 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 23:00:36.579 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): The operation has timed out
 ---> System.TimeoutException: The operation has timed out.
   at Npgsql.ThrowHelper.ThrowNpgsqlExceptionWithInnerTimeoutException(String message)
   at Npgsql.Util.NpgsqlTimeout.Check()
   at Npgsql.Util.NpgsqlTimeout.CheckAndGetTimeLeft()
   at Npgsql.Util.NpgsqlTimeout.CheckAndApply(NpgsqlConnector connector)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
2025-09-30 23:00:37.595 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:00:37.714 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:00:37.768 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:00:37.772 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:00:38.746 +05:30 [INF] Received HTTP response headers after 967.7753ms - 401
2025-09-30 23:00:38.749 +05:30 [INF] End processing HTTP request after 981.9092ms - 401
2025-09-30 23:00:38.884 +05:30 [INF] Executed DbCommand (123ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 23:00:39.075 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T17:30:37.6079905Z"
2025-09-30 23:00:39.234 +05:30 [INF] Executed DbCommand (149ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:00:39.335 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:00:39.339 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 23:00:39.341 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 23:00:39.434 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:00:39.515 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:00:39.519 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:00:39.521 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:00:40.344 +05:30 [INF] Received HTTP response headers after 821.1034ms - 401
2025-09-30 23:00:40.347 +05:30 [INF] End processing HTTP request after 827.6969ms - 401
2025-09-30 23:00:40.452 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 23:00:40.536 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T17:30:39.4385967Z"
2025-09-30 23:00:40.539 +05:30 [INF] TemplateSyncWorker: sweep finished in 30939 ms; processed=3; next run ~"2025-09-30T23:30:09.5996909Z"
2025-09-30 23:00:44.777 +05:30 [INF] Executed DbCommand (206ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:03:19.088 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:03:19.110 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 194225.4815ms
2025-09-30 23:03:19.114 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:03:19.125 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 194442.6019ms
2025-09-30 23:03:19.260 +05:30 [INF] Executed DbCommand (175ms) [Parameters=[@__now_0='2025-09-30T17:33:19.0733274+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:03:29.424 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[@__now_0='2025-09-30T17:33:29.2601555+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:03:39.566 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T17:33:39.4400841+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:03:49.476 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 571
2025-09-30 23:03:49.492 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 23:03:49.499 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 23:03:49.512 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"delivered","timestamp":"1759249035","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 23:03:49.517 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 23:03:49.520 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 23:03:49.527 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 24.0129ms
2025-09-30 23:03:49.529 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 23:03:49.531 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 54.6864ms
2025-09-30 23:03:49.677 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__now_0='2025-09-30T17:33:49.5789849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:03:49.713 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"delivered","timestamp":"1759249035","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 23:03:49.877 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-30 23:03:49.884 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="f951ec99-a572-4f4d-b5e0-9c746f12afcf")
2025-09-30 23:03:50.006 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__provider_1='META_CLOUD', @__eventType_2='delivered', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 23:03:50.162 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 23:03:50.364 +05:30 [INF] Executed DbCommand (186ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 23:03:50.464 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__conversationId_1='e1a3a6b63a8ed9814c442a31ad6f5518'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 23:03:50.658 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@p0='785ba966-5b31-49c6-acfe-da130ccba577', @p1='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @p2='marketing', @p3='e1a3a6b63a8ed9814c442a31ad6f5518', @p4='2025-09-30T17:33:50.0138506+00:00' (DbType = DateTime), @p5='delivered' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:17:15.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"delivered","timestamp":"1759249035","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==', @p14='d1dc4051-7612-4e5f-9582-c0ebee4b4d0f', @p15='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @p16='marketing', @p17='e1a3a6b63a8ed9814c442a31ad6f5518', @p18='2025-09-30T17:33:50.1660137+00:00' (DbType = DateTime), @p19='pricing_update' (Nullable = false), @p20='True' (Nullable = true), @p21=NULL (DbType = Guid), @p22='2025-09-30T16:17:15.0000000+00:00' (DbType = DateTime), @p23='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"delivered","timestamp":"1759249035","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p24=NULL (DbType = Decimal), @p25=NULL, @p26='META_CLOUD' (Nullable = false), @p27='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-30 23:03:51.033 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[@__ev_BusinessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 23:03:51.135 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__ev_BusinessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 23:03:51.140 +05:30 [WRN] No matching rows for BusinessId="f951ec99-a572-4f4d-b5e0-9c746f12afcf", MessageId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==, State="Delivered"
2025-09-30 23:03:59.798 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T17:33:59.6782516+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:07:08.397 +05:30 [ERR] Failed executing DbCommand (18ms) [Parameters=[@__now_0='2025-09-30T17:37:08.3764845+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:07:08.432 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.Enumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.TaskAwaiter.<>c.<OutputWaitEtwEvents>b__12_0(Action innerContinuation, Task innerTask)
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(Action action, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task.TrySetResult()
   at System.Threading.Tasks.Task.DelayPromise.CompleteTimedOut()
   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)
   at System.Threading.TimerQueue.FireNextTimers()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|157_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.Enumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.TaskAwaiter.<>c.<OutputWaitEtwEvents>b__12_0(Action innerContinuation, Task innerTask)
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(Action action, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task.TrySetResult()
   at System.Threading.Tasks.Task.DelayPromise.CompleteTimedOut()
   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)
   at System.Threading.TimerQueue.FireNextTimers()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|157_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-09-30 23:07:08.525 +05:30 [WRN] Send queue sweep failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.Enumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.TaskAwaiter.<>c.<OutputWaitEtwEvents>b__12_0(Action innerContinuation, Task innerTask)
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(Action action, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task.TrySetResult()
   at System.Threading.Tasks.Task.DelayPromise.CompleteTimedOut()
   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)
   at System.Threading.TimerQueue.FireNextTimers()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|157_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|101_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.CampaignModule.Services.OutboundCampaignSendWorker.ExecuteAsync(CancellationToken stoppingToken) in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CampaignModule\Services\OutboundCampaignSendWorker.cs:line 46
2025-09-30 23:07:30.592 +05:30 [INF] Executed DbCommand (146ms) [Parameters=[@__now_0='2025-09-30T17:37:18.5757460+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:07:40.677 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T17:37:40.5968832+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:07:50.858 +05:30 [INF] Executed DbCommand (174ms) [Parameters=[@__now_0='2025-09-30T17:37:50.6814746+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:00.995 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T17:38:00.8708403+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:11.088 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T17:38:11.0128564+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:21.270 +05:30 [INF] Executed DbCommand (172ms) [Parameters=[@__now_0='2025-09-30T17:38:21.0970822+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:31.716 +05:30 [INF] Executed DbCommand (442ms) [Parameters=[@__now_0='2025-09-30T17:38:31.2738139+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:41.823 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T17:38:41.7316767+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:08:51.994 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[@__now_0='2025-09-30T17:38:51.8273046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:02.131 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T17:39:02.0080113+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:12.219 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T17:39:12.1369662+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:22.405 +05:30 [INF] Executed DbCommand (181ms) [Parameters=[@__now_0='2025-09-30T17:39:22.2231416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:32.542 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T17:39:32.4067532+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:42.655 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T17:39:42.5556225+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:09:52.773 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T17:39:52.6586310+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:02.893 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T17:40:02.7749647+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:13.093 +05:30 [INF] Executed DbCommand (184ms) [Parameters=[@__now_0='2025-09-30T17:40:12.9074522+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:23.232 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T17:40:23.1004241+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:33.370 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T17:40:33.2376609+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:45.350 +05:30 [INF] Executed DbCommand (1,963ms) [Parameters=[@__now_0='2025-09-30T17:40:43.3863701+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:10:55.431 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__now_0='2025-09-30T17:40:55.3575005+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:11:05.633 +05:30 [INF] Executed DbCommand (189ms) [Parameters=[@__now_0='2025-09-30T17:41:05.4434134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:11:22.610 +05:30 [INF] Executed DbCommand (6,969ms) [Parameters=[@__now_0='2025-09-30T17:41:15.6405569+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:11:32.709 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T17:41:32.6282277+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:11:42.818 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T17:41:42.7162970+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:11:52.905 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T17:41:52.8253827+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:12:03.078 +05:30 [INF] Executed DbCommand (163ms) [Parameters=[@__now_0='2025-09-30T17:42:02.9137584+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:12:13.684 +05:30 [INF] Executed DbCommand (592ms) [Parameters=[@__now_0='2025-09-30T17:42:13.0914149+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:12:23.861 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[@__now_0='2025-09-30T17:42:23.6947050+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:12:42.110 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__now_0='2025-09-30T17:42:33.8611943+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:12:52.328 +05:30 [INF] Executed DbCommand (199ms) [Parameters=[@__now_0='2025-09-30T17:42:52.1279022+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:02.450 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__now_0='2025-09-30T17:43:02.3353497+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:12.604 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__now_0='2025-09-30T17:43:12.4657375+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:22.741 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__now_0='2025-09-30T17:43:22.6207840+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:32.880 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__now_0='2025-09-30T17:43:32.7599318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:43.000 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__now_0='2025-09-30T17:43:42.8755413+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:13:53.462 +05:30 [INF] Executed DbCommand (453ms) [Parameters=[@__now_0='2025-09-30T17:43:53.0089607+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:14:03.385 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:14:03.398 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:14:03.399 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:14:06.435 +05:30 [INF] Executed DbCommand (556ms) [Parameters=[@__now_0='2025-09-30T17:44:05.8780057+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:14:10.610 +05:30 [INF] [CustomAPI:"ec664681-bf9c-415a-92d6-e5e84109f491"] DB=postgresql-database-jow4kcw0s8s8o8c0og4scok8
2025-09-30 23:14:19.695 +05:30 [INF] Executed DbCommand (112ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:16:10.832 +05:30 [INF] Executed DbCommand (6,546ms) [Parameters=[@__now_0='2025-09-30T17:46:04.2693642+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:16:11.909 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__pnid_0='625287680672035', @__businessIdOverride_Value_1='9841bcab-ca71-439f-8691-d85ada887b01'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."PhoneNumberId" = @__pnid_0 AND w."BusinessId" = @__businessIdOverride_Value_1
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:16:18.266 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:16:18.270 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 134868.8525ms
2025-09-30 23:16:18.272 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:16:18.273 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 400 null application/json; charset=utf-8 134888.6859ms
2025-09-30 23:16:21.024 +05:30 [INF] Executed DbCommand (138ms) [Parameters=[@__now_0='2025-09-30T17:46:20.8853311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:16:25.134 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:16:25.138 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:16:25.139 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:16:29.240 +05:30 [INF] [CustomAPI:"307ff1fe-aa8f-4700-b05f-c1d2a06425b1"] DB=postgresql-database-jow4kcw0s8s8o8c0og4scok8
2025-09-30 23:23:10.095 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 23:23:10.172 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-09-30 23:23:10.196 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-09-30 23:23:11.675 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-30 23:23:12.723 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-09-30 23:23:12.751 +05:30 [INF] ClickLogWorker started
2025-09-30 23:23:13.165 +05:30 [INF] Now listening on: http://localhost:7113
2025-09-30 23:23:13.166 +05:30 [INF] Now listening on: http://localhost:5295
2025-09-30 23:23:13.168 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 23:23:13.170 +05:30 [INF] Hosting environment: Development
2025-09-30 23:23:13.171 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-09-30 23:23:13.837 +05:30 [INF] ClickLogWorker stopped
2025-09-30 23:23:14.227 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-09-30 23:23:14.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:23:14.312 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 23:23:14.491 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:23:14.532 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:23:14.550 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 334.5836ms
2025-09-30 23:23:14.672 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 23:23:14.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.7694ms
2025-09-30 23:23:14.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-09-30 23:23:14.757 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.5979ms
2025-09-30 23:23:14.997 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-09-30 23:23:15.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 344.4263ms
2025-09-30 23:23:22.003 +05:30 [INF] Executed DbCommand (239ms) [Parameters=[@__cutoff_0='2025-09-23T17:53:10.3981091Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-09-30 23:23:22.304 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-09-30 23:23:23.021 +05:30 [INF] Executed DbCommand (214ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT w."BusinessId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive"
2025-09-30 23:23:23.230 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:23:23.431 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:23:23.479 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:23:23.485 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:23:24.687 +05:30 [INF] Received HTTP response headers after 1197.1112ms - 401
2025-09-30 23:23:24.691 +05:30 [INF] End processing HTTP request after 1215.866ms - 401
2025-09-30 23:23:24.847 +05:30 [INF] Executed DbCommand (509ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:23:24.849 +05:30 [INF] Executed DbCommand (146ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 23:23:24.855 +05:30 [INF] [CustomAPI:"55e06a3d-f1ae-43b3-8d73-3322a88ec85c"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********5240 template=vaji_amrit_order_deliver
2025-09-30 23:23:24.968 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 23:23:25.033 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:23:25.035 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:23:25.213 +05:30 [INF] TemplateSyncWorker: biz="f951ec99-a572-4f4d-b5e0-9c746f12afcf" added=0 updated=0 skipped=0 syncedAt="2025-09-30T17:53:23.2630051Z"
2025-09-30 23:23:25.326 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:23:25.412 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:23:25.416 +05:30 [INF] ⏭️ Skipping sync for "bf82072c-69c1-4f8c-be53-ade19d6776a5"; TTL not expired.
2025-09-30 23:23:25.419 +05:30 [INF] TemplateSyncWorker: biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" added=0 updated=0 skipped=0 syncedAt="2025-09-30T06:37:50.9445590Z"
2025-09-30 23:23:25.539 +05:30 [INF] Executed DbCommand (110ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."IsActive"
LIMIT 1
2025-09-30 23:23:25.683 +05:30 [INF] Executed DbCommand (140ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4'], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastSyncedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0
ORDER BY w."LastSyncedAt" DESC
LIMIT 1
2025-09-30 23:23:25.688 +05:30 [INF] Start processing HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:23:25.691 +05:30 [INF] Sending HTTP request GET https://graph.facebook.com/v22.0/744548247936621/message_templates?limit=100
2025-09-30 23:23:26.107 +05:30 [INF] Received HTTP response headers after 414.7292ms - 401
2025-09-30 23:23:26.109 +05:30 [INF] End processing HTTP request after 421.2536ms - 401
2025-09-30 23:23:26.299 +05:30 [INF] Executed DbCommand (174ms) [Parameters=[@__businessId_0='7f726daa-ec21-423c-87cc-9a4c8e2608b4', @__providerKey_1='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."Body", w."BusinessId", w."ButtonsJson", w."Category", w."CreatedAt", w."ExternalId", w."HasImageHeader", w."IsActive", w."Language", w."LastSyncedAt", w."Name", w."PlaceholderCount", w."Provider", w."RawJson", w."Status", w."UpdatedAt"
FROM "WhatsAppTemplates" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__providerKey_1
2025-09-30 23:23:26.302 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T17:53:17.7797102+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:23:26.437 +05:30 [INF] TemplateSyncWorker: biz="7f726daa-ec21-423c-87cc-9a4c8e2608b4" added=0 updated=0 skipped=0 syncedAt="2025-09-30T17:53:25.5431505Z"
2025-09-30 23:23:26.441 +05:30 [INF] TemplateSyncWorker: sweep finished in 3672 ms; processed=3; next run ~"2025-09-30T23:53:22.7692241Z"
2025-09-30 23:23:27.193 +05:30 [INF] Received HTTP response headers after 2155.812ms - 200
2025-09-30 23:23:27.196 +05:30 [INF] End processing HTTP request after 2163.4896ms - 200
2025-09-30 23:23:36.528 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__now_0='2025-09-30T17:53:36.3923820+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:23:41.350 +05:30 [INF] Executed DbCommand (175ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 23:23:41.356 +05:30 [INF] [CustomAPI:"55e06a3d-f1ae-43b3-8d73-3322a88ec85c"] Sending vaji_amrit_order_deliver to ********5240 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 23:23:41.531 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 23:23:41.630 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 23:23:41.658 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 23:23:44.807 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:23:44.809 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:23:46.357 +05:30 [INF] Received HTTP response headers after 1546.223ms - 200
2025-09-30 23:23:46.360 +05:30 [INF] End processing HTTP request after 1552.6482ms - 200
2025-09-30 23:23:49.850 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__now_0='2025-09-30T17:53:49.7352052+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:23:50.252 +05:30 [INF] Executed DbCommand (257ms) [Parameters=[@p0='166ee49e-a557-4278-b60f-243b5b422e4c', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T17:53:49.7400670Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T17:53:49.7400670Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 23:23:50.405 +05:30 [INF] Executed DbCommand (107ms) [Parameters=[@__messageLogId_0='166ee49e-a557-4278-b60f-243b5b422e4c', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 23:23:50.568 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@p0='7fa63240-a6ba-46cf-a677-c443dfa922fd', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T17:53:50.4115768+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='166ee49e-a557-4278-b60f-243b5b422e4c' (Nullable = true), @p8='2025-09-30T17:53:50.4126917+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 23:23:50.574 +05:30 [INF] [CustomAPI:"55e06a3d-f1ae-43b3-8d73-3322a88ec85c"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSMDVEQTBDMDEwNjc5RjcwNkMyAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 23:23:50.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:23:50.609 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 36068.1985ms
2025-09-30 23:23:50.611 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:23:50.618 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 36350.8066ms
2025-09-30 23:23:59.988 +05:30 [INF] Executed DbCommand (126ms) [Parameters=[@__now_0='2025-09-30T17:53:59.8607553+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:10.228 +05:30 [INF] Executed DbCommand (223ms) [Parameters=[@__now_0='2025-09-30T17:54:10.0038920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:20.717 +05:30 [INF] Executed DbCommand (485ms) [Parameters=[@__now_0='2025-09-30T17:54:20.2305244+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:30.841 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__now_0='2025-09-30T17:54:30.7291881+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:40.949 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@__now_0='2025-09-30T17:54:40.8535099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:51.073 +05:30 [INF] Executed DbCommand (110ms) [Parameters=[@__now_0='2025-09-30T17:54:50.9625256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:24:51.863 +05:30 [INF] Request starting HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - application/json 602
2025-09-30 23:24:51.887 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 23:24:51.893 +05:30 [INF] Route matched with {action = "HandleStatus", controller = "WhatsAppWebhook"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult HandleStatus(System.Text.Json.JsonElement) on controller xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController (xbytechat.api).
2025-09-30 23:24:51.912 +05:30 [WRN] 📥 Webhook received at controller:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"sent","timestamp":"1759249034","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","expiration_timestamp":"1759249034","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 23:24:51.916 +05:30 [INF] 📥 Webhook payload enqueued successfully.
2025-09-30 23:24:51.920 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType183`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-30 23:24:51.926 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api) in 30.2811ms
2025-09-30 23:24:51.929 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.WhatsAppWebhookController.HandleStatus (xbytechat.api)'
2025-09-30 23:24:51.931 +05:30 [INF] Request finished HTTP/1.1 POST http://353723bccfe0.ngrok-free.app/api/webhooks/whatsapp - 200 null application/json; charset=utf-8 67.9896ms
2025-09-30 23:24:52.105 +05:30 [WRN] 📦 Dispatcher Raw Payload:
{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"sent","timestamp":"1759249034","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","expiration_timestamp":"1759249034","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}
2025-09-30 23:24:52.505 +05:30 [INF] Executed DbCommand (317ms) [Parameters=[@__provider_0='meta_cloud'], CommandType='"Text"', CommandTimeout='30']
SELECT w."BusinessId", w."PhoneNumberId", w."WhatsAppBusinessNumber", w."WabaId"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND lower(w."Provider") = @__provider_0
2025-09-30 23:24:52.520 +05:30 [INF] 📦 Routing to Unified Status Updater (provider=meta, businessId="f951ec99-a572-4f4d-b5e0-9c746f12afcf")
2025-09-30 23:24:52.634 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__provider_1='META_CLOUD', @__eventType_2='sent', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 23:24:53.135 +05:30 [INF] Executed DbCommand (494ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__provider_1='META_CLOUD', @__eventType_2='pricing_update', @__providerMessageId_3='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProviderBillingEvents" AS p
    WHERE p."BusinessId" = @__businessId_0 AND p."Provider" = @__provider_1 AND p."EventType" = @__eventType_2 AND p."ProviderMessageId" = @__providerMessageId_3)
2025-09-30 23:24:53.438 +05:30 [INF] Executed DbCommand (280ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__providerMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ProviderMessageId" = @__providerMessageId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 23:24:53.659 +05:30 [INF] Executed DbCommand (206ms) [Parameters=[@__businessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__conversationId_1='e1a3a6b63a8ed9814c442a31ad6f5518'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0 AND m."ConversationId" = @__conversationId_1
ORDER BY m."CreatedAt" DESC
LIMIT 1
2025-09-30 23:24:53.737 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@p0='e68e69c4-960b-4d7e-b8c2-21a651848819', @p1='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @p2='marketing', @p3='e1a3a6b63a8ed9814c442a31ad6f5518', @p4='2025-09-30T17:54:52.6400401+00:00' (DbType = DateTime), @p5='sent' (Nullable = false), @p6='True' (Nullable = true), @p7=NULL (DbType = Guid), @p8='2025-09-30T16:17:14.0000000+00:00' (DbType = DateTime), @p9='{"object":"whatsapp_business_account","entry":[{"id":"744548247936621","changes":[{"value":{"messaging_product":"whatsapp","metadata":{"display_phone_number":"15551622077","phone_number_id":"673199269218077"},"statuses":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==","status":"sent","timestamp":"1759249034","recipient_id":"918974005240","conversation":{"id":"e1a3a6b63a8ed9814c442a31ad6f5518","expiration_timestamp":"1759249034","origin":{"type":"marketing"}},"pricing":{"billable":true,"pricing_model":"PMP","category":"marketing","type":"regular"}}]},"field":"messages"}]}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='META_CLOUD' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 23:24:53.969 +05:30 [INF] Executed DbCommand (208ms) [Parameters=[@__ev_BusinessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."AllowRetry", c."Browser", c."BusinessId", c."ButtonBundleJson", c."CTAFlowConfigId", c."CTAFlowStepId", c."CampaignId", c."City", c."ClickType", c."ClickedAt", c."ContactId", c."Country", c."CreatedAt", c."CreatedBy", c."DeliveredAt", c."DeviceInfo", c."DeviceType", c."ErrorMessage", c."IpAddress", c."IsClicked", c."LastRetryAt", c."LastRetryStatus", c."MacAddress", c."MessageBody", c."MessageId", c."MessageLogId", c."ReadAt", c."RecipientId", c."RetryCount", c."RunId", c."SendStatus", c."SentAt", c."SourceChannel", c."TemplateId", c."UserId"
FROM "CampaignSendLogs" AS c
WHERE c."BusinessId" = @__ev_BusinessId_0 AND c."MessageId" = @__ev_ProviderMessageId_1
LIMIT 1
2025-09-30 23:24:54.159 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[@__ev_BusinessId_0='f951ec99-a572-4f4d-b5e0-9c746f12afcf', @__ev_ProviderMessageId_1='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA=='], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__ev_BusinessId_0 AND (m."ProviderMessageId" = @__ev_ProviderMessageId_1 OR m."MessageId" = @__ev_ProviderMessageId_1)
LIMIT 1
2025-09-30 23:24:54.164 +05:30 [WRN] No matching rows for BusinessId="f951ec99-a572-4f4d-b5e0-9c746f12afcf", MessageId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSM0Q3OUY0M0JDQThBOUQ1QTlBAA==, State="Sent"
2025-09-30 23:25:01.225 +05:30 [INF] Executed DbCommand (140ms) [Parameters=[@__now_0='2025-09-30T17:55:01.0834643+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:25:11.465 +05:30 [INF] Executed DbCommand (226ms) [Parameters=[@__now_0='2025-09-30T17:55:11.2365630+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:25:21.602 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T17:55:21.4705469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:25:31.739 +05:30 [INF] Executed DbCommand (132ms) [Parameters=[@__now_0='2025-09-30T17:55:31.6063849+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:25:37.239 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:25:37.247 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:25:37.249 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:25:37.371 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:25:37.376 +05:30 [INF] [CustomAPI:"7907c0b4-0eee-412a-8ff6-540c94b1afc8"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********5240 template=vaji_amrit_order_deliver
2025-09-30 23:25:37.450 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 23:25:37.455 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:37.457 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:41.222 +05:30 [INF] Received HTTP response headers after 3763.2173ms - 200
2025-09-30 23:25:41.226 +05:30 [INF] End processing HTTP request after 3770.2639ms - 200
2025-09-30 23:25:46.698 +05:30 [INF] Executed DbCommand (441ms) [Parameters=[@__now_0='2025-09-30T17:55:46.2562960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:25:46.792 +05:30 [INF] Executed DbCommand (533ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 23:25:46.796 +05:30 [INF] [CustomAPI:"7907c0b4-0eee-412a-8ff6-540c94b1afc8"] Sending vaji_amrit_order_deliver to ********5240 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 23:25:46.894 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 23:25:46.997 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 23:25:47.000 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 23:25:48.411 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:48.413 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:49.968 +05:30 [INF] Received HTTP response headers after 1552.8587ms - 200
2025-09-30 23:25:49.970 +05:30 [INF] End processing HTTP request after 1558.8136ms - 200
2025-09-30 23:25:50.065 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@p0='dab21725-57c6-42fc-b5dd-61e987048a7a', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T17:55:49.9720651Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T17:55:49.9720651Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 23:25:50.263 +05:30 [INF] Executed DbCommand (193ms) [Parameters=[@__messageLogId_0='dab21725-57c6-42fc-b5dd-61e987048a7a', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 23:25:50.910 +05:30 [INF] Executed DbCommand (642ms) [Parameters=[@p0='24c2c00e-1514-488d-862e-47ec0655ca56', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T17:55:50.2672136+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='dab21725-57c6-42fc-b5dd-61e987048a7a' (Nullable = true), @p8='2025-09-30T17:55:50.2672148+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 23:25:50.914 +05:30 [INF] [CustomAPI:"7907c0b4-0eee-412a-8ff6-540c94b1afc8"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOTgxRTUxMEZGNTY5NUU3QjcwAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 23:25:50.917 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:25:50.919 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 13667.2234ms
2025-09-30 23:25:50.921 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:25:50.923 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 13684.0374ms
2025-09-30 23:25:55.349 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:25:55.353 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:25:55.355 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:25:55.454 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:25:55.458 +05:30 [INF] [CustomAPI:"cbb51863-34a9-4754-9456-d009846735a4"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********5240 template=vaji_amrit_order_deliver
2025-09-30 23:25:55.599 +05:30 [INF] Executed DbCommand (138ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 23:25:55.604 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:55.606 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:25:56.010 +05:30 [INF] Received HTTP response headers after 401.44ms - 200
2025-09-30 23:25:56.013 +05:30 [INF] End processing HTTP request after 408.2401ms - 200
2025-09-30 23:25:56.320 +05:30 [INF] Executed DbCommand (303ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 23:25:56.323 +05:30 [INF] [CustomAPI:"cbb51863-34a9-4754-9456-d009846735a4"] Sending vaji_amrit_order_deliver to ********5240 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 23:25:56.416 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 23:25:56.519 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 23:25:56.523 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 23:26:01.430 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:26:01.439 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:26:01.511 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T17:56:01.4305532+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:26:02.877 +05:30 [INF] Received HTTP response headers after 1436.1302ms - 200
2025-09-30 23:26:02.880 +05:30 [INF] End processing HTTP request after 1449.6632ms - 200
2025-09-30 23:26:03.074 +05:30 [INF] Executed DbCommand (191ms) [Parameters=[@p0='3c72a92a-8380-47ef-bcf2-542fc8201c2f', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T17:56:02.8825786Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T17:56:02.8825786Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 23:26:03.689 +05:30 [INF] Executed DbCommand (609ms) [Parameters=[@__messageLogId_0='3c72a92a-8380-47ef-bcf2-542fc8201c2f', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 23:26:03.765 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@p0='3ede992c-a566-44c5-8be3-5c1c9736f20d', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T17:56:03.6936698+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='3c72a92a-8380-47ef-bcf2-542fc8201c2f' (Nullable = true), @p8='2025-09-30T17:56:03.6936712+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 23:26:03.770 +05:30 [INF] [CustomAPI:"cbb51863-34a9-4754-9456-d009846735a4"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSOUI1MzEyQ0I0ODQzQjA2RTgzAA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 23:26:03.774 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:26:03.777 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 8419.8684ms
2025-09-30 23:26:03.782 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:26:03.784 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 8436.0057ms
2025-09-30 23:26:11.661 +05:30 [INF] Executed DbCommand (141ms) [Parameters=[@__now_0='2025-09-30T17:56:11.5191046+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:26:21.814 +05:30 [INF] Executed DbCommand (135ms) [Parameters=[@__now_0='2025-09-30T17:56:21.6780255+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:26:31.952 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T17:56:31.8289230+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:26:42.090 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T17:56:41.9595188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:26:53.648 +05:30 [INF] Executed DbCommand (1,550ms) [Parameters=[@__now_0='2025-09-30T17:56:52.0976869+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:03.799 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__now_0='2025-09-30T17:57:03.6624035+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:14.006 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@__now_0='2025-09-30T17:57:13.8056362+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:24.183 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[@__now_0='2025-09-30T17:57:24.0187221+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:34.258 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T17:57:34.1839039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:44.371 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T17:57:44.2726448+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:27:54.489 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__now_0='2025-09-30T17:57:54.3865297+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:28:04.734 +05:30 [INF] Executed DbCommand (233ms) [Parameters=[@__now_0='2025-09-30T17:58:04.4999858+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:28:14.865 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__now_0='2025-09-30T17:58:14.7392861+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:28:24.961 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__now_0='2025-09-30T17:58:24.8676318+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:28:44.885 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__now_0='2025-09-30T17:58:34.9667181+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:28:54.964 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T17:58:54.8892287+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:05.187 +05:30 [INF] Executed DbCommand (217ms) [Parameters=[@__now_0='2025-09-30T17:59:04.9694250+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:15.302 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@__now_0='2025-09-30T17:59:15.2016780+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:25.422 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@__now_0='2025-09-30T17:59:25.3098973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:35.502 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T17:59:35.4276782+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:45.614 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@__now_0='2025-09-30T17:59:45.5170000+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:29:55.939 +05:30 [INF] Executed DbCommand (317ms) [Parameters=[@__now_0='2025-09-30T17:59:55.6212449+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:06.085 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:00:05.9530438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:16.314 +05:30 [INF] Executed DbCommand (210ms) [Parameters=[@__now_0='2025-09-30T18:00:16.1029815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:26.554 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@__now_0='2025-09-30T18:00:26.3335301+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:36.794 +05:30 [INF] Executed DbCommand (236ms) [Parameters=[@__now_0='2025-09-30T18:00:36.5578795+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:47.035 +05:30 [INF] Executed DbCommand (234ms) [Parameters=[@__now_0='2025-09-30T18:00:46.8002830+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:30:57.192 +05:30 [INF] Executed DbCommand (145ms) [Parameters=[@__now_0='2025-09-30T18:00:57.0459895+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:07.310 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='2025-09-30T18:01:07.2060808+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:17.447 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__now_0='2025-09-30T18:01:17.3296438+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:27.526 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T18:01:27.4477582+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:37.617 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T18:01:37.5276615+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:47.758 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[@__now_0='2025-09-30T18:01:47.6208466+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:31:57.880 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__now_0='2025-09-30T18:01:57.7641285+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:32:08.033 +05:30 [INF] Executed DbCommand (138ms) [Parameters=[@__now_0='2025-09-30T18:02:07.8948220+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:32:18.172 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T18:02:18.0498883+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:32:20.067 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - application/json 370
2025-09-30 23:32:20.082 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:32:20.083 +05:30 [INF] Route matched with {action = "SendTemplate", controller = "CustomApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendTemplate(xbytechat.api.Features.CustomeApi.DTOs.DirectTemplateSendRequest, System.Threading.CancellationToken) on controller xbytechat.api.Features.CustomeApi.Controllers.CustomApiController (xbytechat.api).
2025-09-30 23:32:20.185 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__req_PhoneNumberId_0='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."BusinessId", w."CreatedAt", w."IsActive", w."IsDefault", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WhatsAppBusinessNumber"
FROM "WhatsAppPhoneNumbers" AS w
WHERE w."IsActive" AND w."PhoneNumberId" = @__req_PhoneNumberId_0
ORDER BY COALESCE(w."UpdatedAt", w."CreatedAt") DESC
LIMIT 1
2025-09-30 23:32:20.189 +05:30 [INF] [CustomAPI:"9dd520f0-22a6-4ede-821b-ecfeee7c6778"] Begin send. biz="bf82072c-69c1-4f8c-be53-ade19d6776a5" pnid=625287680672035 to=********5240 template=vaji_amrit_order_deliver
2025-09-30 23:32:20.267 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."IsActive" AND w."BusinessId" = @__businessId_0
LIMIT 1
2025-09-30 23:32:20.270 +05:30 [INF] Start processing HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:32:20.272 +05:30 [INF] Sending HTTP request GET https://partnersv1.pinbot.ai/v3/1739729380310347/message_templates?limit=200&apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:32:21.281 +05:30 [INF] Received HTTP response headers after 1007.3849ms - 200
2025-09-30 23:32:21.283 +05:30 [INF] End processing HTTP request after 1012.5958ms - 200
2025-09-30 23:32:21.357 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__req_FlowConfigId_Value_0='0c5e1825-c899-41f0-b947-388dbffed015'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "CTAFlowSteps" AS c
WHERE c."CTAFlowConfigId" = @__req_FlowConfigId_Value_0
ORDER BY c."StepOrder"
LIMIT 1
2025-09-30 23:32:21.361 +05:30 [INF] [CustomAPI:"9dd520f0-22a6-4ede-821b-ecfeee7c6778"] Sending vaji_amrit_order_deliver to ********5240 via PINNACLE (PNID=625287680672035) video=true
2025-09-30 23:32:21.435 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE', @__phoneNumberId_2='625287680672035'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "WhatsAppPhoneNumbers" AS w
    WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."PhoneNumberId" = @__phoneNumberId_2)
2025-09-30 23:32:21.517 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__businessId_0='bf82072c-69c1-4f8c-be53-ade19d6776a5', @__provider_1='PINNACLE'], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."ApiKey", w."ApiUrl", w."BusinessId", w."CreatedAt", w."IsActive", w."PhoneNumberId", w."Provider", w."SenderDisplayName", w."UpdatedAt", w."WabaId", w."WebhookCallbackUrl", w."WebhookSecret", w."WebhookVerifyToken", w."WhatsAppBusinessNumber"
FROM "WhatsAppSettings" AS w
WHERE w."BusinessId" = @__businessId_0 AND w."Provider" = @__provider_1 AND w."IsActive"
LIMIT 1
2025-09-30 23:32:21.521 +05:30 [INF] Pinnacle POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd | Headers => apikey:1553... | x-api-key:1553... | Authorization:Apik... | Accept:appl...
2025-09-30 23:32:23.302 +05:30 [INF] Start processing HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:32:23.305 +05:30 [INF] Sending HTTP request POST https://partnersv1.pinbot.ai/v3/625287680672035/messages?apikey=15531d84-1a87-11f0-8cb4-02c8a5e042bd
2025-09-30 23:32:24.732 +05:30 [INF] Received HTTP response headers after 1425.8272ms - 200
2025-09-30 23:32:24.734 +05:30 [INF] End processing HTTP request after 1432.5622ms - 200
2025-09-30 23:32:24.857 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@p0='a8a8a8b7-f138-47ec-855f-ee3ba274d11e', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2='[{"i":0,"position":1,"text":"Yes","type":"QUICK_REPLY","subType":"quick_reply"},{"i":1,"position":2,"text":"No","type":"QUICK_REPLY","subType":"quick_reply"}]', @p3='0c5e1825-c899-41f0-b947-388dbffed015' (Nullable = true), @p4=NULL (DbType = Guid), @p5=NULL (DbType = Guid), @p6=NULL (DbType = Guid), @p7=NULL, @p8=NULL, @p9=NULL (DbType = DateTime), @p10='2025-09-30T18:02:24.7369305Z' (DbType = DateTime), @p11=NULL, @p12=NULL (DbType = Int32), @p13=NULL (DbType = Boolean), @p14='False', @p15='https://whatsappdata.s3.ap-south-1.amazonaws.com/userMedia/dab49080d80c724aad5ebf158d63df41/vde_templ.mp4', @p16='vaji_amrit_order_deliver' (Nullable = false), @p17='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA==', @p18=NULL (DbType = Decimal), @p19=NULL, @p20='PINNACLE', @p21='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA==', @p22='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA==","message_status":"accepted"}]}', @p23='918974005240' (Nullable = false), @p24=NULL (DbType = Guid), @p25=NULL, @p26=NULL (DbType = Guid), @p27='2025-09-30T18:02:24.7369305Z' (Nullable = true) (DbType = DateTime), @p28='custom_api', @p29='Sent' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MessageLogs" ("Id", "BusinessId", "ButtonBundleJson", "CTAFlowConfigId", "CTAFlowStepId", "CampaignId", "ContactId", "ConversationCategory", "ConversationId", "ConversationStartedAt", "CreatedAt", "ErrorMessage", "FlowVersion", "IsChargeable", "IsIncoming", "MediaUrl", "MessageContent", "MessageId", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId", "RawResponse", "RecipientNumber", "RefMessageId", "RenderedBody", "RunId", "SentAt", "Source", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "MessageTime";
2025-09-30 23:32:24.942 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__messageLogId_0='a8a8a8b7-f138-47ec-855f-ee3ba274d11e', @__businessId_1='bf82072c-69c1-4f8c-be53-ade19d6776a5'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."BusinessId", m."ButtonBundleJson", m."CTAFlowConfigId", m."CTAFlowStepId", m."CampaignId", m."ContactId", m."ConversationCategory", m."ConversationId", m."ConversationStartedAt", m."CreatedAt", m."ErrorMessage", m."FlowVersion", m."IsChargeable", m."IsIncoming", m."MediaUrl", m."MessageContent", m."MessageId", m."MessageTime", m."PriceAmount", m."PriceCurrency", m."Provider", m."ProviderMessageId", m."RawResponse", m."RecipientNumber", m."RefMessageId", m."RenderedBody", m."RunId", m."SentAt", m."Source", m."Status"
FROM "MessageLogs" AS m
WHERE m."Id" = @__messageLogId_0 AND m."BusinessId" = @__businessId_1
LIMIT 1
2025-09-30 23:32:25.029 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@p0='5bab5b3c-8022-42ca-9083-bf60e44d7bad', @p1='bf82072c-69c1-4f8c-be53-ade19d6776a5', @p2=NULL, @p3=NULL, @p4='2025-09-30T18:02:24.9460761+00:00' (DbType = DateTime), @p5='send_response' (Nullable = false), @p6=NULL (DbType = Boolean), @p7='a8a8a8b7-f138-47ec-855f-ee3ba274d11e' (Nullable = true), @p8='2025-09-30T18:02:24.9460778+00:00' (DbType = DateTime), @p9='{"messaging_product":"whatsapp","contacts":[{"input":"918974005240","wa_id":"918974005240"}],"messages":[{"id":"wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA==","message_status":"accepted"}]}' (Nullable = false), @p10=NULL (DbType = Decimal), @p11=NULL, @p12='PINNACLE' (Nullable = false), @p13='wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA=='], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProviderBillingEvents" ("Id", "BusinessId", "ConversationCategory", "ConversationId", "CreatedAt", "EventType", "IsChargeable", "MessageLogId", "OccurredAt", "PayloadJson", "PriceAmount", "PriceCurrency", "Provider", "ProviderMessageId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-09-30 23:32:25.033 +05:30 [INF] [CustomAPI:"9dd520f0-22a6-4ede-821b-ecfeee7c6778"] Done. success=true msgId=wamid.HBgMOTE4OTc0MDA1MjQwFQIAERgSQ0I0RjExQjNCQjQ0MDREQUE2AA== flow="0c5e1825-c899-41f0-b947-388dbffed015" step=null
2025-09-30 23:32:25.036 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-09-30 23:32:25.037 +05:30 [INF] Executed action xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api) in 4951.5349ms
2025-09-30 23:32:25.040 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CustomeApi.Controllers.CustomApiController.SendTemplate (xbytechat.api)'
2025-09-30 23:32:25.042 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/custom/sendflow - 200 null application/json; charset=utf-8 4976.3004ms
2025-09-30 23:32:28.256 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T18:02:28.1752880+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:32:39.807 +05:30 [INF] Executed DbCommand (1,538ms) [Parameters=[@__now_0='2025-09-30T18:02:38.2684157+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:32:49.916 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T18:02:49.8420838+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:00.157 +05:30 [INF] Executed DbCommand (237ms) [Parameters=[@__now_0='2025-09-30T18:02:59.9195851+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:10.397 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@__now_0='2025-09-30T18:03:10.1764865+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:20.739 +05:30 [INF] Executed DbCommand (328ms) [Parameters=[@__now_0='2025-09-30T18:03:20.4099311+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:30.877 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T18:03:30.7433530+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:41.118 +05:30 [INF] Executed DbCommand (224ms) [Parameters=[@__now_0='2025-09-30T18:03:40.8936135+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:33:59.534 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T18:03:51.1213017+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:34:09.623 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__now_0='2025-09-30T18:04:09.5483360+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:34:19.723 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T18:04:19.6374036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:34:29.860 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:04:29.7290524+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:34:39.999 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T18:04:39.8637178+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:34:50.245 +05:30 [INF] Executed DbCommand (237ms) [Parameters=[@__now_0='2025-09-30T18:04:50.0074165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:00.366 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__now_0='2025-09-30T18:05:00.2503778+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:10.460 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__now_0='2025-09-30T18:05:10.3734226+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:20.652 +05:30 [INF] Executed DbCommand (181ms) [Parameters=[@__now_0='2025-09-30T18:05:20.4711796+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:30.790 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:05:30.6577123+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:41.848 +05:30 [INF] Executed DbCommand (1,044ms) [Parameters=[@__now_0='2025-09-30T18:05:40.8036407+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:35:51.972 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@__now_0='2025-09-30T18:05:51.8642372+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:02.125 +05:30 [INF] Executed DbCommand (145ms) [Parameters=[@__now_0='2025-09-30T18:06:01.9799548+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:12.233 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@__now_0='2025-09-30T18:06:12.1370750+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:22.317 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__now_0='2025-09-30T18:06:22.2477749+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:32.435 +05:30 [INF] Executed DbCommand (109ms) [Parameters=[@__now_0='2025-09-30T18:06:32.3248209+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:42.566 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__now_0='2025-09-30T18:06:42.4444953+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:36:52.710 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T18:06:52.5796681+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:02.849 +05:30 [INF] Executed DbCommand (128ms) [Parameters=[@__now_0='2025-09-30T18:07:02.7200973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:12.986 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T18:07:12.8632292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:23.079 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T18:07:22.9977734+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:33.159 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T18:07:33.0799876+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:43.298 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__now_0='2025-09-30T18:07:43.1728165+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:37:53.500 +05:30 [INF] Executed DbCommand (186ms) [Parameters=[@__now_0='2025-09-30T18:07:53.3131064+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:03.675 +05:30 [INF] Executed DbCommand (167ms) [Parameters=[@__now_0='2025-09-30T18:08:03.5077077+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:13.813 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__now_0='2025-09-30T18:08:13.6792173+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:23.913 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T18:08:23.8226258+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:34.088 +05:30 [INF] Executed DbCommand (162ms) [Parameters=[@__now_0='2025-09-30T18:08:33.9253601+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:44.169 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__now_0='2025-09-30T18:08:44.0904947+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:38:54.366 +05:30 [INF] Executed DbCommand (183ms) [Parameters=[@__now_0='2025-09-30T18:08:54.1823775+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:39:12.592 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T18:09:04.3840444+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:39:22.720 +05:30 [INF] Executed DbCommand (116ms) [Parameters=[@__now_0='2025-09-30T18:09:22.6036950+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:39:33.289 +05:30 [INF] Executed DbCommand (555ms) [Parameters=[@__now_0='2025-09-30T18:09:32.7341188+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:39:43.402 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__now_0='2025-09-30T18:09:43.3073653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:39:53.865 +05:30 [INF] Executed DbCommand (453ms) [Parameters=[@__now_0='2025-09-30T18:09:53.4119396+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:03.998 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T18:10:03.8757163+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:14.238 +05:30 [INF] Executed DbCommand (225ms) [Parameters=[@__now_0='2025-09-30T18:10:14.0124039+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:24.491 +05:30 [INF] Executed DbCommand (110ms) [Parameters=[@__now_0='2025-09-30T18:10:24.3807361+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:34.603 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T18:10:34.5019382+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:44.768 +05:30 [INF] Executed DbCommand (158ms) [Parameters=[@__now_0='2025-09-30T18:10:44.6095920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:40:55.071 +05:30 [INF] Executed DbCommand (303ms) [Parameters=[@__now_0='2025-09-30T18:10:54.7676920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:05.241 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[@__now_0='2025-09-30T18:11:05.0754614+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:15.474 +05:30 [INF] Executed DbCommand (221ms) [Parameters=[@__now_0='2025-09-30T18:11:15.2528159+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:25.612 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__now_0='2025-09-30T18:11:25.4916320+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:35.703 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T18:11:35.6175902+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:46.195 +05:30 [INF] Executed DbCommand (487ms) [Parameters=[@__now_0='2025-09-30T18:11:45.7075648+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:41:56.333 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__now_0='2025-09-30T18:11:56.2110815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:06.476 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T18:12:06.3456985+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:16.608 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__now_0='2025-09-30T18:12:16.4804122+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:26.753 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:12:26.6222625+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:36.892 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T18:12:36.7628969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:47.008 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='2025-09-30T18:12:46.9047245+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:42:57.158 +05:30 [INF] Executed DbCommand (145ms) [Parameters=[@__now_0='2025-09-30T18:12:57.0131675+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:07.297 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__now_0='2025-09-30T18:13:07.1786000+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:17.557 +05:30 [INF] Executed DbCommand (256ms) [Parameters=[@__now_0='2025-09-30T18:13:17.3012536+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:27.642 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T18:13:27.5613537+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:37.784 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T18:13:37.6692210+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:47.949 +05:30 [INF] Executed DbCommand (150ms) [Parameters=[@__now_0='2025-09-30T18:13:47.7984776+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:43:58.036 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T18:13:57.9591018+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:44:08.227 +05:30 [INF] Executed DbCommand (182ms) [Parameters=[@__now_0='2025-09-30T18:14:08.0439593+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:44:26.453 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__now_0='2025-09-30T18:14:18.2395798+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:44:36.591 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T18:14:36.4560473+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:44:46.728 +05:30 [INF] Executed DbCommand (135ms) [Parameters=[@__now_0='2025-09-30T18:14:46.5929500+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:44:56.867 +05:30 [INF] Executed DbCommand (115ms) [Parameters=[@__now_0='2025-09-30T18:14:56.7518416+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:07.012 +05:30 [INF] Executed DbCommand (142ms) [Parameters=[@__now_0='2025-09-30T18:15:06.8689082+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:17.094 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__now_0='2025-09-30T18:15:17.0178036+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:27.280 +05:30 [INF] Executed DbCommand (178ms) [Parameters=[@__now_0='2025-09-30T18:15:27.1020676+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:37.418 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T18:15:37.2876139+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:47.556 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__now_0='2025-09-30T18:15:47.4283697+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:45:57.693 +05:30 [INF] Executed DbCommand (134ms) [Parameters=[@__now_0='2025-09-30T18:15:57.5592942+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:07.933 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@__now_0='2025-09-30T18:16:07.7121332+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:18.072 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__now_0='2025-09-30T18:16:17.9380436+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:28.209 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__now_0='2025-09-30T18:16:28.0811654+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:38.346 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T18:16:38.2168013+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:48.484 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:16:48.3522070+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:46:58.622 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__now_0='2025-09-30T18:16:58.4950802+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:47:08.760 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__now_0='2025-09-30T18:17:08.6277109+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:47:19.508 +05:30 [INF] Executed DbCommand (721ms) [Parameters=[@__now_0='2025-09-30T18:17:18.7858854+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:47:29.996 +05:30 [INF] Executed DbCommand (475ms) [Parameters=[@__now_0='2025-09-30T18:17:29.5204376+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:47:40.095 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T18:17:39.9938791+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:47:50.233 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__now_0='2025-09-30T18:17:50.0957357+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:00.678 +05:30 [INF] Executed DbCommand (432ms) [Parameters=[@__now_0='2025-09-30T18:18:00.2457613+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:10.825 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__now_0='2025-09-30T18:18:10.6870919+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:21.230 +05:30 [INF] Executed DbCommand (407ms) [Parameters=[@__now_0='2025-09-30T18:18:20.8225273+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:31.455 +05:30 [INF] Executed DbCommand (167ms) [Parameters=[@__now_0='2025-09-30T18:18:31.2878567+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:41.574 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__now_0='2025-09-30T18:18:41.4688476+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:48:51.674 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__now_0='2025-09-30T18:18:51.5925781+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:49:01.914 +05:30 [INF] Executed DbCommand (232ms) [Parameters=[@__now_0='2025-09-30T18:19:01.6819900+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:49:12.119 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@__now_0='2025-09-30T18:19:11.9188309+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:49:22.378 +05:30 [INF] Executed DbCommand (247ms) [Parameters=[@__now_0='2025-09-30T18:19:22.1309779+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:49:40.998 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[@__now_0='2025-09-30T18:19:32.3940756+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:49:51.871 +05:30 [INF] Executed DbCommand (862ms) [Parameters=[@__now_0='2025-09-30T18:19:51.0083636+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:02.023 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@__now_0='2025-09-30T18:20:01.9261380+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:12.158 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T18:20:12.0273452+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:22.300 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T18:20:22.1703523+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:32.441 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__now_0='2025-09-30T18:20:32.3186742+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:42.560 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[@__now_0='2025-09-30T18:20:42.4453966+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:50:53.221 +05:30 [INF] Executed DbCommand (654ms) [Parameters=[@__now_0='2025-09-30T18:20:52.5661591+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:03.363 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__now_0='2025-09-30T18:21:03.2499233+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:13.603 +05:30 [INF] Executed DbCommand (229ms) [Parameters=[@__now_0='2025-09-30T18:21:13.3728518+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:23.957 +05:30 [INF] Executed DbCommand (338ms) [Parameters=[@__now_0='2025-09-30T18:21:23.6187235+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:34.185 +05:30 [INF] Executed DbCommand (221ms) [Parameters=[@__now_0='2025-09-30T18:21:33.9643806+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:44.287 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T18:21:44.2003248+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:51:54.386 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__now_0='2025-09-30T18:21:54.3011334+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:04.497 +05:30 [INF] Executed DbCommand (105ms) [Parameters=[@__now_0='2025-09-30T18:22:04.3911100+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:14.702 +05:30 [INF] Executed DbCommand (192ms) [Parameters=[@__now_0='2025-09-30T18:22:14.5096510+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:24.875 +05:30 [INF] Executed DbCommand (165ms) [Parameters=[@__now_0='2025-09-30T18:22:24.7092920+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:39.491 +05:30 [INF] Executed DbCommand (4,603ms) [Parameters=[@__now_0='2025-09-30T18:22:34.8874186+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:49.593 +05:30 [INF] Executed DbCommand (96ms) [Parameters=[@__now_0='2025-09-30T18:22:49.4963969+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:52:59.794 +05:30 [INF] Executed DbCommand (196ms) [Parameters=[@__now_0='2025-09-30T18:22:59.5978189+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:53:09.899 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__now_0='2025-09-30T18:23:09.8091162+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:53:20.207 +05:30 [INF] Executed DbCommand (288ms) [Parameters=[@__now_0='2025-09-30T18:23:19.9183653+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:53:30.513 +05:30 [INF] Executed DbCommand (303ms) [Parameters=[@__now_0='2025-09-30T18:23:30.2097620+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:53:41.497 +05:30 [INF] Executed DbCommand (973ms) [Parameters=[@__now_0='2025-09-30T18:23:40.5233810+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:53:51.610 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__now_0='2025-09-30T18:23:51.5124930+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:54:02.565 +05:30 [INF] Executed DbCommand (945ms) [Parameters=[@__now_0='2025-09-30T18:24:01.6202622+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:54:13.423 +05:30 [INF] Executed DbCommand (860ms) [Parameters=[@__now_0='2025-09-30T18:24:12.5623134+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:54:23.678 +05:30 [INF] Executed DbCommand (240ms) [Parameters=[@__now_0='2025-09-30T18:24:23.4380717+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:54:33.797 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__now_0='2025-09-30T18:24:33.6799129+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:54:51.975 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__now_0='2025-09-30T18:24:43.8055565+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:02.164 +05:30 [INF] Executed DbCommand (176ms) [Parameters=[@__now_0='2025-09-30T18:25:01.9873956+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:12.403 +05:30 [INF] Executed DbCommand (235ms) [Parameters=[@__now_0='2025-09-30T18:25:12.1676578+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:22.580 +05:30 [INF] Executed DbCommand (159ms) [Parameters=[@__now_0='2025-09-30T18:25:22.4206157+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:32.679 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__now_0='2025-09-30T18:25:32.5836800+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:42.829 +05:30 [INF] Executed DbCommand (142ms) [Parameters=[@__now_0='2025-09-30T18:25:42.6870125+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:55:52.954 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__now_0='2025-09-30T18:25:52.8355099+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:03.194 +05:30 [INF] Executed DbCommand (235ms) [Parameters=[@__now_0='2025-09-30T18:26:02.9588257+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:13.333 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__now_0='2025-09-30T18:26:13.1992477+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:23.435 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__now_0='2025-09-30T18:26:23.3374388+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:33.535 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__now_0='2025-09-30T18:26:33.4484315+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:43.644 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__now_0='2025-09-30T18:26:43.5425815+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:56:53.781 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T18:26:53.6500570+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:03.949 +05:30 [INF] Executed DbCommand (154ms) [Parameters=[@__now_0='2025-09-30T18:27:03.7944305+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:14.159 +05:30 [INF] Executed DbCommand (202ms) [Parameters=[@__now_0='2025-09-30T18:27:13.9562469+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:24.297 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__now_0='2025-09-30T18:27:24.1746078+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:34.435 +05:30 [INF] Executed DbCommand (128ms) [Parameters=[@__now_0='2025-09-30T18:27:34.3059187+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:44.527 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__now_0='2025-09-30T18:27:44.4377801+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:57:54.711 +05:30 [INF] Executed DbCommand (179ms) [Parameters=[@__now_0='2025-09-30T18:27:54.5319256+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:05.021 +05:30 [INF] Executed DbCommand (292ms) [Parameters=[@__now_0='2025-09-30T18:28:04.7292960+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:15.190 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__now_0='2025-09-30T18:28:15.0330255+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:25.329 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__now_0='2025-09-30T18:28:25.2002292+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:35.412 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__now_0='2025-09-30T18:28:35.3361362+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:45.504 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@__now_0='2025-09-30T18:28:45.4246650+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:58:55.645 +05:30 [INF] Executed DbCommand (130ms) [Parameters=[@__now_0='2025-09-30T18:28:55.5147246+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:59:05.757 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__now_0='2025-09-30T18:29:05.6542839+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:59:16.119 +05:30 [INF] Executed DbCommand (348ms) [Parameters=[@__now_0='2025-09-30T18:29:15.7707972+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:59:26.212 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@__now_0='2025-09-30T18:29:26.1268811+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:59:36.279 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__now_0='2025-09-30T18:29:36.2196369+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
2025-09-30 23:59:48.383 +05:30 [INF] Executed DbCommand (2,099ms) [Parameters=[@__now_0='2025-09-30T18:29:46.2837973+00:00' (DbType = DateTime), @__p_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Attempt", o."BusinessId", o."CampaignId", o."CreatedAt", o."LastError", o."MaxAttempts", o."NextAttemptAt", o."Status", o."UpdatedAt"
FROM "OutboundCampaignJobs" AS o
WHERE o."Status" = 'queued' AND o."NextAttemptAt" <= @__now_0
ORDER BY o."NextAttemptAt", o."CreatedAt"
LIMIT @__p_1
